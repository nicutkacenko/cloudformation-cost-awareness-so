{"Id": "67465246", "PostTypeId": "1", "CreationDate": "2021-05-10T05:36:10.117", "Score": "6", "ViewCount": "5157", "Body": "<p>Trying to create an RDS aurora server less with MySQL 2.07.1\nand got an error <strong>&quot;The engine mode serverless you requested is currently unavailable. (Service: AmazonRDS; Status Code: 400; Error Code: InvalidParameterValue; Request ID: xxxx; Proxy: null)&quot;</strong></p>\n<p>Any suggestions would help me a lot</p>\n<p>here is the sample code</p>\n<pre><code>{\n  &quot;AWSTemplateFormatVersion&quot; : &quot;2010-09-09&quot;,\n\n\n  &quot;Description&quot; : &quot;AWS CloudFormation Sample Template AuroraServerlessDBCluster: Sample template showing how to create an Amazon Aurora Serverless DB cluster. **WARNING** This template creates an Amazon Aurora DB cluster. You will be billed for the AWS resources used if you create a stack from this template.&quot;,\n\n\n  &quot;Parameters&quot; : {\n      &quot;DBUsername&quot; : {\n        &quot;NoEcho&quot; : &quot;true&quot;,\n        &quot;Description&quot; : &quot;Username for MySQL database access&quot;,\n\n        &quot;Type&quot; : &quot;String&quot;,\n        &quot;MinLength&quot; : &quot;1&quot;,\n        &quot;MaxLength&quot; : &quot;16&quot;,\n        &quot;AllowedPattern&quot; : &quot;[a-zA-Z][a-zA-Z0-9]*&quot;,\n        &quot;ConstraintDescription&quot; : &quot;must begin with a letter and contain only alphanumeric characters.&quot;\n      },\n      &quot;DBPassword&quot; : {\n        &quot;NoEcho&quot; : &quot;true&quot;,\n        &quot;Description&quot; : &quot;Password MySQL database access&quot;,\n\n        &quot;Type&quot; : &quot;String&quot;,\n        &quot;MinLength&quot; : &quot;8&quot;,\n\n        &quot;MaxLength&quot; : &quot;41&quot;,\n        &quot;AllowedPattern&quot; : &quot;[a-zA-Z0-9]*&quot;,\n        &quot;ConstraintDescription&quot; : &quot;must contain only alphanumeric characters.&quot;\n      }\n  },\n\n  &quot;Resources&quot; : {\n      &quot;RDSCluster&quot; : {\n          &quot;Type&quot;: &quot;AWS::RDS::DBCluster&quot;,\n          &quot;Properties&quot; : {\n              &quot;MasterUsername&quot; : {\n                  &quot;Ref&quot;: &quot;DBUsername&quot;\n              },\n              &quot;MasterUserPassword&quot; : {\n                  &quot;Ref&quot;: &quot;DBPassword&quot;\n              },\n              &quot;DBClusterIdentifier&quot; : &quot;my-serverless-cluster&quot;,\n              &quot;Engine&quot; : &quot;aurora&quot;,\n              &quot;EngineVersion&quot; : &quot;2.07.1&quot;,\n              &quot;EngineMode&quot; : &quot;serverless&quot;,\n              &quot;ScalingConfiguration&quot; : {\n                  &quot;AutoPause&quot; : true,\n                  &quot;MinCapacity&quot; : 4,\n                  &quot;MaxCapacity&quot; : 32,\n                  &quot;SecondsUntilAutoPause&quot; : 1000\n              }\n          }\n      }\n  }\n}\n</code></pre>\n", "OwnerUserId": "13687031", "LastActivityDate": "2022-10-05T09:00:35.933", "Title": "The engine mode serverless you requested is currently unavailable with 5.7 (2.07.1)", "Tags": "|amazon-web-services|aws-cloudformation|amazon-rds|aws-aurora-serverless|", "AnswerCount": "3", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "246289678", "PostHistoryTypeId": "2", "PostId": "67465246", "RevisionGUID": "c15d2df6-4393-4cc3-9b18-85588871e56e", "CreationDate": "2021-05-10T05:36:10.117", "UserId": "13687031", "Text": "Trying to create an RDS aurora server less with MySQL 2.07.1\r\nand got an error **\"The engine mode serverless you requested is currently unavailable. (Service: AmazonRDS; Status Code: 400; Error Code: InvalidParameterValue; Request ID: xxxx; Proxy: null)\"**\r\n\r\nAny suggestions would help me a lot\r\n\r\nhere is the sample code\r\n\r\n```\r\n{\r\n  \"AWSTemplateFormatVersion\" : \"2010-09-09\",\r\n\r\n\r\n  \"Description\" : \"AWS CloudFormation Sample Template AuroraServerlessDBCluster: Sample template showing how to create an Amazon Aurora Serverless DB cluster. **WARNING** This template creates an Amazon Aurora DB cluster. You will be billed for the AWS resources used if you create a stack from this template.\",\r\n\r\n\r\n  \"Parameters\" : {\r\n      \"DBUsername\" : {\r\n        \"NoEcho\" : \"true\",\r\n        \"Description\" : \"Username for MySQL database access\",\r\n\r\n        \"Type\" : \"String\",\r\n        \"MinLength\" : \"1\",\r\n        \"MaxLength\" : \"16\",\r\n        \"AllowedPattern\" : \"[a-zA-Z][a-zA-Z0-9]*\",\r\n        \"ConstraintDescription\" : \"must begin with a letter and contain only alphanumeric characters.\"\r\n      },\r\n      \"DBPassword\" : {\r\n        \"NoEcho\" : \"true\",\r\n        \"Description\" : \"Password MySQL database access\",\r\n\r\n        \"Type\" : \"String\",\r\n        \"MinLength\" : \"8\",\r\n\r\n        \"MaxLength\" : \"41\",\r\n        \"AllowedPattern\" : \"[a-zA-Z0-9]*\",\r\n        \"ConstraintDescription\" : \"must contain only alphanumeric characters.\"\r\n      }\r\n  },\r\n\r\n  \"Resources\" : {\r\n      \"RDSCluster\" : {\r\n          \"Type\": \"AWS::RDS::DBCluster\",\r\n          \"Properties\" : {\r\n              \"MasterUsername\" : {\r\n                  \"Ref\": \"DBUsername\"\r\n              },\r\n              \"MasterUserPassword\" : {\r\n                  \"Ref\": \"DBPassword\"\r\n              },\r\n              \"DBClusterIdentifier\" : \"my-serverless-cluster\",\r\n              \"Engine\" : \"aurora\",\r\n              \"EngineVersion\" : \"2.07.1\",\r\n              \"EngineMode\" : \"serverless\",\r\n              \"ScalingConfiguration\" : {\r\n                  \"AutoPause\" : true,\r\n                  \"MinCapacity\" : 4,\r\n                  \"MaxCapacity\" : 32,\r\n                  \"SecondsUntilAutoPause\" : 1000\r\n              }\r\n          }\r\n      }\r\n  }\r\n}\r\n```", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Trying to create an RDS aurora server less with MySQL 2.07.1 and got an error **\"The engine mode serverless you requested is currently unavailable. (Service: AmazonRDS; Status Code: 400; Error Code: InvalidParameterValue; Request ID: xxxx; Proxy: null)\"** Any suggestions would help me a lot here is the sample code ``` { \"AWSTemplateFormatVersion\" : \"2010-09-09\", \"Description\" : \"AWS CloudFormation Sample Template AuroraServerlessDBCluster: Sample template showing how to create an Amazon Aurora Serverless DB cluster. ", "keywords": ["billing mode", "cluster"]}, {"source": "Text", "text": "This template creates an Amazon Aurora DB cluster. ", "keywords": ["cluster"]}, {"source": "Text", "text": "You will be billed for the AWS resources used if you create a stack from this template.\", \"Parameters\" : { \"DBUsername\" : { \"NoEcho\" : \"true\", \"Description\" : \"Username for MySQL database access\", \"Type\" : \"String\", \"MinLength\" : \"1\", \"MaxLength\" : \"16\", \"AllowedPattern\" : \"[a-zA-Z][a-zA-Z0-9]*\", \"ConstraintDescription\" : \"must begin with a letter and contain only alphanumeric characters.\" }, \"DBPassword\" : { \"NoEcho\" : \"true\", \"Description\" : \"Password MySQL database access\", \"Type\" : \"String\", \"MinLength\" : \"8\", \"MaxLength\" : \"41\", \"AllowedPattern\" : \"[a-zA-Z0-9]*\", \"ConstraintDescription\" : \"must contain only alphanumeric characters.\" } }, \"Resources\" : { \"RDSCluster\" : { \"Type\": \"AWS::RDS::DBCluster\", \"Properties\" : { \"MasterUsername\" : { \"Ref\": \"DBUsername\" ", "keywords": ["bill"]}, {"source": "Text", "text": "}, \"DBClusterIdentifier\" : \"my-serverless-cluster\", \"Engine\" : \"aurora\", \"EngineVersion\" : \"2.07.1\", \"EngineMode\" : \"serverless\", \"ScalingConfiguration\" : { \"AutoPause\" : true, \"MinCapacity\" : 4, \"MaxCapacity\" : 32, \"SecondsUntilAutoPause\" : 1000 } ", "keywords": ["cluster"]}]}, {"Id": "246289679", "PostHistoryTypeId": "1", "PostId": "67465246", "RevisionGUID": "c15d2df6-4393-4cc3-9b18-85588871e56e", "CreationDate": "2021-05-10T05:36:10.117", "UserId": "13687031", "Text": "The engine mode serverless you requested is currently unavailable with 5.7 (2.07.1)", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "The engine mode serverless you requested is currently unavailable with 5.7 (2.07.1)", "keywords": ["billing mode"]}]}, {"Id": "246289680", "PostHistoryTypeId": "3", "PostId": "67465246", "RevisionGUID": "c15d2df6-4393-4cc3-9b18-85588871e56e", "CreationDate": "2021-05-10T05:36:10.117", "UserId": "13687031", "Text": "|amazon-web-services|aws-cloudformation|amazon-rds|aws-aurora-serverless|", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "73958081", "PostTypeId": "2", "ParentId": "67465246", "CreationDate": "2022-10-05T09:00:35.933", "Score": "5", "Body": "<p>To see which versions are available in <code>serverless</code> mode, run this:</p>\n<pre><code>aws rds describe-db-engine-versions --engine aurora-mysql --filters Name=engine-mode,Values=serverless\n</code></pre>\n<p>And if you want to understand which DB versions are available according to the engine mode, just remove the filter:</p>\n<pre><code>aws rds describe-db-engine-versions --engine aurora-mysql\n</code></pre>\n<p>This way you will see what is possible in <code>serverless</code> or <code>provisioned</code> mode, and the supported DB versions for each.</p>\n<p>Especially the <code>SupportedEngineModes</code> blocks which generally look like:</p>\n<pre><code>&quot;SupportedEngineModes&quot;: [\n   &quot;serverless&quot;\n]\n</code></pre>\n<p>Or</p>\n<pre><code>&quot;SupportedEngineModes&quot;: [\n   &quot;provisioned&quot;\n]\n</code></pre>\n", "OwnerUserId": "2018043", "LastActivityDate": "2022-10-05T09:00:35.933", "CommentCount": "1", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "279514471", "PostHistoryTypeId": "2", "PostId": "73958081", "RevisionGUID": "39ede996-0838-4e4a-acb8-6e1f18135f8d", "CreationDate": "2022-10-05T09:00:35.933", "UserId": "2018043", "Text": "To see which versions are available in `serverless` mode, run this:\r\n\r\n    aws rds describe-db-engine-versions --engine aurora-mysql --filters Name=engine-mode,Values=serverless\r\nAnd if you want to understand which DB versions are available according to the engine mode, just remove the filter:\r\n\r\n    aws rds describe-db-engine-versions --engine aurora-mysql\r\nThis way you will see what is possible in `serverless` or `provisioned` mode, and the supported DB versions for each.\r\n\r\nEspecially the `SupportedEngineModes` blocks which generally look like:\r\n\r\n    \"SupportedEngineModes\": [\r\n       \"serverless\"\r\n    ]\r\nOr\r\n\r\n    \"SupportedEngineModes\": [\r\n       \"provisioned\"\r\n    ]", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "To see which versions are available in `serverless` mode, run this: aws rds describe-db-engine-versions --engine aurora-mysql --filters Name=engine-mode,Values=serverless ", "keywords": ["billing mode"]}, {"source": "Text", "text": "And if you want to understand which DB versions are available according to the engine mode, just remove the filter: aws rds describe-db-engine-versions --engine aurora-mysql ", "keywords": ["billing mode"]}, {"source": "Text", "text": "This way you will see what is possible in `serverless` or `provisioned` mode, and the supported DB versions for each. ", "keywords": ["billing mode"]}]}], "filtered-sentences": [{"source": "Body", "text": "To see which versions are available in serverless mode, run this: And if you want to understand which DB versions are available according to the engine mode, just remove the filter: ", "keywords": ["billing mode"]}, {"source": "Body", "text": "This way you will see what is possible in serverless or provisioned mode, and the supported DB versions for each. ", "keywords": ["billing mode"]}]}, {"Id": "67505819", "PostTypeId": "2", "ParentId": "67465246", "CreationDate": "2021-05-12T14:39:31.263", "Score": "2", "Body": "<p>You are trying to create RDS aurora serverless with Aurora MySQL 2.07.1 which is MySQL 5.7 version[+] <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Updates.Versions.html\" rel=\"nofollow noreferrer\">a link</a>.\nLooking into the above code and template parameters, I can see that the &quot;Engine&quot; parameter you have is &quot;aurora&quot; and it should be &quot;aurora-mysql&quot;  for the MySQL 5.7 version [+] (<a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-dbcluster.html#cfn-rds-dbcluster-engine\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-dbcluster.html#cfn-rds-dbcluster-engine</a>).</p>\n", "OwnerUserId": "15907568", "LastActivityDate": "2021-05-12T14:39:31.263", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "246459739", "PostHistoryTypeId": "2", "PostId": "67505819", "RevisionGUID": "cd883430-14cb-4581-a2af-98e365641db8", "CreationDate": "2021-05-12T14:39:31.263", "UserId": "15907568", "Text": "You are trying to create RDS aurora serverless with Aurora MySQL 2.07.1 which is MySQL 5.7 version[+] [a link](https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Updates.Versions.html). \r\nLooking into the above code and template parameters, I can see that the \"Engine\" parameter you have is \"aurora\" and it should be \"aurora-mysql\"  for the MySQL 5.7 version [+] (https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-dbcluster.html#cfn-rds-dbcluster-engine).\r\n\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}, {"Id": "69414550", "PostTypeId": "2", "ParentId": "67465246", "CreationDate": "2021-10-02T06:29:12.707", "Score": "0", "Body": "<p>I think I used the same <a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-dbcluster.html#aws-resource-rds-dbcluster--examples\" rel=\"nofollow noreferrer\">example from the docs</a>, I made the same mistake when trying to use MySQL 5.7 instead of 5.6 from the example, and inevitably ran into the same issue.</p>\n<p>The solution was to set:</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;Engine&quot;: &quot;aurora-mysql&quot;,\n    &quot;EngineVersion&quot;: &quot;5.7.mysql_aurora.2.07.1&quot;\n</code></pre>\n<h1>How did I figure that out?</h1>\n<p>From further up in the same doc:</p>\n<blockquote>\n<p>Engine</p>\n<p>The name of the database engine to be used for this DB cluster.</p>\n<p>Valid Values: aurora (for MySQL 5.6-compatible Aurora), aurora-mysql (for MySQL 5.7-compatible Aurora), and aurora-postgresql</p>\n</blockquote>\n<p>Also from the same doc:</p>\n<blockquote>\n<p>EngineVersion</p>\n<p>The version number of the database engine to use.</p>\n<p>...</p>\n<p>To list all of the available engine versions for aurora-mysql (for MySQL 5.7-compatible Aurora), use the following command:</p>\n<pre><code>aws rds describe-db-engine-versions --engine aurora-mysql --query &quot;DBEngineVersions[].EngineVersion&quot;\n</code></pre>\n</blockquote>\n<p>Running that command using the AWS CLI yields something like:</p>\n<pre><code>[\n    ...\n    &quot;5.7.mysql_aurora.2.06.0&quot;,\n    &quot;5.7.mysql_aurora.2.07.0&quot;,\n    &quot;5.7.mysql_aurora.2.07.1&quot;,\n    &quot;5.7.mysql_aurora.2.07.1&quot;,\n    &quot;5.7.mysql_aurora.2.07.2&quot;,\n    &quot;5.7.mysql_aurora.2.07.3&quot;,\n    ...\n]\n</code></pre>\n<p>This lead me to believe the we needed to use the <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Updates.Versions.html\" rel=\"nofollow noreferrer\">full Aurora MySQL version number</a>.</p>\n", "OwnerUserId": "2079501", "LastActivityDate": "2021-10-02T06:29:12.707", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "254969967", "PostHistoryTypeId": "2", "PostId": "69414550", "RevisionGUID": "aa7290b4-863e-4753-8711-ee63b4765399", "CreationDate": "2021-10-02T06:29:12.707", "UserId": "2079501", "Text": "I think I used the same [example from the docs][1], I made the same mistake when trying to use MySQL 5.7 instead of 5.6 from the example, and inevitably ran into the same issue.\r\n\r\nThe solution was to set:\r\n\r\n```json\r\n    \"Engine\": \"aurora-mysql\",\r\n    \"EngineVersion\": \"5.7.mysql_aurora.2.07.1\"\r\n```\r\n\r\n# How did I figure that out?\r\n\r\nFrom further up in the same doc:\r\n\r\n> Engine\r\n>\r\n> The name of the database engine to be used for this DB cluster.\r\n>\r\n> Valid Values: aurora (for MySQL 5.6-compatible Aurora), aurora-mysql (for MySQL 5.7-compatible Aurora), and aurora-postgresql\r\n\r\nAlso from the same doc:\r\n\r\n> EngineVersion\r\n>\r\n> The version number of the database engine to use.\r\n>\r\n> ...\r\n>\r\n> To list all of the available engine versions for aurora-mysql (for MySQL 5.7-compatible Aurora), use the following command:\r\n>\r\n>     aws rds describe-db-engine-versions --engine aurora-mysql --query \"DBEngineVersions[].EngineVersion\"\r\n\r\nRunning that command using the AWS CLI yields something like:\r\n\r\n```\r\n[\r\n    ...\r\n    \"5.7.mysql_aurora.2.06.0\",\r\n    \"5.7.mysql_aurora.2.07.0\",\r\n    \"5.7.mysql_aurora.2.07.1\",\r\n    \"5.7.mysql_aurora.2.07.1\",\r\n    \"5.7.mysql_aurora.2.07.2\",\r\n    \"5.7.mysql_aurora.2.07.3\",\r\n    ...\r\n]\r\n```\r\n\r\nThis lead me to believe the we needed to use the [full Aurora MySQL version number][2].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-dbcluster.html#aws-resource-rds-dbcluster--examples\r\n  [2]: https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Updates.Versions.html", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "From further up in the same doc: > Engine > > The name of the database engine to be used for this DB cluster. > > Valid Values: aurora (for MySQL 5.6-compatible Aurora), aurora-mysql (for MySQL 5.7-compatible Aurora), and aurora-postgresql ", "keywords": ["cluster"]}]}], "filtered-sentences": [{"source": "Body", "text": "The name of the database engine to be used for this DB cluster. ", "keywords": ["cluster"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Title", "text": "The engine mode serverless you requested is currently unavailable with 5.7 (2.07.1)", "keywords": ["billing mode"]}, {"source": "Body", "text": "Trying to create an RDS aurora server less with MySQL 2.07.1 and got an error \"The engine mode serverless you requested is currently unavailable. (Service: AmazonRDS; Status Code: 400; Error Code: InvalidParameterValue; Request ID: xxxx; Proxy: null)\" ", "keywords": ["billing mode"]}]}