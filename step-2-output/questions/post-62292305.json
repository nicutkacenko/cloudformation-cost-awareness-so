{"Id": "62292305", "PostTypeId": "1", "AcceptedAnswerId": "62293113", "CreationDate": "2020-06-09T21:38:20.793", "Score": "2", "ViewCount": "3417", "Body": "<p>I'm trying to figure out if I should use Route 53 Alias functionality or CNAME for a domain pointing to an aws load balancer.</p>\n\n<p>Based on their documentation, an advantage of this is you can use Alias on the <em>zone apex</em>.</p>\n\n<p>However, I don't intend to use it at that level. Just via sub domains (subdomain.example.com). In this use case, do I just use CNAME?</p>\n\n<p>One down side I imagine is the fragility of the Route 53 DNS Alias entries. I'm configuring this via cloudformation, and I realize if a load balancer or whatever aws resource behind the Alias Target cease to exist, the cloudformation template will stop break as well.</p>\n\n<p>This is painful in situations when you just want to add a new record for something else, then you can't because a previously configured Alias no longer exists.</p>\n", "OwnerUserId": "1319542", "LastActivityDate": "2020-06-09T22:47:44.163", "Title": "When would you choose Route 53 Alias over CNAME?", "Tags": "|dns|aws-cloudformation|amazon-route53|", "AnswerCount": "1", "CommentCount": "0", "FavoriteCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "223705169", "PostHistoryTypeId": "2", "PostId": "62292305", "RevisionGUID": "d3db31af-2469-412f-9249-7d585551736d", "CreationDate": "2020-06-09T21:38:20.793", "UserId": "1319542", "Text": "I'm trying to figure out if I should use Route 53 Alias functionality or CNAME for a domain pointing to an aws load balancer.\r\n\r\nBased on their documentation, an advantage of this is you can use Alias on the *zone apex*.\r\n\r\nHowever, I don't intend to use it at that level. Just via sub domains (subdomain.example.com). In this use case, do I just use CNAME?\r\n\r\nOne down side I imagine is the fragility of the Route 53 DNS Alias entries. I'm configuring this via cloudformation, and I realize if a load balancer or whatever aws resource behind the Alias Target cease to exist, the cloudformation template will stop break as well.\r\n\r\nThis is painful in situations when you just want to add a new record for something else, then you can't because a previously configured Alias no longer exists.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I'm trying to figure out if I should use Route 53 Alias functionality or CNAME for a domain pointing to an aws load balancer. ", "keywords": ["domain"]}]}, {"Id": "223705170", "PostHistoryTypeId": "1", "PostId": "62292305", "RevisionGUID": "d3db31af-2469-412f-9249-7d585551736d", "CreationDate": "2020-06-09T21:38:20.793", "UserId": "1319542", "Text": "When would you choose Route 53 Alias over CNAME?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "223705171", "PostHistoryTypeId": "3", "PostId": "62292305", "RevisionGUID": "d3db31af-2469-412f-9249-7d585551736d", "CreationDate": "2020-06-09T21:38:20.793", "UserId": "1319542", "Text": "|dns|aws-cloudformation|amazon-route53|", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "62293113", "PostTypeId": "2", "ParentId": "62292305", "CreationDate": "2020-06-09T22:47:44.163", "Score": "2", "Body": "<p>I think that you already know the basic differences between ALIAS and CNAME as you pointed out apex domain and their docs. For completeness I will also add the link below:</p>\n\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-choosing-alias-non-alias.html\" rel=\"nofollow noreferrer\">Choosing between alias and non-alias records</a></li>\n</ul>\n\n<p>One big advantage of ALIAS over CNAME, which you may not know (not written in your question) is that <strong>ALIAS record is free</strong>. For non ALIAS records you have to <a href=\"https://aws.amazon.com/route53/pricing/\" rel=\"nofollow noreferrer\">pay</a>. ALIAS queries are <a href=\"https://aws.amazon.com/route53/pricing/\" rel=\"nofollow noreferrer\">free</a>:</p>\n\n<blockquote>\n  <p>Queries for qualifying alias records are provided at <strong>no additional cost</strong> to Route 53 customers. </p>\n</blockquote>\n\n<p>The issue you describe with CloudFormation breaking, <strong>applies to any record</strong>. Alias is not an exception. What's more this applies to any resource created in CFN. If you create some resources in CFN, and the modify/delete them outside of your CFN then you put yourself in troubles of having <strong>inconsistent stack</strong>. </p>\n", "OwnerUserId": "248823", "LastActivityDate": "2020-06-09T22:47:44.163", "CommentCount": "2", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "110273673", "PostId": "62293113", "Score": "0", "Text": "With regards to the CF breaking, I understand that CF drifting applies to any record. What I'm describing is the tight coupling between the Alias record and the target. Lets say a load balancer. If the load balancer cease to exists, the running the template will fail. If we use CNAME instead, if the target domain does not resolve to anything, the template still builds.", "CreationDate": "2020-06-12T19:20:15.340", "UserId": "1319542", "filtered-sentences": [{"source": "Text", "text": "If we use CNAME instead, if the target domain does not resolve to anything, the template still builds.", "keywords": ["domain"]}]}, {"Id": "110278242", "PostId": "62293113", "Score": "0", "Text": "@froi Thanks. I see what you mean. I think you right in this case. But alias is recommended way of working with AWS resources and its free. But I think allowing such a possibility of deleting stack resources created by CFN manually outside of stack is more concerning. It is bad practice to modify any resource from CFN manually outside of CFN.", "CreationDate": "2020-06-12T22:54:11.053", "UserId": "248823", "filtered-sentences": []}], "history": [{"Id": "223708492", "PostHistoryTypeId": "2", "PostId": "62293113", "RevisionGUID": "117c2bef-b3f2-436a-af45-d430b596ec8c", "CreationDate": "2020-06-09T22:47:44.163", "UserId": "248823", "Text": "I think that you already know the basic differences between ALIAS and CNAME as you pointed out apex domain and their docs. For completeness I will also add the link below:\r\n\r\n - [Choosing between alias and non-alias records](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-choosing-alias-non-alias.html)\r\n\r\nOne big advantage of ALIAS over CNAME, which you may not know (not written in your question) is that **ALIAS record is free**. For non ALIAS records you have to [pay][1]. ALIAS queries are [free][1]:\r\n\r\n\r\n> Queries for qualifying alias records are provided at **no additional cost** to Route 53 customers. \r\n\r\nThe issue you describe with CloudFormation breaking, **applies to any record**. Alias is not an exception. What's more this applies to any resource created in CFN. If you create some resources in CFN, and the modify/delete them outside of your CFN then you put yourself in troubles of having **inconsistent stack**. \r\n\r\n\r\n\r\n\r\n  [1]: https://aws.amazon.com/route53/pricing/\r\n\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I think that you already know the basic differences between ALIAS and CNAME as you pointed out apex domain and their docs. ", "keywords": ["domain"]}, {"source": "Text", "text": "For non ALIAS records you have to [pay][1]. ", "keywords": ["pay"]}, {"source": "Text", "text": "ALIAS queries are [free][1]: > Queries for qualifying alias records are provided at **no additional cost** to Route 53 customers. ", "keywords": ["cost"]}]}], "filtered-sentences": [{"source": "Body", "text": "I think that you already know the basic differences between ALIAS and CNAME as you pointed out apex domain and their docs. ", "keywords": ["domain"]}, {"source": "Body", "text": "For non ALIAS records you have to pay. ", "keywords": ["pay"]}, {"source": "Body", "text": "Queries for qualifying alias records are provided at no additional cost to Route 53 customers. ", "keywords": ["cost"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "I'm trying to figure out if I should use Route 53 Alias functionality or CNAME for a domain pointing to an aws load balancer. ", "keywords": ["domain"]}]}