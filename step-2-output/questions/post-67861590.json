{"Id": "67861590", "PostTypeId": "1", "CreationDate": "2021-06-06T16:55:33.197", "Score": "0", "ViewCount": "192", "Body": "<p>I was starting a neptune database from this base stack\n<code>https://s3.amazonaws.com/aws-neptune-customer-samples/v2/cloudformation-templates/neptune-base-stack.json</code></p>\n<p>However now i am wondering why a NAT Gateway and also an Internet Gateway are started in this stack? are they required for updates within Neptune? This seems like a huge security risk.</p>\n<p>On top of that these gateways are not cheap.</p>\n<p>I would be happy for an explanation on this</p>\n", "OwnerUserId": "7457239", "LastActivityDate": "2021-06-06T17:56:49.233", "Title": "Does AWS Neptune need internet access?", "Tags": "|amazon-web-services|aws-cloudformation|amazon-neptune|", "AnswerCount": "1", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "247983135", "PostHistoryTypeId": "2", "PostId": "67861590", "RevisionGUID": "5ccea1a3-f620-4377-b2f9-6c721b47d607", "CreationDate": "2021-06-06T16:55:33.197", "UserId": "7457239", "Text": "I was starting a neptune database from this base stack\r\n`https://s3.amazonaws.com/aws-neptune-customer-samples/v2/cloudformation-templates/neptune-base-stack.json`\r\n\r\nHowever now i am wondering why a NAT Gateway and also an Internet Gateway are started in this stack? are they required for updates within Neptune? This seems like a huge security risk.\r\n\r\nOn top of that these gateways are not cheap. \r\n\r\nI would be happy for an explanation on this", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "However now i am wondering why a NAT Gateway and also an Internet Gateway are started in this stack? are they required for updates within Neptune? ", "keywords": ["nat"]}, {"source": "Text", "text": "On top of that these gateways are not cheap. ", "keywords": ["cheap"]}]}, {"Id": "247983136", "PostHistoryTypeId": "1", "PostId": "67861590", "RevisionGUID": "5ccea1a3-f620-4377-b2f9-6c721b47d607", "CreationDate": "2021-06-06T16:55:33.197", "UserId": "7457239", "Text": "Does AWS Neptune need internet access?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "247983137", "PostHistoryTypeId": "3", "PostId": "67861590", "RevisionGUID": "5ccea1a3-f620-4377-b2f9-6c721b47d607", "CreationDate": "2021-06-06T16:55:33.197", "UserId": "7457239", "Text": "|amazon-web-services|aws-cloudformation|amazon-neptune|", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "67862122", "PostTypeId": "2", "ParentId": "67861590", "CreationDate": "2021-06-06T17:56:49.233", "Score": "1", "Body": "<p>The answer is no, it's not required, AWS just sneaked some unecessary costly ressources into the template..\nAnyways if you want to use the updated template without NAT and IG GWs use this one that i just created <code>https://neptune-stack-custom.s3.eu-central-1.amazonaws.com/base.json</code></p>\n", "OwnerUserId": "7457239", "LastActivityDate": "2021-06-06T17:56:49.233", "CommentCount": "3", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "119948065", "PostId": "67862122", "Score": "1", "Text": "The IG is free, only the NAT gateway has a cost. The reason it works without them is the S3 endpoint also included in the template.", "CreationDate": "2021-06-06T18:08:23.570", "UserId": "1032785", "filtered-sentences": [{"source": "Text", "text": "The IG is free, only the NAT gateway has a cost. ", "keywords": ["cost", "nat"]}]}, {"Id": "119963428", "PostId": "67862122", "Score": "1", "Text": "The primary purpose of the NAT Gateway is to support SPARQL 1.1. Federated Query against public SPARQL endpoints (as noted in the following blog post:  https://aws.amazon.com/blogs/database/benefitting-from-sparql-1-1-federated-queries-with-amazon-neptune/).", "CreationDate": "2021-06-07T11:23:26.103", "UserId": "10130372", "filtered-sentences": [{"source": "Text", "text": "The primary purpose of the NAT Gateway is to support SPARQL 1.1. ", "keywords": ["nat"]}]}, {"Id": "119965025", "PostId": "67862122", "Score": "0", "Text": "Thank you guys, that clears it up! I removed the IGW and NATGW since i access neptune via a lambda and vpc connector.", "CreationDate": "2021-06-07T12:23:30.403", "UserId": "7457239", "filtered-sentences": []}], "history": [{"Id": "247985351", "PostHistoryTypeId": "2", "PostId": "67862122", "RevisionGUID": "2b4e669f-ae1e-4061-bb13-6432c30e3193", "CreationDate": "2021-06-06T17:56:49.233", "UserId": "7457239", "Text": "The answer is no, it's not required, AWS just sneaked some unecessary costly ressources into the template..\r\nAnyways if you want to use the updated template without NAT and IG GWs use this one that i just created `https://neptune-stack-custom.s3.eu-central-1.amazonaws.com/base.json`", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Anyways if you want to use the updated template without NAT and IG GWs use this one that i just created `https://neptune-stack-custom.s3.eu-central-1.amazonaws.com/base.json`", "keywords": ["nat"]}]}], "filtered-sentences": [{"source": "Body", "text": "Anyways if you want to use the updated template without NAT and IG GWs use this one that i just created https://neptune-stack-custom.s3.eu-central-1.amazonaws.com/base.json", "keywords": ["nat"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "However now i am wondering why a NAT Gateway and also an Internet Gateway are started in this stack? are they required for updates within Neptune? ", "keywords": ["nat"]}, {"source": "Body", "text": "On top of that these gateways are not cheap. ", "keywords": ["cheap"]}]}