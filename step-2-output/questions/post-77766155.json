{"Id": "77766155", "PostTypeId": "1", "CreationDate": "2024-01-05T17:09:41.587", "Score": "0", "ViewCount": "16", "Body": "<p>I am using Outputs in cloudformation to Export some resources and using it in another template.</p>\n<p>In my template.yaml I've this defined.</p>\n<pre><code>Outputs:\n  MyECSTaskRole:\n    Value: !GetAtt ECSTaskRole.Arn\n    Export:\n    Name: MyECSTaskRole\n</code></pre>\n<p>In my ecs_job_definitions.yaml file (nested tempalte), I am using this exported value.</p>\n<pre><code>Resources:\n  AWSBatchJobDefinitionForNetPaymentApi:\n  Type: AWS::Batch::JobDefinition\n    Properties:\n      JobDefinitionName:\n        !Sub\n        - &quot;${TheAppNameForResources}-${TheEnvName}-job-def-net-pay&quot;\n        - TheAppNameForResources: !Ref AppNameForResources\n          TheEnvName: !Ref EnvName\n      ExecutionRoleArn:\n        Fn::ImportValue: MyECSTaskExecutionRole\n</code></pre>\n<p>When the pipeline is executed, I am getting error &quot;No export named MyECSTaskRole found&quot;</p>\n<p>Is this the right way of exporting/importing between templates?</p>\n", "OwnerUserId": "19299757", "LastActivityDate": "2024-01-05T17:09:41.587", "Title": "How to reference Exported value in cloudformation template", "Tags": "|aws-cloudformation|", "AnswerCount": "0", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "301899858", "PostHistoryTypeId": "2", "PostId": "77766155", "RevisionGUID": "f596d6a1-d0f6-41ec-8d4a-945ae2e838a5", "CreationDate": "2024-01-05T17:09:41.587", "UserId": "19299757", "Text": "I am using Outputs in cloudformation to Export some resources and using it in another template.\r\n\r\nIn my template.yaml I've this defined.\r\n\r\n    Outputs:\r\n      MyECSTaskRole:\r\n        Value: !GetAtt ECSTaskRole.Arn\r\n        Export:\r\n        Name: MyECSTaskRole\r\n\r\nIn my ecs_job_definitions.yaml file (nested tempalte), I am using this exported value.\r\n\r\n    Resources:\r\n      AWSBatchJobDefinitionForNetPaymentApi:\r\n      Type: AWS::Batch::JobDefinition\r\n        Properties:\r\n          JobDefinitionName:\r\n            !Sub\r\n            - \"${TheAppNameForResources}-${TheEnvName}-job-def-net-pay\"\r\n            - TheAppNameForResources: !Ref AppNameForResources\r\n              TheEnvName: !Ref EnvName\r\n          ExecutionRoleArn:\r\n            Fn::ImportValue: MyECSTaskExecutionRole\r\n\r\n\r\nWhen the pipeline is executed, I am getting error \"No export named MyECSTaskRole found\"\r\n\r\nIs this the right way of exporting/importing between templates?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Resources: AWSBatchJobDefinitionForNetPaymentApi: Type: AWS::Batch::JobDefinition Properties: JobDefinitionName: !Sub - \"${TheAppNameForResources}-${TheEnvName}-job-def-net-pay\" - TheAppNameForResources: !Ref AppNameForResources TheEnvName: !Ref EnvName ExecutionRoleArn: Fn::ImportValue: MyECSTaskExecutionRole When the pipeline is executed, I am getting error \"No export named MyECSTaskRole found\" Is this the right way of exporting/importing between templates?", "keywords": ["pay"]}]}, {"Id": "301899860", "PostHistoryTypeId": "1", "PostId": "77766155", "RevisionGUID": "f596d6a1-d0f6-41ec-8d4a-945ae2e838a5", "CreationDate": "2024-01-05T17:09:41.587", "UserId": "19299757", "Text": "How to reference Exported value in cloudformation template", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "301899861", "PostHistoryTypeId": "3", "PostId": "77766155", "RevisionGUID": "f596d6a1-d0f6-41ec-8d4a-945ae2e838a5", "CreationDate": "2024-01-05T17:09:41.587", "UserId": "19299757", "Text": "|aws-cloudformation|", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "contains-topic": false, "filtered-sentences": []}