{"Id": "57868029", "PostTypeId": "1", "AcceptedAnswerId": "57868259", "CreationDate": "2019-09-10T09:39:45.893", "Score": "0", "ViewCount": "46", "Body": "<p>I have a template in cloudformation which launches an instance. It is working fine but it doesn't create a tag which I have mentioned in my template. Below is my template</p>\n\n<pre><code>{\n  \"AWSTemplateFormatVersion\": \"2010-09-09\",\n  \"Description\": \"AWS CloudFormation Sample Template EC2InstanceWithSecurityGroupSample:\\nCreate an Amazon EC2 instance running the Amazon Linux AMI. The AMI is chosen based\\non the region in which the stack is run. This example creates an EC2 security group\\nfor the instance to give you SSH access. **WARNING** This template creates an Amazon\\nEC2 instance. You will be billed for the AWS resources used if you create a stack\\nfrom this template.\",\n  \"Parameters\": {\n    \"KeyName\": {\n      \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instance\",\n      \"Type\": \"AWS::EC2::KeyPair::KeyName\",\n      \"ConstraintDescription\": \"must be the name of an existing EC2 KeyPair.\"\n    },\n    \"InstanceType\": {\n      \"Description\": \"WebServer EC2 instance type\",\n      \"Type\": \"String\",\n      \"Default\": \"t2.small\",\n      \"AllowedValues\": [\n        \"t1.micro\",\n        \"t2.nano\",\n        \"t2.micro\",\n        \"t2.small\",\n        \"t2.medium\",\n        \"t2.large\",\n        \"m1.small\",\n        \"m1.medium\",\n        \"m1.large\",\n        \"m1.xlarge\",\n        \"m2.xlarge\",\n        \"m2.2xlarge\",\n        \"m2.4xlarge\",\n        \"m3.medium\",\n        \"m3.large\",\n        \"m3.xlarge\",\n        \"m3.2xlarge\",\n        \"m4.large\",\n        \"m4.xlarge\",\n        \"m4.2xlarge\",\n        \"m4.4xlarge\",\n        \"m4.10xlarge\",\n        \"c1.medium\",\n        \"c1.xlarge\",\n        \"c3.large\",\n        \"c3.xlarge\",\n        \"c3.2xlarge\",\n        \"c3.4xlarge\",\n        \"c3.8xlarge\",\n        \"c4.large\",\n        \"c4.xlarge\",\n        \"c4.2xlarge\",\n        \"c4.4xlarge\",\n        \"c4.8xlarge\",\n        \"g2.2xlarge\",\n        \"g2.8xlarge\",\n        \"r3.large\",\n        \"r3.xlarge\",\n        \"r3.2xlarge\",\n        \"r3.4xlarge\",\n        \"r3.8xlarge\",\n        \"i2.xlarge\",\n        \"i2.2xlarge\",\n        \"i2.4xlarge\",\n        \"i2.8xlarge\",\n        \"d2.xlarge\",\n        \"d2.2xlarge\",\n        \"d2.4xlarge\",\n        \"d2.8xlarge\",\n        \"hi1.4xlarge\",\n        \"hs1.8xlarge\",\n        \"cr1.8xlarge\",\n        \"cc2.8xlarge\",\n        \"cg1.4xlarge\"\n      ],\n      \"ConstraintDescription\": \"must be a valid EC2 instance type.\"\n    },\n    \"SSHLocation\": {\n      \"Description\": \"The IP address range that can be used to SSH to the EC2 instances\",\n      \"Type\": \"String\",\n      \"MinLength\": \"9\",\n      \"MaxLength\": \"18\",\n      \"Default\": \"0.0.0.0/0\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\",\n      \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\"\n    }\n  },\n  \"Mappings\": {\n    \"AWSInstanceType2Arch\": {\n      \"t1.micro\": {\n        \"Arch\": \"PV64\"\n      },\n      \"t2.nano\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"t2.micro\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"t2.small\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"t2.medium\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"t2.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m1.small\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m1.medium\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m1.large\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m1.xlarge\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m2.xlarge\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m2.2xlarge\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m2.4xlarge\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m3.medium\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m3.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m3.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m3.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m4.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m4.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m4.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m4.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m4.10xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c1.medium\": {\n        \"Arch\": \"PV64\"\n      },\n      \"c1.xlarge\": {\n        \"Arch\": \"PV64\"\n      },\n      \"c3.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c3.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c3.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c3.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c3.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c4.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c4.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c4.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c4.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c4.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"g2.2xlarge\": {\n        \"Arch\": \"HVMG2\"\n      },\n      \"g2.8xlarge\": {\n        \"Arch\": \"HVMG2\"\n      },\n      \"r3.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"r3.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"r3.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"r3.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"r3.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"i2.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"i2.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"i2.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"i2.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"d2.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"d2.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"d2.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"d2.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"hi1.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"hs1.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"cr1.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"cc2.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      }\n    },\n    \"AWSInstanceType2NATArch\": {\n      \"t1.micro\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"t2.nano\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"t2.micro\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"t2.small\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"t2.medium\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"t2.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m1.small\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m1.medium\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m1.large\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m1.xlarge\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m2.xlarge\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m2.2xlarge\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m2.4xlarge\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m3.medium\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m3.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m3.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m3.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m4.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m4.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m4.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m4.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m4.10xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c1.medium\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"c1.xlarge\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"c3.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c3.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c3.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c3.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c3.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c4.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c4.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c4.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c4.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c4.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"g2.2xlarge\": {\n        \"Arch\": \"NATHVMG2\"\n      },\n      \"g2.8xlarge\": {\n        \"Arch\": \"NATHVMG2\"\n      },\n      \"r3.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"r3.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"r3.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"r3.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"r3.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"i2.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"i2.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"i2.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"i2.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"d2.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"d2.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"d2.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"d2.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"hi1.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"hs1.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"cr1.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"cc2.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      }\n    },\n    \"AWSRegionArch2AMI\": {\n      \"us-east-1\": {\n        \"PV64\": \"ami-2a69aa47\",\n        \"HVM64\": \"ami-6869aa05\",\n        \"HVMG2\": \"ami-61e27177\"\n      },\n      \"us-west-2\": {\n        \"PV64\": \"ami-7f77b31f\",\n        \"HVM64\": \"ami-7172b611\",\n        \"HVMG2\": \"ami-60aa3700\"\n      },\n      \"us-west-1\": {\n        \"PV64\": \"ami-a2490dc2\",\n        \"HVM64\": \"ami-31490d51\",\n        \"HVMG2\": \"ami-4b694d2b\"\n      },\n      \"eu-west-1\": {\n        \"PV64\": \"ami-4cdd453f\",\n        \"HVM64\": \"ami-f9dd458a\",\n        \"HVMG2\": \"ami-2955524f\"\n      },\n      \"eu-west-2\": {\n        \"PV64\": \"NOT_SUPPORTED\",\n        \"HVM64\": \"ami-886369ec\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      },\n      \"eu-central-1\": {\n        \"PV64\": \"ami-6527cf0a\",\n        \"HVM64\": \"ami-ea26ce85\",\n        \"HVMG2\": \"ami-81ac71ee\"\n      },\n      \"ap-northeast-1\": {\n        \"PV64\": \"ami-3e42b65f\",\n        \"HVM64\": \"ami-374db956\",\n        \"HVMG2\": \"ami-46220c21\"\n      },\n      \"ap-northeast-2\": {\n        \"PV64\": \"NOT_SUPPORTED\",\n        \"HVM64\": \"ami-2b408b45\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      },\n      \"ap-southeast-1\": {\n        \"PV64\": \"ami-df9e4cbc\",\n        \"HVM64\": \"ami-a59b49c6\",\n        \"HVMG2\": \"ami-c212aba1\"\n      },\n      \"ap-southeast-2\": {\n        \"PV64\": \"ami-63351d00\",\n        \"HVM64\": \"ami-dc361ebf\",\n        \"HVMG2\": \"ami-0ad2db69\"\n      },\n      \"ap-south-1\": {\n        \"PV64\": \"NOT_SUPPORTED\",\n        \"HVM64\": \"ami-ffbdd790\",\n        \"HVMG2\": \"ami-ca3042a5\"\n      },\n      \"us-east-2\": {\n        \"PV64\": \"NOT_SUPPORTED\",\n        \"HVM64\": \"ami-f6035893\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      },\n      \"ca-central-1\": {\n        \"PV64\": \"NOT_SUPPORTED\",\n        \"HVM64\": \"ami-730ebd17\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      },\n      \"sa-east-1\": {\n        \"PV64\": \"ami-1ad34676\",\n        \"HVM64\": \"ami-6dd04501\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      },\n      \"cn-north-1\": {\n        \"PV64\": \"ami-77559f1a\",\n        \"HVM64\": \"ami-8e6aa0e3\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      }\n    }\n  },\n  \"Resources\": {\n    \"EC2Instance\": {\n      \"Type\": \"AWS::EC2::Instance\",\n      \"Properties\": {\n        \"InstanceType\": {\n          \"Ref\": \"InstanceType\"\n        },\n        \"SecurityGroups\": [\n          {\n            \"Ref\": \"InstanceSecurityGroup\"\n          }\n        ],\n        \"KeyName\": {\n          \"Ref\": \"KeyName\"\n        },\n        \"ImageId\": {\n          \"Fn::FindInMap\": [\n            \"AWSRegionArch2AMI\",\n            {\n              \"Ref\": \"AWS::Region\"\n            },\n            {\n              \"Fn::FindInMap\": [\n                \"AWSInstanceType2Arch\",\n                {\n                  \"Ref\": \"InstanceType\"\n                },\n                \"Arch\"\n              ]\n            }\n          ]\n        }\n      }\n    },\n    \"InstanceSecurityGroup\": {\n      \"Type\": \"AWS::EC2::SecurityGroup\",\n      \"Properties\": {\n         \"Tags\" : [ {\"Key\" : \"Staging\",\n                   \"Value\" : \"Staging\"  } ],\n        \"GroupDescription\": \"Enable SSH access via port 22\",\n        \"SecurityGroupIngress\": [\n          {\n            \"IpProtocol\": \"tcp\",\n            \"FromPort\": \"22\",\n            \"ToPort\": \"22\",\n            \"CidrIp\": {\n              \"Ref\": \"SSHLocation\"\n            }\n          }\n        ]\n      }\n    }\n  },\n  \"Outputs\": {\n    \"InstanceId\": {\n      \"Description\": \"InstanceId of the newly created EC2 instance\",\n      \"Value\": {\n        \"Ref\": \"EC2Instance\"\n      }\n    },\n    \"AZ\": {\n      \"Description\": \"Availability Zone of the newly created EC2 instance\",\n      \"Value\": {\n        \"Fn::GetAtt\": [\n          \"EC2Instance\",\n          \"AvailabilityZone\"\n        ]\n      }\n    },\n    \"PublicDNS\": {\n      \"Description\": \"Public DNSName of the newly created EC2 instance\",\n      \"Value\": {\n        \"Fn::GetAtt\": [\n          \"EC2Instance\",\n          \"PublicDnsName\"\n        ]\n      }\n    },\n    \"PublicIP\": {\n      \"Description\": \"Public IP address of the newly created EC2 instance\",\n      \"Value\": {\n        \"Fn::GetAtt\": [\n          \"EC2Instance\",\n          \"PublicIp\"\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>I want to create tag with key staging and value staging but it doesn't create the tag.What could be the reason?</p>\n\n<p>Any help would be appreciated.</p>\n", "OwnerUserId": "11082880", "LastActivityDate": "2019-09-10T09:53:24.043", "Title": "Cloudformation doesn't create tag with my template", "Tags": "|aws-cloudformation|aws-cli|", "AnswerCount": "1", "CommentCount": "3", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "102161233", "PostId": "57868029", "Score": "0", "Text": "Are you expecting it to tag your ec2 instance? Because in this template you are only tagging your security group.", "CreationDate": "2019-09-10T09:47:10.933", "UserId": "10478578", "filtered-sentences": [{"source": "Text", "text": "Are you expecting it to tag your ec2 instance? ", "keywords": ["instance"]}]}, {"Id": "102161381", "PostId": "57868029", "Score": "0", "Text": "I want to tag it to my ec2 instance.", "CreationDate": "2019-09-10T09:51:27.630", "UserId": "11082880", "filtered-sentences": [{"source": "Text", "text": "I want to tag it to my ec2 instance.", "keywords": ["instance"]}]}, {"Id": "102161413", "PostId": "57868029", "Score": "0", "Text": "oh ok I got it now thanks", "CreationDate": "2019-09-10T09:52:11.850", "UserId": "11082880", "filtered-sentences": []}], "history": [{"Id": "205071250", "PostHistoryTypeId": "2", "PostId": "57868029", "RevisionGUID": "df3f7d8c-0d9a-4161-86c0-eaf09cf9ffe9", "CreationDate": "2019-09-10T09:39:45.893", "UserId": "11082880", "Text": "I have a template in cloudformation which launches an instance. It is working fine but it doesn't create a tag which I have mentioned in my template. Below is my template\r\n```\r\n{\r\n  \"AWSTemplateFormatVersion\": \"2010-09-09\",\r\n  \"Description\": \"AWS CloudFormation Sample Template EC2InstanceWithSecurityGroupSample:\\nCreate an Amazon EC2 instance running the Amazon Linux AMI. The AMI is chosen based\\non the region in which the stack is run. This example creates an EC2 security group\\nfor the instance to give you SSH access. **WARNING** This template creates an Amazon\\nEC2 instance. You will be billed for the AWS resources used if you create a stack\\nfrom this template.\",\r\n  \"Parameters\": {\r\n    \"KeyName\": {\r\n      \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instance\",\r\n      \"Type\": \"AWS::EC2::KeyPair::KeyName\",\r\n      \"ConstraintDescription\": \"must be the name of an existing EC2 KeyPair.\"\r\n    },\r\n    \"InstanceType\": {\r\n      \"Description\": \"WebServer EC2 instance type\",\r\n      \"Type\": \"String\",\r\n      \"Default\": \"t2.small\",\r\n      \"AllowedValues\": [\r\n        \"t1.micro\",\r\n        \"t2.nano\",\r\n        \"t2.micro\",\r\n        \"t2.small\",\r\n        \"t2.medium\",\r\n        \"t2.large\",\r\n        \"m1.small\",\r\n        \"m1.medium\",\r\n        \"m1.large\",\r\n        \"m1.xlarge\",\r\n        \"m2.xlarge\",\r\n        \"m2.2xlarge\",\r\n        \"m2.4xlarge\",\r\n        \"m3.medium\",\r\n        \"m3.large\",\r\n        \"m3.xlarge\",\r\n        \"m3.2xlarge\",\r\n        \"m4.large\",\r\n        \"m4.xlarge\",\r\n        \"m4.2xlarge\",\r\n        \"m4.4xlarge\",\r\n        \"m4.10xlarge\",\r\n        \"c1.medium\",\r\n        \"c1.xlarge\",\r\n        \"c3.large\",\r\n        \"c3.xlarge\",\r\n        \"c3.2xlarge\",\r\n        \"c3.4xlarge\",\r\n        \"c3.8xlarge\",\r\n        \"c4.large\",\r\n        \"c4.xlarge\",\r\n        \"c4.2xlarge\",\r\n        \"c4.4xlarge\",\r\n        \"c4.8xlarge\",\r\n        \"g2.2xlarge\",\r\n        \"g2.8xlarge\",\r\n        \"r3.large\",\r\n        \"r3.xlarge\",\r\n        \"r3.2xlarge\",\r\n        \"r3.4xlarge\",\r\n        \"r3.8xlarge\",\r\n        \"i2.xlarge\",\r\n        \"i2.2xlarge\",\r\n        \"i2.4xlarge\",\r\n        \"i2.8xlarge\",\r\n        \"d2.xlarge\",\r\n        \"d2.2xlarge\",\r\n        \"d2.4xlarge\",\r\n        \"d2.8xlarge\",\r\n        \"hi1.4xlarge\",\r\n        \"hs1.8xlarge\",\r\n        \"cr1.8xlarge\",\r\n        \"cc2.8xlarge\",\r\n        \"cg1.4xlarge\"\r\n      ],\r\n      \"ConstraintDescription\": \"must be a valid EC2 instance type.\"\r\n    },\r\n    \"SSHLocation\": {\r\n      \"Description\": \"The IP address range that can be used to SSH to the EC2 instances\",\r\n      \"Type\": \"String\",\r\n      \"MinLength\": \"9\",\r\n      \"MaxLength\": \"18\",\r\n      \"Default\": \"0.0.0.0/0\",\r\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\",\r\n      \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\"\r\n    }\r\n  },\r\n  \"Mappings\": {\r\n    \"AWSInstanceType2Arch\": {\r\n      \"t1.micro\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"t2.nano\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"t2.micro\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"t2.small\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"t2.medium\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"t2.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m1.small\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m1.medium\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m1.large\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m1.xlarge\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m2.xlarge\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m2.2xlarge\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m2.4xlarge\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m3.medium\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m3.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m3.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m3.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m4.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m4.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m4.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m4.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m4.10xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c1.medium\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"c1.xlarge\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"c3.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c3.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c3.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c3.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c3.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c4.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c4.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c4.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c4.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c4.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"g2.2xlarge\": {\r\n        \"Arch\": \"HVMG2\"\r\n      },\r\n      \"g2.8xlarge\": {\r\n        \"Arch\": \"HVMG2\"\r\n      },\r\n      \"r3.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"r3.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"r3.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"r3.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"r3.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"i2.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"i2.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"i2.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"i2.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"d2.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"d2.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"d2.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"d2.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"hi1.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"hs1.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"cr1.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"cc2.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      }\r\n    },\r\n    \"AWSInstanceType2NATArch\": {\r\n      \"t1.micro\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"t2.nano\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"t2.micro\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"t2.small\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"t2.medium\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"t2.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m1.small\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m1.medium\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m1.large\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m1.xlarge\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m2.xlarge\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m2.2xlarge\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m2.4xlarge\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m3.medium\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m3.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m3.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m3.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m4.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m4.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m4.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m4.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m4.10xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c1.medium\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"c1.xlarge\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"c3.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c3.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c3.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c3.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c3.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c4.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c4.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c4.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c4.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c4.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"g2.2xlarge\": {\r\n        \"Arch\": \"NATHVMG2\"\r\n      },\r\n      \"g2.8xlarge\": {\r\n        \"Arch\": \"NATHVMG2\"\r\n      },\r\n      \"r3.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"r3.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"r3.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"r3.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"r3.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"i2.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"i2.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"i2.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"i2.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"d2.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"d2.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"d2.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"d2.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"hi1.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"hs1.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"cr1.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"cc2.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      }\r\n    },\r\n    \"AWSRegionArch2AMI\": {\r\n      \"us-east-1\": {\r\n        \"PV64\": \"ami-2a69aa47\",\r\n        \"HVM64\": \"ami-6869aa05\",\r\n        \"HVMG2\": \"ami-61e27177\"\r\n      },\r\n      \"us-west-2\": {\r\n        \"PV64\": \"ami-7f77b31f\",\r\n        \"HVM64\": \"ami-7172b611\",\r\n        \"HVMG2\": \"ami-60aa3700\"\r\n      },\r\n      \"us-west-1\": {\r\n        \"PV64\": \"ami-a2490dc2\",\r\n        \"HVM64\": \"ami-31490d51\",\r\n        \"HVMG2\": \"ami-4b694d2b\"\r\n      },\r\n      \"eu-west-1\": {\r\n        \"PV64\": \"ami-4cdd453f\",\r\n        \"HVM64\": \"ami-f9dd458a\",\r\n        \"HVMG2\": \"ami-2955524f\"\r\n      },\r\n      \"eu-west-2\": {\r\n        \"PV64\": \"NOT_SUPPORTED\",\r\n        \"HVM64\": \"ami-886369ec\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      },\r\n      \"eu-central-1\": {\r\n        \"PV64\": \"ami-6527cf0a\",\r\n        \"HVM64\": \"ami-ea26ce85\",\r\n        \"HVMG2\": \"ami-81ac71ee\"\r\n      },\r\n      \"ap-northeast-1\": {\r\n        \"PV64\": \"ami-3e42b65f\",\r\n        \"HVM64\": \"ami-374db956\",\r\n        \"HVMG2\": \"ami-46220c21\"\r\n      },\r\n      \"ap-northeast-2\": {\r\n        \"PV64\": \"NOT_SUPPORTED\",\r\n        \"HVM64\": \"ami-2b408b45\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      },\r\n      \"ap-southeast-1\": {\r\n        \"PV64\": \"ami-df9e4cbc\",\r\n        \"HVM64\": \"ami-a59b49c6\",\r\n        \"HVMG2\": \"ami-c212aba1\"\r\n      },\r\n      \"ap-southeast-2\": {\r\n        \"PV64\": \"ami-63351d00\",\r\n        \"HVM64\": \"ami-dc361ebf\",\r\n        \"HVMG2\": \"ami-0ad2db69\"\r\n      },\r\n      \"ap-south-1\": {\r\n        \"PV64\": \"NOT_SUPPORTED\",\r\n        \"HVM64\": \"ami-ffbdd790\",\r\n        \"HVMG2\": \"ami-ca3042a5\"\r\n      },\r\n      \"us-east-2\": {\r\n        \"PV64\": \"NOT_SUPPORTED\",\r\n        \"HVM64\": \"ami-f6035893\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      },\r\n      \"ca-central-1\": {\r\n        \"PV64\": \"NOT_SUPPORTED\",\r\n        \"HVM64\": \"ami-730ebd17\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      },\r\n      \"sa-east-1\": {\r\n        \"PV64\": \"ami-1ad34676\",\r\n        \"HVM64\": \"ami-6dd04501\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      },\r\n      \"cn-north-1\": {\r\n        \"PV64\": \"ami-77559f1a\",\r\n        \"HVM64\": \"ami-8e6aa0e3\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      }\r\n    }\r\n  },\r\n  \"Resources\": {\r\n    \"EC2Instance\": {\r\n      \"Type\": \"AWS::EC2::Instance\",\r\n      \"Properties\": {\r\n        \"InstanceType\": {\r\n          \"Ref\": \"InstanceType\"\r\n        },\r\n        \"SecurityGroups\": [\r\n          {\r\n            \"Ref\": \"InstanceSecurityGroup\"\r\n          }\r\n        ],\r\n        \"KeyName\": {\r\n          \"Ref\": \"KeyName\"\r\n        },\r\n        \"ImageId\": {\r\n          \"Fn::FindInMap\": [\r\n            \"AWSRegionArch2AMI\",\r\n            {\r\n              \"Ref\": \"AWS::Region\"\r\n            },\r\n            {\r\n              \"Fn::FindInMap\": [\r\n                \"AWSInstanceType2Arch\",\r\n                {\r\n                  \"Ref\": \"InstanceType\"\r\n                },\r\n                \"Arch\"\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    \"InstanceSecurityGroup\": {\r\n      \"Type\": \"AWS::EC2::SecurityGroup\",\r\n      \"Properties\": {\r\n         \"Tags\" : [ {\"Key\" : \"Staging\",\r\n                   \"Value\" : \"Staging\"  } ],\r\n        \"GroupDescription\": \"Enable SSH access via port 22\",\r\n        \"SecurityGroupIngress\": [\r\n          {\r\n            \"IpProtocol\": \"tcp\",\r\n            \"FromPort\": \"22\",\r\n            \"ToPort\": \"22\",\r\n            \"CidrIp\": {\r\n              \"Ref\": \"SSHLocation\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  \"Outputs\": {\r\n    \"InstanceId\": {\r\n      \"Description\": \"InstanceId of the newly created EC2 instance\",\r\n      \"Value\": {\r\n        \"Ref\": \"EC2Instance\"\r\n      }\r\n    },\r\n    \"AZ\": {\r\n      \"Description\": \"Availability Zone of the newly created EC2 instance\",\r\n      \"Value\": {\r\n        \"Fn::GetAtt\": [\r\n          \"EC2Instance\",\r\n          \"AvailabilityZone\"\r\n        ]\r\n      }\r\n    },\r\n    \"PublicDNS\": {\r\n      \"Description\": \"Public DNSName of the newly created EC2 instance\",\r\n      \"Value\": {\r\n        \"Fn::GetAtt\": [\r\n          \"EC2Instance\",\r\n          \"PublicDnsName\"\r\n        ]\r\n      }\r\n    },\r\n    \"PublicIP\": {\r\n      \"Description\": \"Public IP address of the newly created EC2 instance\",\r\n      \"Value\": {\r\n        \"Fn::GetAtt\": [\r\n          \"EC2Instance\",\r\n          \"PublicIp\"\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nI want to create tag with key staging and value staging but it doesn't create the tag.What could be the reason?\r\n\r\nAny help would be appreciated.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I have a template in cloudformation which launches an instance. ", "keywords": ["instance"]}, {"source": "Text", "text": "\"AWSTemplateFormatVersion\": \"2010-09-09\", \"Description\": \"AWS CloudFormation Sample Template EC2InstanceWithSecurityGroupSample:\\nCreate an Amazon EC2 instance running the Amazon Linux AMI. ", "keywords": ["instance"]}, {"source": "Text", "text": "This example creates an EC2 security group\\nfor the instance to give you SSH access. ", "keywords": ["instance"]}, {"source": "Text", "text": "This template creates an Amazon\\nEC2 instance. ", "keywords": ["instance"]}, {"source": "Text", "text": "You will be billed for the AWS resources used if you create a stack\\nfrom this template.\", \"Parameters\": { \"KeyName\": { \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instance\", \"Type\": \"AWS::EC2::KeyPair::KeyName\", \"ConstraintDescription\": \"must be the name of an existing EC2 KeyPair.\" }, \"InstanceType\": { \"Description\": \"WebServer EC2 instance type\", \"Type\": \"String\", \"Default\": \"t2.small\", \"AllowedValues\": [ \"t1.micro\", \"t2.nano\", \"t2.micro\", \"t2.small\", \"t2.medium\", \"t2.large\", \"m1.small\", \"m1.medium\", \"m1.large\", \"m1.xlarge\", \"m2.xlarge\", \"m2.2xlarge\", \"m2.4xlarge\", \"m3.medium\", \"m3.large\", \"m3.xlarge\", \"m3.2xlarge\", \"m4.large\", \"m4.xlarge\", \"m4.2xlarge\", \"m4.4xlarge\", \"m4.10xlarge\", \"c1.medium\", \"c1.xlarge\", \"c3.large\", \"c3.xlarge\", \"c3.2xlarge\", \"c3.4xlarge\", \"c3.8xlarge\", \"c4.large\", \"c4.xlarge\", \"c4.2xlarge\", \"c4.4xlarge\", \"c4.8xlarge\", \"g2.2xlarge\", \"g2.8xlarge\", \"r3.large\", \"r3.xlarge\", \"r3.2xlarge\", \"r3.4xlarge\", \"r3.8xlarge\", \"i2.xlarge\", \"i2.2xlarge\", \"i2.4xlarge\", \"i2.8xlarge\", \"d2.xlarge\", \"d2.2xlarge\", \"d2.4xlarge\", \"d2.8xlarge\", \"hi1.4xlarge\", \"hs1.8xlarge\", \"cr1.8xlarge\", \"cc2.8xlarge\", \"cg1.4xlarge\" ], \"ConstraintDescription\": \"must be a valid EC2 instance type.\" }, \"SSHLocation\": { \"Description\": \"The IP address range that can be used to SSH to the EC2 instances\", \"Type\": \"String\", \"MinLength\": \"9\", \"MaxLength\": \"18\", \"Default\": \"0.0.0.0/0\", \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\", \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\" } }, \"Mappings\": { \"AWSInstanceType2Arch\": { \"t1.micro\": { \"Arch\": \"PV64\" ", "keywords": ["bill", "instance"]}, {"source": "Text", "text": "}, \"cn-north-1\": { \"PV64\": \"ami-77559f1a\", \"HVM64\": \"ami-8e6aa0e3\", \"HVMG2\": \"NOT_SUPPORTED\" } } }, \"Resources\": { \"EC2Instance\": { \"Type\": \"AWS::EC2::Instance\", \"Properties\": { \"InstanceType\": { \"Ref\": \"InstanceType\" }, \"SecurityGroups\": [ { \"Ref\": \"InstanceSecurityGroup\" } ], \"KeyName\": { \"Ref\": \"KeyName\" ", "keywords": ["instance"]}, {"source": "Text", "text": "}, { \"Fn::FindInMap\": [ \"AWSInstanceType2Arch\", { \"Ref\": \"InstanceType\" }, \"Arch\" ] } ] } } }, \"InstanceSecurityGroup\": { \"Type\": \"AWS::EC2::SecurityGroup\", \"Properties\": { \"Tags\" : [ {\"Key\" : \"Staging\", \"Value\" : \"Staging\" } ], \"GroupDescription\": \"Enable SSH access via port 22\", \"SecurityGroupIngress\": [ { \"IpProtocol\": \"tcp\", \"FromPort\": \"22\", \"ToPort\": \"22\", \"CidrIp\": { \"Ref\": \"SSHLocation\" } } ] } } }, \"Outputs\": { \"InstanceId\": { \"Description\": \"InstanceId of the newly created EC2 instance\", \"Value\": { \"Ref\": \"EC2Instance\" } }, \"AZ\": { \"Description\": \"Availability Zone of the newly created EC2 instance\", \"Value\": { \"Fn::GetAtt\": [ \"EC2Instance\", \"AvailabilityZone\" ] } }, \"PublicDNS\": { \"Description\": \"Public DNSName of the newly created EC2 instance\", \"Value\": { \"Fn::GetAtt\": [ \"EC2Instance\", \"PublicDnsName\" ] } }, \"PublicIP\": { \"Description\": \"Public IP address of the newly created EC2 instance\", \"Value\": { \"Fn::GetAtt\": [ \"EC2Instance\", \"PublicIp\" ] } } } ", "keywords": ["instance"]}]}, {"Id": "205071251", "PostHistoryTypeId": "1", "PostId": "57868029", "RevisionGUID": "df3f7d8c-0d9a-4161-86c0-eaf09cf9ffe9", "CreationDate": "2019-09-10T09:39:45.893", "UserId": "11082880", "Text": "Cloudformation doesn't create tag with my template", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "205071252", "PostHistoryTypeId": "3", "PostId": "57868029", "RevisionGUID": "df3f7d8c-0d9a-4161-86c0-eaf09cf9ffe9", "CreationDate": "2019-09-10T09:39:45.893", "UserId": "11082880", "Text": "|aws-cloudformation|aws-cli|", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "57868259", "PostTypeId": "2", "ParentId": "57868029", "CreationDate": "2019-09-10T09:53:24.043", "Score": "0", "Body": "<p>Update your cloudformation script with the below:</p>\n\n<pre><code>{\n  \"AWSTemplateFormatVersion\": \"2010-09-09\",\n  \"Description\": \"AWS CloudFormation Sample Template EC2InstanceWithSecurityGroupSample:\\nCreate an Amazon EC2 instance running the Amazon Linux AMI. The AMI is chosen based\\non the region in which the stack is run. This example creates an EC2 security group\\nfor the instance to give you SSH access. **WARNING** This template creates an Amazon\\nEC2 instance. You will be billed for the AWS resources used if you create a stack\\nfrom this template.\",\n  \"Parameters\": {\n    \"KeyName\": {\n      \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instance\",\n      \"Type\": \"AWS::EC2::KeyPair::KeyName\",\n      \"ConstraintDescription\": \"must be the name of an existing EC2 KeyPair.\"\n    },\n    \"InstanceType\": {\n      \"Description\": \"WebServer EC2 instance type\",\n      \"Type\": \"String\",\n      \"Default\": \"t2.small\",\n      \"AllowedValues\": [\n        \"t1.micro\",\n        \"t2.nano\",\n        \"t2.micro\",\n        \"t2.small\",\n        \"t2.medium\",\n        \"t2.large\",\n        \"m1.small\",\n        \"m1.medium\",\n        \"m1.large\",\n        \"m1.xlarge\",\n        \"m2.xlarge\",\n        \"m2.2xlarge\",\n        \"m2.4xlarge\",\n        \"m3.medium\",\n        \"m3.large\",\n        \"m3.xlarge\",\n        \"m3.2xlarge\",\n        \"m4.large\",\n        \"m4.xlarge\",\n        \"m4.2xlarge\",\n        \"m4.4xlarge\",\n        \"m4.10xlarge\",\n        \"c1.medium\",\n        \"c1.xlarge\",\n        \"c3.large\",\n        \"c3.xlarge\",\n        \"c3.2xlarge\",\n        \"c3.4xlarge\",\n        \"c3.8xlarge\",\n        \"c4.large\",\n        \"c4.xlarge\",\n        \"c4.2xlarge\",\n        \"c4.4xlarge\",\n        \"c4.8xlarge\",\n        \"g2.2xlarge\",\n        \"g2.8xlarge\",\n        \"r3.large\",\n        \"r3.xlarge\",\n        \"r3.2xlarge\",\n        \"r3.4xlarge\",\n        \"r3.8xlarge\",\n        \"i2.xlarge\",\n        \"i2.2xlarge\",\n        \"i2.4xlarge\",\n        \"i2.8xlarge\",\n        \"d2.xlarge\",\n        \"d2.2xlarge\",\n        \"d2.4xlarge\",\n        \"d2.8xlarge\",\n        \"hi1.4xlarge\",\n        \"hs1.8xlarge\",\n        \"cr1.8xlarge\",\n        \"cc2.8xlarge\",\n        \"cg1.4xlarge\"\n      ],\n      \"ConstraintDescription\": \"must be a valid EC2 instance type.\"\n    },\n    \"SSHLocation\": {\n      \"Description\": \"The IP address range that can be used to SSH to the EC2 instances\",\n      \"Type\": \"String\",\n      \"MinLength\": \"9\",\n      \"MaxLength\": \"18\",\n      \"Default\": \"0.0.0.0/0\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\",\n      \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\"\n    }\n  },\n  \"Mappings\": {\n    \"AWSInstanceType2Arch\": {\n      \"t1.micro\": {\n        \"Arch\": \"PV64\"\n      },\n      \"t2.nano\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"t2.micro\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"t2.small\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"t2.medium\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"t2.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m1.small\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m1.medium\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m1.large\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m1.xlarge\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m2.xlarge\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m2.2xlarge\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m2.4xlarge\": {\n        \"Arch\": \"PV64\"\n      },\n      \"m3.medium\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m3.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m3.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m3.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m4.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m4.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m4.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m4.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"m4.10xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c1.medium\": {\n        \"Arch\": \"PV64\"\n      },\n      \"c1.xlarge\": {\n        \"Arch\": \"PV64\"\n      },\n      \"c3.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c3.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c3.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c3.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c3.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c4.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c4.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c4.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c4.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"c4.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"g2.2xlarge\": {\n        \"Arch\": \"HVMG2\"\n      },\n      \"g2.8xlarge\": {\n        \"Arch\": \"HVMG2\"\n      },\n      \"r3.large\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"r3.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"r3.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"r3.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"r3.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"i2.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"i2.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"i2.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"i2.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"d2.xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"d2.2xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"d2.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"d2.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"hi1.4xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"hs1.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"cr1.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      },\n      \"cc2.8xlarge\": {\n        \"Arch\": \"HVM64\"\n      }\n    },\n    \"AWSInstanceType2NATArch\": {\n      \"t1.micro\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"t2.nano\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"t2.micro\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"t2.small\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"t2.medium\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"t2.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m1.small\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m1.medium\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m1.large\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m1.xlarge\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m2.xlarge\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m2.2xlarge\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m2.4xlarge\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"m3.medium\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m3.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m3.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m3.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m4.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m4.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m4.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m4.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"m4.10xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c1.medium\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"c1.xlarge\": {\n        \"Arch\": \"NATPV64\"\n      },\n      \"c3.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c3.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c3.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c3.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c3.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c4.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c4.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c4.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c4.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"c4.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"g2.2xlarge\": {\n        \"Arch\": \"NATHVMG2\"\n      },\n      \"g2.8xlarge\": {\n        \"Arch\": \"NATHVMG2\"\n      },\n      \"r3.large\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"r3.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"r3.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"r3.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"r3.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"i2.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"i2.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"i2.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"i2.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"d2.xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"d2.2xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"d2.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"d2.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"hi1.4xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"hs1.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"cr1.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      },\n      \"cc2.8xlarge\": {\n        \"Arch\": \"NATHVM64\"\n      }\n    },\n    \"AWSRegionArch2AMI\": {\n      \"us-east-1\": {\n        \"PV64\": \"ami-2a69aa47\",\n        \"HVM64\": \"ami-6869aa05\",\n        \"HVMG2\": \"ami-61e27177\"\n      },\n      \"us-west-2\": {\n        \"PV64\": \"ami-7f77b31f\",\n        \"HVM64\": \"ami-7172b611\",\n        \"HVMG2\": \"ami-60aa3700\"\n      },\n      \"us-west-1\": {\n        \"PV64\": \"ami-a2490dc2\",\n        \"HVM64\": \"ami-31490d51\",\n        \"HVMG2\": \"ami-4b694d2b\"\n      },\n      \"eu-west-1\": {\n        \"PV64\": \"ami-4cdd453f\",\n        \"HVM64\": \"ami-f9dd458a\",\n        \"HVMG2\": \"ami-2955524f\"\n      },\n      \"eu-west-2\": {\n        \"PV64\": \"NOT_SUPPORTED\",\n        \"HVM64\": \"ami-886369ec\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      },\n      \"eu-central-1\": {\n        \"PV64\": \"ami-6527cf0a\",\n        \"HVM64\": \"ami-ea26ce85\",\n        \"HVMG2\": \"ami-81ac71ee\"\n      },\n      \"ap-northeast-1\": {\n        \"PV64\": \"ami-3e42b65f\",\n        \"HVM64\": \"ami-374db956\",\n        \"HVMG2\": \"ami-46220c21\"\n      },\n      \"ap-northeast-2\": {\n        \"PV64\": \"NOT_SUPPORTED\",\n        \"HVM64\": \"ami-2b408b45\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      },\n      \"ap-southeast-1\": {\n        \"PV64\": \"ami-df9e4cbc\",\n        \"HVM64\": \"ami-a59b49c6\",\n        \"HVMG2\": \"ami-c212aba1\"\n      },\n      \"ap-southeast-2\": {\n        \"PV64\": \"ami-63351d00\",\n        \"HVM64\": \"ami-dc361ebf\",\n        \"HVMG2\": \"ami-0ad2db69\"\n      },\n      \"ap-south-1\": {\n        \"PV64\": \"NOT_SUPPORTED\",\n        \"HVM64\": \"ami-ffbdd790\",\n        \"HVMG2\": \"ami-ca3042a5\"\n      },\n      \"us-east-2\": {\n        \"PV64\": \"NOT_SUPPORTED\",\n        \"HVM64\": \"ami-f6035893\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      },\n      \"ca-central-1\": {\n        \"PV64\": \"NOT_SUPPORTED\",\n        \"HVM64\": \"ami-730ebd17\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      },\n      \"sa-east-1\": {\n        \"PV64\": \"ami-1ad34676\",\n        \"HVM64\": \"ami-6dd04501\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      },\n      \"cn-north-1\": {\n        \"PV64\": \"ami-77559f1a\",\n        \"HVM64\": \"ami-8e6aa0e3\",\n        \"HVMG2\": \"NOT_SUPPORTED\"\n      }\n    }\n  },\n  \"Resources\": {\n    \"EC2Instance\": {\n      \"Type\": \"AWS::EC2::Instance\",\n      \"Properties\": {\n        \"InstanceType\": {\n          \"Ref\": \"InstanceType\"\n        },\n        \"SecurityGroups\": [\n          {\n            \"Ref\": \"InstanceSecurityGroup\"\n          }\n        ],\n        \"KeyName\": {\n          \"Ref\": \"KeyName\"\n        },\n        \"Tags\" : [ {\"Key\" : \"Staging\",\n                   \"Value\" : \"Staging\"  } ],\n        \"ImageId\": {\n          \"Fn::FindInMap\": [\n            \"AWSRegionArch2AMI\",\n            {\n              \"Ref\": \"AWS::Region\"\n            },\n            {\n              \"Fn::FindInMap\": [\n                \"AWSInstanceType2Arch\",\n                {\n                  \"Ref\": \"InstanceType\"\n                },\n                \"Arch\"\n              ]\n            }\n          ]\n        }\n      }\n    },\n    \"InstanceSecurityGroup\": {\n      \"Type\": \"AWS::EC2::SecurityGroup\",\n      \"Properties\": {\n         \"Tags\" : [ {\"Key\" : \"Staging\",\n                   \"Value\" : \"Staging\"  } ],\n        \"GroupDescription\": \"Enable SSH access via port 22\",\n        \"SecurityGroupIngress\": [\n          {\n            \"IpProtocol\": \"tcp\",\n            \"FromPort\": \"22\",\n            \"ToPort\": \"22\",\n            \"CidrIp\": {\n              \"Ref\": \"SSHLocation\"\n            }\n          }\n        ]\n      }\n    }\n  },\n  \"Outputs\": {\n    \"InstanceId\": {\n      \"Description\": \"InstanceId of the newly created EC2 instance\",\n      \"Value\": {\n        \"Ref\": \"EC2Instance\"\n      }\n    },\n    \"AZ\": {\n      \"Description\": \"Availability Zone of the newly created EC2 instance\",\n      \"Value\": {\n        \"Fn::GetAtt\": [\n          \"EC2Instance\",\n          \"AvailabilityZone\"\n        ]\n      }\n    },\n    \"PublicDNS\": {\n      \"Description\": \"Public DNSName of the newly created EC2 instance\",\n      \"Value\": {\n        \"Fn::GetAtt\": [\n          \"EC2Instance\",\n          \"PublicDnsName\"\n        ]\n      }\n    },\n    \"PublicIP\": {\n      \"Description\": \"Public IP address of the newly created EC2 instance\",\n      \"Value\": {\n        \"Fn::GetAtt\": [\n          \"EC2Instance\",\n          \"PublicIp\"\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n", "OwnerUserId": "10478578", "LastActivityDate": "2019-09-10T09:53:24.043", "CommentCount": "1", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "102161957", "PostId": "57868259", "Score": "0", "Text": "could you highlight the changes somehow please? this is not very clear as an answer", "CreationDate": "2019-09-10T10:08:16.370", "UserId": "4032059", "filtered-sentences": [{"source": "Text", "text": "could you highlight the changes somehow please? ", "keywords": ["change"]}]}], "history": [{"Id": "205072205", "PostHistoryTypeId": "2", "PostId": "57868259", "RevisionGUID": "8f3fce9a-38fd-42d1-8a4f-2e6573d19a27", "CreationDate": "2019-09-10T09:53:24.043", "UserId": "10478578", "Text": "Update your cloudformation script with the below:\r\n```\r\n{\r\n  \"AWSTemplateFormatVersion\": \"2010-09-09\",\r\n  \"Description\": \"AWS CloudFormation Sample Template EC2InstanceWithSecurityGroupSample:\\nCreate an Amazon EC2 instance running the Amazon Linux AMI. The AMI is chosen based\\non the region in which the stack is run. This example creates an EC2 security group\\nfor the instance to give you SSH access. **WARNING** This template creates an Amazon\\nEC2 instance. You will be billed for the AWS resources used if you create a stack\\nfrom this template.\",\r\n  \"Parameters\": {\r\n    \"KeyName\": {\r\n      \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instance\",\r\n      \"Type\": \"AWS::EC2::KeyPair::KeyName\",\r\n      \"ConstraintDescription\": \"must be the name of an existing EC2 KeyPair.\"\r\n    },\r\n    \"InstanceType\": {\r\n      \"Description\": \"WebServer EC2 instance type\",\r\n      \"Type\": \"String\",\r\n      \"Default\": \"t2.small\",\r\n      \"AllowedValues\": [\r\n        \"t1.micro\",\r\n        \"t2.nano\",\r\n        \"t2.micro\",\r\n        \"t2.small\",\r\n        \"t2.medium\",\r\n        \"t2.large\",\r\n        \"m1.small\",\r\n        \"m1.medium\",\r\n        \"m1.large\",\r\n        \"m1.xlarge\",\r\n        \"m2.xlarge\",\r\n        \"m2.2xlarge\",\r\n        \"m2.4xlarge\",\r\n        \"m3.medium\",\r\n        \"m3.large\",\r\n        \"m3.xlarge\",\r\n        \"m3.2xlarge\",\r\n        \"m4.large\",\r\n        \"m4.xlarge\",\r\n        \"m4.2xlarge\",\r\n        \"m4.4xlarge\",\r\n        \"m4.10xlarge\",\r\n        \"c1.medium\",\r\n        \"c1.xlarge\",\r\n        \"c3.large\",\r\n        \"c3.xlarge\",\r\n        \"c3.2xlarge\",\r\n        \"c3.4xlarge\",\r\n        \"c3.8xlarge\",\r\n        \"c4.large\",\r\n        \"c4.xlarge\",\r\n        \"c4.2xlarge\",\r\n        \"c4.4xlarge\",\r\n        \"c4.8xlarge\",\r\n        \"g2.2xlarge\",\r\n        \"g2.8xlarge\",\r\n        \"r3.large\",\r\n        \"r3.xlarge\",\r\n        \"r3.2xlarge\",\r\n        \"r3.4xlarge\",\r\n        \"r3.8xlarge\",\r\n        \"i2.xlarge\",\r\n        \"i2.2xlarge\",\r\n        \"i2.4xlarge\",\r\n        \"i2.8xlarge\",\r\n        \"d2.xlarge\",\r\n        \"d2.2xlarge\",\r\n        \"d2.4xlarge\",\r\n        \"d2.8xlarge\",\r\n        \"hi1.4xlarge\",\r\n        \"hs1.8xlarge\",\r\n        \"cr1.8xlarge\",\r\n        \"cc2.8xlarge\",\r\n        \"cg1.4xlarge\"\r\n      ],\r\n      \"ConstraintDescription\": \"must be a valid EC2 instance type.\"\r\n    },\r\n    \"SSHLocation\": {\r\n      \"Description\": \"The IP address range that can be used to SSH to the EC2 instances\",\r\n      \"Type\": \"String\",\r\n      \"MinLength\": \"9\",\r\n      \"MaxLength\": \"18\",\r\n      \"Default\": \"0.0.0.0/0\",\r\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\",\r\n      \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\"\r\n    }\r\n  },\r\n  \"Mappings\": {\r\n    \"AWSInstanceType2Arch\": {\r\n      \"t1.micro\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"t2.nano\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"t2.micro\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"t2.small\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"t2.medium\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"t2.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m1.small\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m1.medium\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m1.large\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m1.xlarge\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m2.xlarge\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m2.2xlarge\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m2.4xlarge\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"m3.medium\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m3.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m3.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m3.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m4.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m4.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m4.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m4.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"m4.10xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c1.medium\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"c1.xlarge\": {\r\n        \"Arch\": \"PV64\"\r\n      },\r\n      \"c3.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c3.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c3.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c3.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c3.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c4.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c4.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c4.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c4.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"c4.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"g2.2xlarge\": {\r\n        \"Arch\": \"HVMG2\"\r\n      },\r\n      \"g2.8xlarge\": {\r\n        \"Arch\": \"HVMG2\"\r\n      },\r\n      \"r3.large\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"r3.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"r3.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"r3.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"r3.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"i2.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"i2.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"i2.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"i2.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"d2.xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"d2.2xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"d2.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"d2.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"hi1.4xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"hs1.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"cr1.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      },\r\n      \"cc2.8xlarge\": {\r\n        \"Arch\": \"HVM64\"\r\n      }\r\n    },\r\n    \"AWSInstanceType2NATArch\": {\r\n      \"t1.micro\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"t2.nano\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"t2.micro\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"t2.small\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"t2.medium\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"t2.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m1.small\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m1.medium\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m1.large\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m1.xlarge\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m2.xlarge\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m2.2xlarge\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m2.4xlarge\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"m3.medium\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m3.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m3.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m3.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m4.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m4.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m4.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m4.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"m4.10xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c1.medium\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"c1.xlarge\": {\r\n        \"Arch\": \"NATPV64\"\r\n      },\r\n      \"c3.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c3.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c3.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c3.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c3.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c4.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c4.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c4.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c4.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"c4.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"g2.2xlarge\": {\r\n        \"Arch\": \"NATHVMG2\"\r\n      },\r\n      \"g2.8xlarge\": {\r\n        \"Arch\": \"NATHVMG2\"\r\n      },\r\n      \"r3.large\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"r3.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"r3.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"r3.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"r3.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"i2.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"i2.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"i2.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"i2.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"d2.xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"d2.2xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"d2.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"d2.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"hi1.4xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"hs1.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"cr1.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      },\r\n      \"cc2.8xlarge\": {\r\n        \"Arch\": \"NATHVM64\"\r\n      }\r\n    },\r\n    \"AWSRegionArch2AMI\": {\r\n      \"us-east-1\": {\r\n        \"PV64\": \"ami-2a69aa47\",\r\n        \"HVM64\": \"ami-6869aa05\",\r\n        \"HVMG2\": \"ami-61e27177\"\r\n      },\r\n      \"us-west-2\": {\r\n        \"PV64\": \"ami-7f77b31f\",\r\n        \"HVM64\": \"ami-7172b611\",\r\n        \"HVMG2\": \"ami-60aa3700\"\r\n      },\r\n      \"us-west-1\": {\r\n        \"PV64\": \"ami-a2490dc2\",\r\n        \"HVM64\": \"ami-31490d51\",\r\n        \"HVMG2\": \"ami-4b694d2b\"\r\n      },\r\n      \"eu-west-1\": {\r\n        \"PV64\": \"ami-4cdd453f\",\r\n        \"HVM64\": \"ami-f9dd458a\",\r\n        \"HVMG2\": \"ami-2955524f\"\r\n      },\r\n      \"eu-west-2\": {\r\n        \"PV64\": \"NOT_SUPPORTED\",\r\n        \"HVM64\": \"ami-886369ec\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      },\r\n      \"eu-central-1\": {\r\n        \"PV64\": \"ami-6527cf0a\",\r\n        \"HVM64\": \"ami-ea26ce85\",\r\n        \"HVMG2\": \"ami-81ac71ee\"\r\n      },\r\n      \"ap-northeast-1\": {\r\n        \"PV64\": \"ami-3e42b65f\",\r\n        \"HVM64\": \"ami-374db956\",\r\n        \"HVMG2\": \"ami-46220c21\"\r\n      },\r\n      \"ap-northeast-2\": {\r\n        \"PV64\": \"NOT_SUPPORTED\",\r\n        \"HVM64\": \"ami-2b408b45\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      },\r\n      \"ap-southeast-1\": {\r\n        \"PV64\": \"ami-df9e4cbc\",\r\n        \"HVM64\": \"ami-a59b49c6\",\r\n        \"HVMG2\": \"ami-c212aba1\"\r\n      },\r\n      \"ap-southeast-2\": {\r\n        \"PV64\": \"ami-63351d00\",\r\n        \"HVM64\": \"ami-dc361ebf\",\r\n        \"HVMG2\": \"ami-0ad2db69\"\r\n      },\r\n      \"ap-south-1\": {\r\n        \"PV64\": \"NOT_SUPPORTED\",\r\n        \"HVM64\": \"ami-ffbdd790\",\r\n        \"HVMG2\": \"ami-ca3042a5\"\r\n      },\r\n      \"us-east-2\": {\r\n        \"PV64\": \"NOT_SUPPORTED\",\r\n        \"HVM64\": \"ami-f6035893\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      },\r\n      \"ca-central-1\": {\r\n        \"PV64\": \"NOT_SUPPORTED\",\r\n        \"HVM64\": \"ami-730ebd17\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      },\r\n      \"sa-east-1\": {\r\n        \"PV64\": \"ami-1ad34676\",\r\n        \"HVM64\": \"ami-6dd04501\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      },\r\n      \"cn-north-1\": {\r\n        \"PV64\": \"ami-77559f1a\",\r\n        \"HVM64\": \"ami-8e6aa0e3\",\r\n        \"HVMG2\": \"NOT_SUPPORTED\"\r\n      }\r\n    }\r\n  },\r\n  \"Resources\": {\r\n    \"EC2Instance\": {\r\n      \"Type\": \"AWS::EC2::Instance\",\r\n      \"Properties\": {\r\n        \"InstanceType\": {\r\n          \"Ref\": \"InstanceType\"\r\n        },\r\n        \"SecurityGroups\": [\r\n          {\r\n            \"Ref\": \"InstanceSecurityGroup\"\r\n          }\r\n        ],\r\n        \"KeyName\": {\r\n          \"Ref\": \"KeyName\"\r\n        },\r\n        \"Tags\" : [ {\"Key\" : \"Staging\",\r\n                   \"Value\" : \"Staging\"  } ],\r\n        \"ImageId\": {\r\n          \"Fn::FindInMap\": [\r\n            \"AWSRegionArch2AMI\",\r\n            {\r\n              \"Ref\": \"AWS::Region\"\r\n            },\r\n            {\r\n              \"Fn::FindInMap\": [\r\n                \"AWSInstanceType2Arch\",\r\n                {\r\n                  \"Ref\": \"InstanceType\"\r\n                },\r\n                \"Arch\"\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    \"InstanceSecurityGroup\": {\r\n      \"Type\": \"AWS::EC2::SecurityGroup\",\r\n      \"Properties\": {\r\n         \"Tags\" : [ {\"Key\" : \"Staging\",\r\n                   \"Value\" : \"Staging\"  } ],\r\n        \"GroupDescription\": \"Enable SSH access via port 22\",\r\n        \"SecurityGroupIngress\": [\r\n          {\r\n            \"IpProtocol\": \"tcp\",\r\n            \"FromPort\": \"22\",\r\n            \"ToPort\": \"22\",\r\n            \"CidrIp\": {\r\n              \"Ref\": \"SSHLocation\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  \"Outputs\": {\r\n    \"InstanceId\": {\r\n      \"Description\": \"InstanceId of the newly created EC2 instance\",\r\n      \"Value\": {\r\n        \"Ref\": \"EC2Instance\"\r\n      }\r\n    },\r\n    \"AZ\": {\r\n      \"Description\": \"Availability Zone of the newly created EC2 instance\",\r\n      \"Value\": {\r\n        \"Fn::GetAtt\": [\r\n          \"EC2Instance\",\r\n          \"AvailabilityZone\"\r\n        ]\r\n      }\r\n    },\r\n    \"PublicDNS\": {\r\n      \"Description\": \"Public DNSName of the newly created EC2 instance\",\r\n      \"Value\": {\r\n        \"Fn::GetAtt\": [\r\n          \"EC2Instance\",\r\n          \"PublicDnsName\"\r\n        ]\r\n      }\r\n    },\r\n    \"PublicIP\": {\r\n      \"Description\": \"Public IP address of the newly created EC2 instance\",\r\n      \"Value\": {\r\n        \"Fn::GetAtt\": [\r\n          \"EC2Instance\",\r\n          \"PublicIp\"\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "\"AWSTemplateFormatVersion\": \"2010-09-09\", \"Description\": \"AWS CloudFormation Sample Template EC2InstanceWithSecurityGroupSample:\\nCreate an Amazon EC2 instance running the Amazon Linux AMI. ", "keywords": ["instance"]}, {"source": "Text", "text": "This example creates an EC2 security group\\nfor the instance to give you SSH access. ", "keywords": ["instance"]}, {"source": "Text", "text": "This template creates an Amazon\\nEC2 instance. ", "keywords": ["instance"]}, {"source": "Text", "text": "You will be billed for the AWS resources used if you create a stack\\nfrom this template.\", \"Parameters\": { \"KeyName\": { \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instance\", \"Type\": \"AWS::EC2::KeyPair::KeyName\", \"ConstraintDescription\": \"must be the name of an existing EC2 KeyPair.\" }, \"InstanceType\": { \"Description\": \"WebServer EC2 instance type\", \"Type\": \"String\", \"Default\": \"t2.small\", \"AllowedValues\": [ \"t1.micro\", \"t2.nano\", \"t2.micro\", \"t2.small\", \"t2.medium\", \"t2.large\", \"m1.small\", \"m1.medium\", \"m1.large\", \"m1.xlarge\", \"m2.xlarge\", \"m2.2xlarge\", \"m2.4xlarge\", \"m3.medium\", \"m3.large\", \"m3.xlarge\", \"m3.2xlarge\", \"m4.large\", \"m4.xlarge\", \"m4.2xlarge\", \"m4.4xlarge\", \"m4.10xlarge\", \"c1.medium\", \"c1.xlarge\", \"c3.large\", \"c3.xlarge\", \"c3.2xlarge\", \"c3.4xlarge\", \"c3.8xlarge\", \"c4.large\", \"c4.xlarge\", \"c4.2xlarge\", \"c4.4xlarge\", \"c4.8xlarge\", \"g2.2xlarge\", \"g2.8xlarge\", \"r3.large\", \"r3.xlarge\", \"r3.2xlarge\", \"r3.4xlarge\", \"r3.8xlarge\", \"i2.xlarge\", \"i2.2xlarge\", \"i2.4xlarge\", \"i2.8xlarge\", \"d2.xlarge\", \"d2.2xlarge\", \"d2.4xlarge\", \"d2.8xlarge\", \"hi1.4xlarge\", \"hs1.8xlarge\", \"cr1.8xlarge\", \"cc2.8xlarge\", \"cg1.4xlarge\" ], \"ConstraintDescription\": \"must be a valid EC2 instance type.\" }, \"SSHLocation\": { \"Description\": \"The IP address range that can be used to SSH to the EC2 instances\", \"Type\": \"String\", \"MinLength\": \"9\", \"MaxLength\": \"18\", \"Default\": \"0.0.0.0/0\", \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\", \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\" } }, \"Mappings\": { \"AWSInstanceType2Arch\": { \"t1.micro\": { \"Arch\": \"PV64\" ", "keywords": ["bill", "instance"]}, {"source": "Text", "text": "}, \"cn-north-1\": { \"PV64\": \"ami-77559f1a\", \"HVM64\": \"ami-8e6aa0e3\", \"HVMG2\": \"NOT_SUPPORTED\" } } }, \"Resources\": { \"EC2Instance\": { \"Type\": \"AWS::EC2::Instance\", \"Properties\": { \"InstanceType\": { \"Ref\": \"InstanceType\" }, \"SecurityGroups\": [ { \"Ref\": \"InstanceSecurityGroup\" } ], \"KeyName\": { \"Ref\": \"KeyName\" ", "keywords": ["instance"]}, {"source": "Text", "text": "}, \"Arch\" ] } ] } } }, \"InstanceSecurityGroup\": { \"Type\": \"AWS::EC2::SecurityGroup\", \"Properties\": { \"Tags\" : [ {\"Key\" : \"Staging\", \"Value\" : \"Staging\" } ], \"GroupDescription\": \"Enable SSH access via port 22\", \"SecurityGroupIngress\": [ { \"IpProtocol\": \"tcp\", \"FromPort\": \"22\", \"ToPort\": \"22\", \"CidrIp\": { \"Ref\": \"SSHLocation\" } } ] } } }, \"Outputs\": { \"InstanceId\": { \"Description\": \"InstanceId of the newly created EC2 instance\", \"Value\": { \"Ref\": \"EC2Instance\" } }, \"AZ\": { \"Description\": \"Availability Zone of the newly created EC2 instance\", \"Value\": { \"Fn::GetAtt\": [ \"EC2Instance\", \"AvailabilityZone\" ] } }, \"PublicDNS\": { \"Description\": \"Public DNSName of the newly created EC2 instance\", \"Value\": { \"Fn::GetAtt\": [ \"EC2Instance\", \"PublicDnsName\" ] } }, \"PublicIP\": { \"Description\": \"Public IP address of the newly created EC2 instance\", \"Value\": { \"Fn::GetAtt\": [ \"EC2Instance\", \"PublicIp\" ] ", "keywords": ["instance"]}]}], "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "I have a template in cloudformation which launches an instance. ", "keywords": ["instance"]}]}