{"Id": "66971093", "PostTypeId": "1", "CreationDate": "2021-04-06T14:55:57.470", "Score": "0", "ViewCount": "391", "Body": "<p>I have written this bash command to extract the output of this json:</p>\n<pre><code>{\n    &quot;Stacks&quot;:  [\n        {\n            &quot;StackId&quot;: &quot;arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896&quot;,\n            &quot;Description&quot;: &quot;AWS CloudFormation Sample Template S3_Bucket: Sample template showing how to create a publicly accessible S3 bucket. **WARNING** This template creates an S3 bucket. You will be billed for the AWS resources used if you create a stack from this template.&quot;,\n            &quot;Tags&quot;: [],\n            &quot;Outputs&quot;: [\n                {\n                    &quot;Description&quot;: &quot;Name of S3 bucket to hold website content&quot;,\n                    &quot;OutputKey&quot;: &quot;BucketName&quot;,\n                    &quot;OutputValue&quot;: &quot;myteststack-s3bucket-jssofi1zie2w&quot;\n                }\n            ],\n            &quot;StackStatusReason&quot;: null,\n            &quot;CreationTime&quot;: &quot;2013-08-23T01:02:15.422Z&quot;,\n            &quot;Capabilities&quot;: [],\n            &quot;StackName&quot;: &quot;myteststack&quot;,\n            &quot;StackStatus&quot;: &quot;CREATE_COMPLETE&quot;,\n            &quot;DisableRollback&quot;: false\n        }\n    ]\n}\n</code></pre>\n<p>the code the I wrote is this:\nwhile :</p>\n<pre><code>          do\n                status=aws cloudformation describe-stacks --region $REGION --stack-name $stack_name | jq --raw-output '.Stacks[0].StackStatus' \n                echo $status \n                if [[ $status == &quot;UPDATE_ROLLBACK_COMPLETE&quot; ]]; then\n                      echo &quot;Status is in ROLLBACK check errors&quot;\n                      exit 1\n                else \n                      if [[ $status == &quot;UPDATE_COMPLETE&quot; ]]; then\n                            break\n                      fi\n                fi\n          echo Stack updating is finishing \n          done\n</code></pre>\n<p>but I receive an error that says that the command cloudformation not found</p>\n", "OwnerUserId": "15212324", "LastEditorUserId": "11598956", "LastEditDate": "2021-04-07T12:36:37.593", "LastActivityDate": "2021-04-07T12:36:37.593", "Title": "Aws CloudFormation command not found", "Tags": "|bash|aws-cloudformation|", "AnswerCount": "1", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "244121036", "PostHistoryTypeId": "2", "PostId": "66971093", "RevisionGUID": "2503751e-3151-4ee9-a76f-3764f1e6cae1", "CreationDate": "2021-04-06T14:55:57.470", "UserId": "15212324", "Text": "i have writed tihis bash command to exctract the output of this json:\r\n\r\n    {\r\n        \"Stacks\":  [\r\n            {\r\n                \"StackId\": \"arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896\",\r\n                \"Description\": \"AWS CloudFormation Sample Template S3_Bucket: Sample template showing how to create a publicly accessible S3 bucket. **WARNING** This template creates an S3 bucket. You will be billed for the AWS resources used if you create a stack from this template.\",\r\n                \"Tags\": [],\r\n                \"Outputs\": [\r\n                    {\r\n                        \"Description\": \"Name of S3 bucket to hold website content\",\r\n                        \"OutputKey\": \"BucketName\",\r\n                        \"OutputValue\": \"myteststack-s3bucket-jssofi1zie2w\"\r\n                    }\r\n                ],\r\n                \"StackStatusReason\": null,\r\n                \"CreationTime\": \"2013-08-23T01:02:15.422Z\",\r\n                \"Capabilities\": [],\r\n                \"StackName\": \"myteststack\",\r\n                \"StackStatus\": \"CREATE_COMPLETE\",\r\n                \"DisableRollback\": false\r\n            }\r\n        ]\r\n    }\r\n\r\nthe code the I writed is this:\r\nwhile :\r\n\r\n              do\r\n                    status=aws cloudformation describe-stacks --region $REGION --stack-name $stack_name | jq --raw-output '.Stacks[0].StackStatus' \r\n                    echo $status \r\n                    if [[ $status == \"UPDATE_ROLLBACK_COMPLETE\" ]]; then\r\n                          echo \"Status is in ROLLBACK check errors\"\r\n                          exit 1\r\n                    else \r\n                          if [[ $status == \"UPDATE_COMPLETE\" ]]; then\r\n                                break\r\n                          fi\r\n                    fi\r\n              echo Stack updating is finishing \r\n              done\r\n\r\nbut i recive an error that says that the command cloudformation not found", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "You will be billed for the AWS resources used if you create a stack from this template.\", \"Tags\": [], \"Outputs\": [ { \"Description\": \"Name of S3 bucket to hold website content\", \"OutputKey\": \"BucketName\", \"OutputValue\": \"myteststack-s3bucket-jssofi1zie2w\" } ], \"StackStatusReason\": null, \"CreationTime\": \"2013-08-23T01:02:15.422Z\", \"Capabilities\": [], \"StackName\": \"myteststack\", \"StackStatus\": \"CREATE_COMPLETE\", \"DisableRollback\": false } ] } the code the I writed is this: while : do status=aws cloudformation describe-stacks --region $REGION --stack-name $stack_name | jq --raw-output '.Stacks[0].StackStatus' echo $status if [[ $status == \"UPDATE_ROLLBACK_COMPLETE\" ]]; then echo \"Status is in ROLLBACK check errors\" exit 1 else if [[ $status == \"UPDATE_COMPLETE\" ]]; then break fi fi echo Stack updating is finishing done but i recive an error that says that the command cloudformation not found", "keywords": ["bill"]}]}, {"Id": "244121037", "PostHistoryTypeId": "1", "PostId": "66971093", "RevisionGUID": "2503751e-3151-4ee9-a76f-3764f1e6cae1", "CreationDate": "2021-04-06T14:55:57.470", "UserId": "15212324", "Text": "Aws cloudforation command nto found", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "244121038", "PostHistoryTypeId": "3", "PostId": "66971093", "RevisionGUID": "2503751e-3151-4ee9-a76f-3764f1e6cae1", "CreationDate": "2021-04-06T14:55:57.470", "UserId": "15212324", "Text": "|bash|aws-cloudformation|", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "244183195", "PostHistoryTypeId": "5", "PostId": "66971093", "RevisionGUID": "41d55ede-79e6-46e4-8044-9b43a1e0ac89", "CreationDate": "2021-04-07T12:36:37.593", "UserId": "11598956", "Comment": "spelling mistakes", "Text": "I have written this bash command to extract the output of this json:\r\n\r\n    {\r\n        \"Stacks\":  [\r\n            {\r\n                \"StackId\": \"arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896\",\r\n                \"Description\": \"AWS CloudFormation Sample Template S3_Bucket: Sample template showing how to create a publicly accessible S3 bucket. **WARNING** This template creates an S3 bucket. You will be billed for the AWS resources used if you create a stack from this template.\",\r\n                \"Tags\": [],\r\n                \"Outputs\": [\r\n                    {\r\n                        \"Description\": \"Name of S3 bucket to hold website content\",\r\n                        \"OutputKey\": \"BucketName\",\r\n                        \"OutputValue\": \"myteststack-s3bucket-jssofi1zie2w\"\r\n                    }\r\n                ],\r\n                \"StackStatusReason\": null,\r\n                \"CreationTime\": \"2013-08-23T01:02:15.422Z\",\r\n                \"Capabilities\": [],\r\n                \"StackName\": \"myteststack\",\r\n                \"StackStatus\": \"CREATE_COMPLETE\",\r\n                \"DisableRollback\": false\r\n            }\r\n        ]\r\n    }\r\n\r\nthe code the I wrote is this:\r\nwhile :\r\n\r\n              do\r\n                    status=aws cloudformation describe-stacks --region $REGION --stack-name $stack_name | jq --raw-output '.Stacks[0].StackStatus' \r\n                    echo $status \r\n                    if [[ $status == \"UPDATE_ROLLBACK_COMPLETE\" ]]; then\r\n                          echo \"Status is in ROLLBACK check errors\"\r\n                          exit 1\r\n                    else \r\n                          if [[ $status == \"UPDATE_COMPLETE\" ]]; then\r\n                                break\r\n                          fi\r\n                    fi\r\n              echo Stack updating is finishing \r\n              done\r\n\r\nbut I receive an error that says that the command cloudformation not found", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "You will be billed for the AWS resources used if you create a stack from this template.\", \"Tags\": [], \"Outputs\": [ { \"Description\": \"Name of S3 bucket to hold website content\", \"OutputKey\": \"BucketName\", \"OutputValue\": \"myteststack-s3bucket-jssofi1zie2w\" } ], \"StackStatusReason\": null, \"CreationTime\": \"2013-08-23T01:02:15.422Z\", \"Capabilities\": [], \"StackName\": \"myteststack\", \"StackStatus\": \"CREATE_COMPLETE\", \"DisableRollback\": false } ] } the code the I wrote is this: while : do status=aws cloudformation describe-stacks --region $REGION --stack-name $stack_name | jq --raw-output '.Stacks[0].StackStatus' echo $status if [[ $status == \"UPDATE_ROLLBACK_COMPLETE\" ]]; then echo \"Status is in ROLLBACK check errors\" exit 1 else if [[ $status == \"UPDATE_COMPLETE\" ]]; then break fi fi echo Stack updating is finishing done but I receive an error that says that the command cloudformation not found", "keywords": ["bill"]}]}, {"Id": "244183196", "PostHistoryTypeId": "4", "PostId": "66971093", "RevisionGUID": "41d55ede-79e6-46e4-8044-9b43a1e0ac89", "CreationDate": "2021-04-07T12:36:37.593", "UserId": "11598956", "Comment": "spelling mistakes", "Text": "Aws CloudFormation command not found", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "244183197", "PostHistoryTypeId": "24", "PostId": "66971093", "RevisionGUID": "41d55ede-79e6-46e4-8044-9b43a1e0ac89", "CreationDate": "2021-04-07T12:36:37.593", "Comment": "Proposed by 11598956 approved by 1940850, 874188 edit id of 5129899", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "66971712", "PostTypeId": "2", "ParentId": "66971093", "CreationDate": "2021-04-06T15:30:46.983", "Score": "0", "Body": "<p>You have to add to the command this &quot;$()&quot;:</p>\n<pre><code>status=$(aws cloudformation describe-stacks --region $REGION --stack-name $stack_name | jq --raw-output '.Stacks[0].StackStatus')\n</code></pre>\n", "OwnerUserId": "15212324", "LastActivityDate": "2021-04-06T15:30:46.983", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "244123614", "PostHistoryTypeId": "2", "PostId": "66971712", "RevisionGUID": "21ab5565-b4b5-44e2-b97b-9cd606cfa798", "CreationDate": "2021-04-06T15:30:46.983", "UserId": "15212324", "Text": "You have to add to the command this \"$()\":\r\n\r\n    status=$(aws cloudformation describe-stacks --region $REGION --stack-name $stack_name | jq --raw-output '.Stacks[0].StackStatus')\r\n\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}], "contains-topic": false, "filtered-sentences": []}