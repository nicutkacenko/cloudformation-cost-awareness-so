{"Id": "27497270", "PostTypeId": "1", "AcceptedAnswerId": "27497286", "CreationDate": "2014-12-16T03:57:18.113", "Score": "11", "ViewCount": "8299", "Body": "<p>According the <a href=\"http://docs.aws.amazon.com/cli/latest/reference/cloudformation/validate-template.html\" rel=\"noreferrer\">aws validate-template</a>, I did the test to validate same template from URL and local file. </p>\n\n<p>But I got different output.</p>\n\n<p>Test from URL directly:</p>\n\n<pre><code>$ aws cloudformation validate-template --template-url https://s3.amazonaws.com/cloudformation-templates-us-east-1/S3_Bucket.template\n{\n    \"Description\": \"AWS CloudFormation Sample Template S3_Bucket: Sample template showing how to create a publicly accessible S3 bucket. **WARNING** This template creates an S3 bucket. You will be billed for the AWS resources used if you create a stack from this template.\",\n    \"Parameters\": []\n}\n</code></pre>\n\n<p>But when I download it to local, and test again.</p>\n\n<pre><code>$ wget https://s3.amazonaws.com/cloudformation-templates-us-east-1/S3_Bucket.template\n\n2014-12-16 14:48:27 (11.1 MB/s) - 'S3_Bucket.template' saved [652/652]\n\n$ aws cloudformation validate-template --template-body S3_Bucket.template\n\nA client error (ValidationError) occurred when calling the ValidateTemplate operation: Template format error: JSON not well-formed. (line 1, column 10)\n</code></pre>\n\n<p>Any idea? </p>\n", "OwnerUserId": "498256", "LastActivityDate": "2020-11-02T21:25:27.660", "Title": "Cloudformation template validate", "Tags": "|amazon-web-services|aws-cloudformation|aws-cli|", "AnswerCount": "1", "CommentCount": "0", "FavoriteCount": "0", "ContentLicense": "CC BY-SA 3.0", "history": [{"Id": "79847398", "PostHistoryTypeId": "2", "PostId": "27497270", "RevisionGUID": "aaa278cf-1b7b-471f-8572-8aba18cafb9c", "CreationDate": "2014-12-16T03:57:18.113", "UserId": "498256", "Text": "According the [aws validate-template](http://docs.aws.amazon.com/cli/latest/reference/cloudformation/validate-template.html), I did the test to validate same template from URL and local file. \r\n\r\nBut I got different output.\r\n\r\nTest from URL directly:\r\n\r\n    $ aws cloudformation validate-template --template-url https://s3.amazonaws.com/cloudformation-templates-us-east-1/S3_Bucket.template\r\n    {\r\n        \"Description\": \"AWS CloudFormation Sample Template S3_Bucket: Sample template showing how to create a publicly accessible S3 bucket. **WARNING** This template creates an S3 bucket. You will be billed for the AWS resources used if you create a stack from this template.\",\r\n        \"Parameters\": []\r\n    }\r\n\r\nBut when I download it to local, and test again.\r\n\r\n    $ wget https://s3.amazonaws.com/cloudformation-templates-us-east-1/S3_Bucket.template\r\n    \r\n    2014-12-16 14:48:27 (11.1 MB/s) - 'S3_Bucket.template' saved [652/652]\r\n    \r\n    $ aws cloudformation validate-template --template-body S3_Bucket.template\r\n    \r\n    A client error (ValidationError) occurred when calling the ValidateTemplate operation: Template format error: JSON not well-formed. (line 1, column 10)\r\n\r\nAny idea? \r\n", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": [{"source": "Text", "text": "According the [aws validate-template](http://docs.aws.amazon.com/cli/latest/reference/cloudformation/validate-template.html), I did the test to validate same template from URL and local file. ", "keywords": ["test"]}, {"source": "Text", "text": "Test from URL directly: $ aws cloudformation validate-template --template-url https://s3.amazonaws.com/cloudformation-templates-us-east-1/S3_Bucket.template { \"Description\": \"AWS CloudFormation Sample Template S3_Bucket: Sample template showing how to create a publicly accessible S3 bucket. ", "keywords": ["test"]}, {"source": "Text", "text": "You will be billed for the AWS resources used if you create a stack from this template.\", \"Parameters\": [] } ", "keywords": ["bill"]}, {"source": "Text", "text": "But when I download it to local, and test again. ", "keywords": ["test"]}]}, {"Id": "79847399", "PostHistoryTypeId": "1", "PostId": "27497270", "RevisionGUID": "aaa278cf-1b7b-471f-8572-8aba18cafb9c", "CreationDate": "2014-12-16T03:57:18.113", "UserId": "498256", "Text": "Cloudformation template validate", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": []}, {"Id": "79847400", "PostHistoryTypeId": "3", "PostId": "27497270", "RevisionGUID": "aaa278cf-1b7b-471f-8572-8aba18cafb9c", "CreationDate": "2014-12-16T03:57:18.113", "UserId": "498256", "Text": "|amazon-web-services|aws-cloudformation|aws-cli|", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": []}, {"Id": "234117739", "PostHistoryTypeId": "33", "PostId": "27497270", "RevisionGUID": "b03d3546-65b1-4fcd-9387-0ab7cd06b350", "CreationDate": "2020-11-02T21:25:27.660", "UserId": "1366033", "Comment": "218906", "filtered-sentences": []}, {"Id": "234277174", "PostHistoryTypeId": "34", "PostId": "27497270", "RevisionGUID": "443cf0fb-b22f-460d-8c5c-3cf0b25984b7", "CreationDate": "2020-11-05T03:59:50.720", "UserId": "1366033", "Comment": "218906", "filtered-sentences": []}], "answers": [{"Id": "27497286", "PostTypeId": "2", "ParentId": "27497270", "CreationDate": "2014-12-16T04:00:30.720", "Score": "25", "Body": "<p>I knew how to fix it now. You need give the file <code>full path</code> with <code>file:///</code> </p>\n\n<pre><code>aws cloudformation validate-template --template-body file:///home/local/test/S3_Bucket.template\n</code></pre>\n\n<p>Or with relative path ( file:// instead of file:/// ):</p>\n\n<pre><code>aws cloudformation validate-template --template-body file://S3_Bucket.template\n</code></pre>\n", "OwnerUserId": "498256", "LastEditorUserId": "4736211", "LastEditDate": "2018-10-25T06:59:28.860", "LastActivityDate": "2018-10-25T06:59:28.860", "CommentCount": "2", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "91279337", "PostId": "27497286", "Score": "5", "Text": "You can also use relative URLs, with just `file://` (not double, not triple slash).", "CreationDate": "2018-09-04T11:12:24.127", "UserId": "2569801", "filtered-sentences": []}, {"Id": "91279958", "PostId": "27497286", "Score": "2", "Text": "I think this is the new feature. My answer is 4 years old. AWS must improve it.", "CreationDate": "2018-09-04T11:28:19.197", "UserId": "498256", "filtered-sentences": [{"source": "Text", "text": "I think this is the new feature. ", "keywords": ["feature"]}]}], "history": [{"Id": "79847463", "PostHistoryTypeId": "2", "PostId": "27497286", "RevisionGUID": "6b7b54f8-7add-414d-943b-62d41ff60024", "CreationDate": "2014-12-16T04:00:30.720", "UserId": "498256", "Text": "I knew how to fix it now. You need give the file `full path` with `file:///` \r\n\r\n    aws cloudformation validate-template --template-body file:///home/local/test/S3_Bucket.template\r\n", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": [{"source": "Text", "text": "You need give the file `full path` with `file:///` aws cloudformation validate-template --template-body file:///home/local/test/S3_Bucket.template", "keywords": ["test"]}]}, {"Id": "184482321", "PostHistoryTypeId": "5", "PostId": "27497286", "RevisionGUID": "87b5d437-e1ce-4879-be02-ccd8d762b9ea", "CreationDate": "2018-10-25T06:59:28.860", "UserId": "4736211", "Comment": "Moving the relative path update out of the comment into the answer since this is the second time I've needed to look up the relative path syntax.", "Text": "I knew how to fix it now. You need give the file `full path` with `file:///` \r\n\r\n    aws cloudformation validate-template --template-body file:///home/local/test/S3_Bucket.template\r\n\r\nOr with relative path ( file:// instead of file:/// ):\r\n\r\n    aws cloudformation validate-template --template-body file://S3_Bucket.template", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "You need give the file `full path` with `file:///` aws cloudformation validate-template --template-body file:///home/local/test/S3_Bucket.template Or with relative path ( file:// instead of file:/// ): aws cloudformation validate-template --template-body file://S3_Bucket.template", "keywords": ["test"]}]}, {"Id": "184482322", "PostHistoryTypeId": "24", "PostId": "27497286", "RevisionGUID": "87b5d437-e1ce-4879-be02-ccd8d762b9ea", "CreationDate": "2018-10-25T06:59:28.860", "Comment": "Proposed by 4736211 approved by 4194079, 355274 edit id of 3977528", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "According the aws validate-template, I did the test to validate same template from URL and local file. ", "keywords": ["test"]}, {"source": "Body", "text": "Test from URL directly: But when I download it to local, and test again. ", "keywords": ["test"]}]}