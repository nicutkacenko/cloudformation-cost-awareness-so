{"Id": "44808810", "PostTypeId": "1", "AcceptedAnswerId": "44808974", "CreationDate": "2017-06-28T17:12:42.867", "Score": "0", "ViewCount": "181", "Body": "<p>I wrote a simple cloudformation template that should create an EC2 isntance on AWS.</p>\n\n<p>Cloudformation template gives \" Non-Windows instances with a virtualization type of 'hvm' are currently not supported for this instance type.\" I looked up on this forum and they said \"InstanceType\" is missing. I am brand new to Cloud formation . Where should I put \"InstanceTyp\"? thanks much\n         {\n           \"AWSTemplateFormatVersion\" : \"2010-09-09\",</p>\n\n<pre><code>       \"Description\" : \"AWS CloudFormation Sample Template EC2InstanceSample: Create an Amazon EC2 instance running the Amazon Linux AMI. The AMI is chosen based on the region in which the stack is run. This example uses the default security group, so to SSH to the new instance using the KeyPair you enter, you will need to have port 22 open in your default security group. **WARNING** This template an Amazon EC2 instances. You will be billed for the AWS resources used if you create a stack from this template.\",\n\n   \"Parameters\" : {\n       \"KeyName\": {\n        \"Description\" : \"Name of an existing EC2 KeyPair \",\n         \"Type\": \"String\",\n         \"MinLength\": \"1\",\n         \"MaxLength\": \"255\",\n         \"AllowedPattern\" : \"[\\\\x20-\\\\x7E]*\",\n         \"ConstraintDescription\" : \"can contain only ASCII characters.\"\n      }\n    },\n\n     \"Mappings\" : {\n     \"RegionMap\" : {\n            \"us-east-1\"      : { \"AMI\" : \"ami-6df1e514\" },\n            \"us-west-1\"      : { \"AMI\" : \"ami-6df1e514\" },\n            \"us-west-2\"      : { \"AMI\" : \"ami-6df1e514\" },\n             \"eu-west-1\"      : { \"AMI\" : \"ami-6df1e514\" },\n            \"sa-east-1\"      : { \"AMI\" : \"ami-3e3be423\" },\n            \"ap-southeast-1\" : { \"AMI\" : \"ami-74dda626\" },\n             \"ap-southeast-2\" : { \"AMI\" : \"ami-b3990e89\" },\n             \"ap-northeast-1\" : { \"AMI\" : \"ami-dcfa4edd\" }\n            }\n           },\n\n      \"Resources\" : {\n         \"Ec2Instance\" : {\n            \"Type\" : \"AWS::EC2::Instance\",\n            \"Properties\" : {\n            \"KeyName\" : { \"Ref\" : \"KeyName\" },\n            \"ImageId\" : { \"Fn::FindInMap\" : [ \"RegionMap\", { \"Ref\" :    \"AWS::Region\" }, \"AMI\" ]},\n           \"UserData\" : { \"Fn::Base64\" : \"80\" }\n       }\n      }\n    },\n\n     \"Outputs\" : {\n\"InstanceId\" : {\n  \"Description\" : \"InstanceId of the newly created EC2 instance\",\n  \"Value\" : { \"Ref\" : \"Ec2Instance\" }\n},\n\"AZ\" : {\n  \"Description\" : \"Availability Zone of the newly created EC2 instance\",\n  \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"AvailabilityZone\" ] }\n},\n\"PublicIP\" : {\n  \"Description\" : \"Public IP address of the newly created EC2 instance\",\n  \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PublicIp\" ] }\n},\n\"PrivateIP\" : {\n  \"Description\" : \"Private IP address of the newly created EC2 instance\",\n  \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PrivateIp\" ] }\n},\n\"PublicDNS\" : {\n  \"Description\" : \"Public DNSName of the newly created EC2 instance\",\n  \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PublicDnsName\" ] }\n},\n\"PrivateDNS\" : {\n  \"Description\" : \"Private DNSName of the newly created EC2 instance\",\n  \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PrivateDnsName\" ] }\n  }\n  }\n }\n</code></pre>\n", "OwnerUserId": "8201204", "LastEditorUserId": "4237701", "LastEditDate": "2017-07-31T14:46:23.533", "LastActivityDate": "2017-07-31T14:46:23.533", "Title": "Cloudformation template gives \" Non-Windows instances with a virtualization type of 'hvm' are currently not supported for this instance type", "Tags": "|amazon-web-services|amazon-ec2|aws-cloudformation|", "AnswerCount": "1", "CommentCount": "1", "ContentLicense": "CC BY-SA 3.0", "comments": [{"Id": "76598068", "PostId": "44808810", "Score": "0", "Text": "I searched up before I posted and found a similar question. But I don't know how to implement what was mentioned in the answer.", "CreationDate": "2017-06-28T17:22:43.053", "UserId": "8201204", "filtered-sentences": []}], "history": [{"Id": "150408884", "PostHistoryTypeId": "2", "PostId": "44808810", "RevisionGUID": "07df4b0b-782e-40a2-bdcb-055106fc1773", "CreationDate": "2017-06-28T17:12:42.867", "UserId": "8201204", "Text": "I wrote a simple cloudformation template that should create an EC2 isntance on AWS.\r\n\r\nCloudformation template gives \" Non-Windows instances with a virtualization type of 'hvm' are currently not supported for this instance type.\" I looked up on this forum and they said \"InstanceType\" is missing. I am brand new to Cloud formation . Where should I put \"InstanceTyp\"? thanks much\r\n         {\r\n           \"AWSTemplateFormatVersion\" : \"2010-09-09\",\r\n\r\n           \"Description\" : \"AWS CloudFormation Sample Template EC2InstanceSample: Create an Amazon EC2 instance running the Amazon Linux AMI. The AMI is chosen based on the region in which the stack is run. This example uses the default security group, so to SSH to the new instance using the KeyPair you enter, you will need to have port 22 open in your default security group. **WARNING** This template an Amazon EC2 instances. You will be billed for the AWS resources used if you create a stack from this template.\",\r\n\r\n       \"Parameters\" : {\r\n           \"KeyName\": {\r\n            \"Description\" : \"Name of an existing EC2 KeyPair \",\r\n             \"Type\": \"String\",\r\n             \"MinLength\": \"1\",\r\n             \"MaxLength\": \"255\",\r\n             \"AllowedPattern\" : \"[\\\\x20-\\\\x7E]*\",\r\n             \"ConstraintDescription\" : \"can contain only ASCII characters.\"\r\n          }\r\n        },\r\n\r\n         \"Mappings\" : {\r\n         \"RegionMap\" : {\r\n                \"us-east-1\"      : { \"AMI\" : \"ami-6df1e514\" },\r\n                \"us-west-1\"      : { \"AMI\" : \"ami-6df1e514\" },\r\n                \"us-west-2\"      : { \"AMI\" : \"ami-6df1e514\" },\r\n                 \"eu-west-1\"      : { \"AMI\" : \"ami-6df1e514\" },\r\n                \"sa-east-1\"      : { \"AMI\" : \"ami-3e3be423\" },\r\n                \"ap-southeast-1\" : { \"AMI\" : \"ami-74dda626\" },\r\n                 \"ap-southeast-2\" : { \"AMI\" : \"ami-b3990e89\" },\r\n                 \"ap-northeast-1\" : { \"AMI\" : \"ami-dcfa4edd\" }\r\n                }\r\n               },\r\n\r\n          \"Resources\" : {\r\n             \"Ec2Instance\" : {\r\n                \"Type\" : \"AWS::EC2::Instance\",\r\n                \"Properties\" : {\r\n                \"KeyName\" : { \"Ref\" : \"KeyName\" },\r\n                \"ImageId\" : { \"Fn::FindInMap\" : [ \"RegionMap\", { \"Ref\" :    \"AWS::Region\" }, \"AMI\" ]},\r\n               \"UserData\" : { \"Fn::Base64\" : \"80\" }\r\n           }\r\n          }\r\n        },\r\n\r\n         \"Outputs\" : {\r\n    \"InstanceId\" : {\r\n      \"Description\" : \"InstanceId of the newly created EC2 instance\",\r\n      \"Value\" : { \"Ref\" : \"Ec2Instance\" }\r\n    },\r\n    \"AZ\" : {\r\n      \"Description\" : \"Availability Zone of the newly created EC2 instance\",\r\n      \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"AvailabilityZone\" ] }\r\n    },\r\n    \"PublicIP\" : {\r\n      \"Description\" : \"Public IP address of the newly created EC2 instance\",\r\n      \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PublicIp\" ] }\r\n    },\r\n    \"PrivateIP\" : {\r\n      \"Description\" : \"Private IP address of the newly created EC2 instance\",\r\n      \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PrivateIp\" ] }\r\n    },\r\n    \"PublicDNS\" : {\r\n      \"Description\" : \"Public DNSName of the newly created EC2 instance\",\r\n      \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PublicDnsName\" ] }\r\n    },\r\n    \"PrivateDNS\" : {\r\n      \"Description\" : \"Private DNSName of the newly created EC2 instance\",\r\n      \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PrivateDnsName\" ] }\r\n      }\r\n      }\r\n     }", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": [{"source": "Text", "text": "Cloudformation template gives \" Non-Windows instances with a virtualization type of 'hvm' are currently not supported for this instance type.\" ", "keywords": ["instance"]}, {"source": "Text", "text": "Where should I put \"InstanceTyp\"? thanks much { \"AWSTemplateFormatVersion\" : \"2010-09-09\", \"Description\" : \"AWS CloudFormation Sample Template EC2InstanceSample: Create an Amazon EC2 instance running the Amazon Linux AMI. ", "keywords": ["instance"]}, {"source": "Text", "text": "This example uses the default security group, so to SSH to the new instance using the KeyPair you enter, you will need to have port 22 open in your default security group. ", "keywords": ["instance"]}, {"source": "Text", "text": "You will be billed for the AWS resources used if you create a stack from this template.\", \"Parameters\" : { \"KeyName\": { \"Description\" : \"Name of an existing EC2 KeyPair \", \"Type\": \"String\", \"MinLength\": \"1\", \"MaxLength\": \"255\", \"AllowedPattern\" : \"[\\\\x20-\\\\x7E]*\", \"ConstraintDescription\" : \"can contain only ASCII characters.\" } }, \"Mappings\" : { \"RegionMap\" : { \"us-east-1\" : { \"AMI\" : \"ami-6df1e514\" ", "keywords": ["bill"]}, {"source": "Text", "text": "}, \"ap-northeast-1\" : { \"AMI\" : \"ami-dcfa4edd\" } } }, \"Resources\" : { \"Ec2Instance\" : { \"Type\" : \"AWS::EC2::Instance\", \"Properties\" : { \"KeyName\" : { \"Ref\" : \"KeyName\" }, \"ImageId\" : { \"Fn::FindInMap\" : [ \"RegionMap\", { \"Ref\" : \"AWS::Region\" }, \"AMI\" ]}, \"UserData\" : { \"Fn::Base64\" : \"80\" } } } }, \"Outputs\" : { \"InstanceId\" : { \"Description\" : \"InstanceId of the newly created EC2 instance\", \"Value\" : { \"Ref\" : \"Ec2Instance\" } }, \"AZ\" : { \"Description\" : \"Availability Zone of the newly created EC2 instance\", \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"AvailabilityZone\" ] } }, \"PublicIP\" : { \"Description\" : \"Public IP address of the newly created EC2 instance\", \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PublicIp\" ] } }, \"PrivateIP\" : { \"Description\" : \"Private IP address of the newly created EC2 instance\", \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PrivateIp\" ] } }, \"PublicDNS\" : { \"Description\" : \"Public DNSName of the newly created EC2 instance\", \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PublicDnsName\" ] } ", "keywords": ["instance"]}, {"source": "Text", "text": "}, \"PrivateDNS\" : { \"Description\" : \"Private DNSName of the newly created EC2 instance\", \"Value\" : { \"Fn::GetAtt\" : [ \"Ec2Instance\", \"PrivateDnsName\" ] ", "keywords": ["instance"]}]}, {"Id": "150408885", "PostHistoryTypeId": "1", "PostId": "44808810", "RevisionGUID": "07df4b0b-782e-40a2-bdcb-055106fc1773", "CreationDate": "2017-06-28T17:12:42.867", "UserId": "8201204", "Text": "Cloudformation template gives \" Non-Windows instances with a virtualization type of 'hvm' are currently not supported for this instance type", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": [{"source": "Text", "text": "Cloudformation template gives \" Non-Windows instances with a virtualization type of 'hvm' are currently not supported for this instance type", "keywords": ["instance"]}]}, {"Id": "150408886", "PostHistoryTypeId": "3", "PostId": "44808810", "RevisionGUID": "07df4b0b-782e-40a2-bdcb-055106fc1773", "CreationDate": "2017-06-28T17:12:42.867", "UserId": "8201204", "Text": "|amazon-web-services|aws-cloudformation|", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": []}, {"Id": "152864015", "PostHistoryTypeId": "6", "PostId": "44808810", "RevisionGUID": "f42394fb-f250-49f8-8872-ec830466e3af", "CreationDate": "2017-07-31T14:46:23.533", "UserId": "4237701", "Comment": "edited tags", "Text": "|amazon-web-services|amazon-ec2|aws-cloudformation|", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": []}], "answers": [{"Id": "44808974", "PostTypeId": "2", "ParentId": "44808810", "CreationDate": "2017-06-28T17:22:18.753", "Score": "1", "Body": "<p>I see you are not specifying the instance type in CF. The default type is <code>m3.medium</code>. Looks like in the region you are using <code>m3.medium</code> is not supported for <code>hvm</code> type AMI.</p>\n\n<p>One way to specify the instance type: <a href=\"http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html\" rel=\"nofollow noreferrer\">EC2 Instance Type Parameter</a></p>\n", "OwnerUserId": "4237701", "LastActivityDate": "2017-06-28T17:22:18.753", "CommentCount": "2", "ContentLicense": "CC BY-SA 3.0", "comments": [{"Id": "76599676", "PostId": "44808974", "Score": "0", "Text": "helloV, It works now. Thanks for pointing me to EC2 Instance Type Parameter link. Should I post the working code? new to this forum", "CreationDate": "2017-06-28T18:08:49.477", "UserId": "8201204", "filtered-sentences": [{"source": "Text", "text": "Thanks for pointing me to EC2 Instance Type Parameter link. ", "keywords": ["instance"]}]}, {"Id": "76703203", "PostId": "44808974", "Score": "0", "Text": "I can't accept your answer since I don't have enough badges it says", "CreationDate": "2017-07-01T14:07:11.280", "UserId": "8201204", "filtered-sentences": []}], "history": [{"Id": "150409548", "PostHistoryTypeId": "2", "PostId": "44808974", "RevisionGUID": "8d5fa0fc-f64b-4dbc-81fe-7e730c3a456d", "CreationDate": "2017-06-28T17:22:18.753", "UserId": "4237701", "Text": "I see you are not specifying the instance type in CF. The default type is `m3.medium`. Looks like in the region you are using `m3.medium` is not supported for `hvm` type AMI.\r\n\r\nOne way to specify the instance type: [EC2 Instance Type Parameter][1]\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": [{"source": "Text", "text": "I see you are not specifying the instance type in CF. ", "keywords": ["instance"]}, {"source": "Text", "text": "One way to specify the instance type: [EC2 Instance Type Parameter][1] [1]: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html", "keywords": ["instance"]}]}], "filtered-sentences": [{"source": "Body", "text": "I see you are not specifying the instance type in CF. ", "keywords": ["instance"]}, {"source": "Body", "text": "One way to specify the instance type: EC2 Instance Type Parameter", "keywords": ["instance"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Title", "text": "Cloudformation template gives \" Non-Windows instances with a virtualization type of 'hvm' are currently not supported for this instance type", "keywords": ["instance"]}, {"source": "Body", "text": "Non-Windows instances with a virtualization type of 'hvm' are currently not supported for this instance type.\" ", "keywords": ["instance"]}]}