{"Id": "59608211", "PostTypeId": "1", "CreationDate": "2020-01-06T07:29:19.980", "Score": "0", "ViewCount": "503", "Body": "<p>I am trying to launch Autoscaling EC2 instance from cloudformation and below is my cloudformation. i am getting error as</p>\n\n<blockquote>\n  <p>Received 0 SUCCESS signal(s) out of 1. Unable to satisfy 100% MinSuccessfulInstancesPercent requirement.</p>\n</blockquote>\n\n<p>and after i get this error stack is rolling back and deleting all the resources.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\r\n  \"AWSTemplateFormatVersion\": \"2010-09-09\",\r\n\r\n  \"Description\": \"AWS CloudFormation Sample Template AutoScalingRollingUpdates: Create a load balanced, Auto Scaled sample website. This example creates an Auto Scaling group behind a load balancer with a simple health check. The AutoScaling launch configuration includes an update policy that will keep 2 instances running while doing an autoscaling rolling upgrade. **WARNING** This template creates one or more Amazon EC2  instances and an Application Load Balancer. You will be billed for the AWS resources used if you create a stack from this template.\",\r\n\r\n  \"Parameters\": {\r\n    \"VpcId\" : {\r\n      \"Type\" : \"AWS::EC2::VPC::Id\",\r\n      \"Description\" : \"VpcId of your existing Virtual Private Cloud (VPC)\",\r\n      \"ConstraintDescription\" : \"must be the VPC Id of an existing Virtual Private Cloud.\"\r\n    },\r\n  \r\n    \"Subnets\" : {\r\n      \"Type\" : \"List&lt;AWS::EC2::Subnet::Id&gt;\",\r\n      \"Description\" : \"The list of SubnetIds in your Virtual Private Cloud (VPC)\",\r\n      \"ConstraintDescription\" : \"must be a list of at least two existing subnets associated with at least two different availability zones. They should be residing in the selected Virtual Private Cloud.\"\r\n    },\r\n\r\n    \"InstanceType\": {\r\n      \"Description\": \"WebServer EC2 instance type\",\r\n      \"Type\": \"String\",\r\n      \"Default\": \"t2.nano\",\r\n      \"AllowedValues\": [ \"t1.micro\", \"t2.nano\", \"t2.micro\", \"t2.small\", \"t2.medium\", \"t2.large\", \"m1.small\", \"m1.medium\", \"m1.large\", \"m1.xlarge\", \"m2.xlarge\", \"m2.2xlarge\", \"m2.4xlarge\", \"m3.medium\", \"m3.large\", \"m3.xlarge\", \"m3.2xlarge\", \"m4.large\", \"m4.xlarge\", \"m4.2xlarge\", \"m4.4xlarge\", \"m4.10xlarge\", \"c1.medium\", \"c1.xlarge\", \"c3.large\", \"c3.xlarge\", \"c3.2xlarge\", \"c3.4xlarge\", \"c3.8xlarge\", \"c4.large\", \"c4.xlarge\", \"c4.2xlarge\", \"c4.4xlarge\", \"c4.8xlarge\", \"g2.2xlarge\", \"g2.8xlarge\", \"r3.large\", \"r3.xlarge\", \"r3.2xlarge\", \"r3.4xlarge\", \"r3.8xlarge\", \"i2.xlarge\", \"i2.2xlarge\", \"i2.4xlarge\", \"i2.8xlarge\", \"d2.xlarge\", \"d2.2xlarge\", \"d2.4xlarge\", \"d2.8xlarge\", \"hi1.4xlarge\", \"hs1.8xlarge\", \"cr1.8xlarge\", \"cc2.8xlarge\", \"cg1.4xlarge\"]\r\n,\r\n      \"ConstraintDescription\": \"must be a valid EC2 instance type.\"\r\n    },\r\n\r\n    \"KeyName\": {\r\n      \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instances\",\r\n      \"Type\": \"AWS::EC2::KeyPair::KeyName\",\r\n      \"ConstraintDescription\" : \"must be the name of an existing EC2 KeyPair.\"\r\n    },\r\n\r\n    \"SSHLocation\" : {\r\n      \"Description\" : \"The IP address range that can be used to SSH to the EC2 instances\",\r\n      \"Type\": \"String\",\r\n      \"MinLength\": \"9\",\r\n      \"MaxLength\": \"18\",\r\n      \"Default\": \"0.0.0.0/0\",\r\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\",\r\n      \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\"\r\n    }\r\n  },\r\n\r\n  \"Mappings\": {\r\n    \"Region2Examples\" : {\r\n      \"us-east-1\"      : { \"Examples\" : \"https://s3.amazonaws.com/cloudformation-examples-us-east-1\" },\r\n      \"us-west-2\"      : { \"Examples\" : \"https://s3-us-west-2.amazonaws.com/cloudformation-examples-us-west-2\" },\r\n      \"us-west-1\"      : { \"Examples\" : \"https://s3-us-west-1.amazonaws.com/cloudformation-examples-us-west-1\" },\r\n      \"eu-west-1\"      : { \"Examples\" : \"https://s3-eu-west-1.amazonaws.com/cloudformation-examples-eu-west-1\" },\r\n      \"eu-west-2\"      : { \"Examples\" : \"https://s3-eu-west-2.amazonaws.com/cloudformation-examples-eu-west-2\" },\r\n      \"eu-central-1\"   : { \"Examples\" : \"https://s3-eu-central-1.amazonaws.com/cloudformation-examples-eu-central-1\" },\r\n      \"ap-southeast-1\" : { \"Examples\" : \"https://s3-ap-southeast-1.amazonaws.com/cloudformation-examples-ap-southeast-1\" },\r\n      \"ap-northeast-1\" : { \"Examples\" : \"https://s3-ap-northeast-1.amazonaws.com/cloudformation-examples-ap-northeast-1\" },\r\n      \"ap-northeast-2\" : { \"Examples\" : \"https://s3-ap-northeast-2.amazonaws.com/cloudformation-examples-ap-northeast-2\" },\r\n      \"ap-southeast-2\" : { \"Examples\" : \"https://s3-ap-southeast-2.amazonaws.com/cloudformation-examples-ap-southeast-2\" },\r\n      \"ap-south-1\"     : { \"Examples\" : \"https://s3-ap-south-1.amazonaws.com/cloudformation-examples-ap-south-1\" },\r\n      \"us-east-2\"      : { \"Examples\" : \"https://s3-us-east-2.amazonaws.com/cloudformation-examples-us-east-2\" },\r\n      \"ca-central-1\"   : { \"Examples\" : \"https://s3-ca-central-1.amazonaws.com/cloudformation-examples-ca-central-1\" },\r\n      \"sa-east-1\"      : { \"Examples\" : \"https://s3-sa-east-1.amazonaws.com/cloudformation-examples-sa-east-1\" },\r\n      \"cn-north-1\"     : { \"Examples\" : \"https://s3.cn-north-1.amazonaws.com.cn/cloudformation-examples-cn-north-1\" }\r\n    }\r\n,\r\n    \"AWSInstanceType2Arch\" : {\r\n      \"t1.micro\"    : { \"Arch\" : \"PV64\"   },\r\n      \"t2.nano\"     : { \"Arch\" : \"HVM64\"  },\r\n      \"t2.micro\"    : { \"Arch\" : \"HVM64\"  },\r\n      \"t2.small\"    : { \"Arch\" : \"HVM64\"  },\r\n      \"t2.medium\"   : { \"Arch\" : \"HVM64\"  },\r\n      \"t2.large\"    : { \"Arch\" : \"HVM64\"  },\r\n      \"m1.small\"    : { \"Arch\" : \"PV64\"   },\r\n      \"m1.medium\"   : { \"Arch\" : \"PV64\"   },\r\n      \"m1.large\"    : { \"Arch\" : \"PV64\"   },\r\n      \"m1.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n      \"m2.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n      \"m2.2xlarge\"  : { \"Arch\" : \"PV64\"   },\r\n      \"m2.4xlarge\"  : { \"Arch\" : \"PV64\"   },\r\n      \"m3.medium\"   : { \"Arch\" : \"HVM64\"  },\r\n      \"m3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n      \"m3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n      \"m3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"m4.large\"    : { \"Arch\" : \"HVM64\"  },\r\n      \"m4.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n      \"m4.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"m4.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"m4.10xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n      \"c1.medium\"   : { \"Arch\" : \"PV64\"   },\r\n      \"c1.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n      \"c3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n      \"c3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n      \"c3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"c3.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"c3.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"c4.large\"    : { \"Arch\" : \"HVM64\"  },\r\n      \"c4.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n      \"c4.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"c4.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"c4.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"g2.2xlarge\"  : { \"Arch\" : \"HVMG2\"  },\r\n      \"g2.8xlarge\"  : { \"Arch\" : \"HVMG2\"  },\r\n      \"r3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n      \"r3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n      \"r3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"r3.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"r3.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"i2.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n      \"i2.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"i2.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"i2.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"d2.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n      \"d2.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"d2.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"d2.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n      \"hi1.4xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n      \"hs1.8xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n      \"cr1.8xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n      \"cc2.8xlarge\" : { \"Arch\" : \"HVM64\"  }\r\n    },\r\n\r\n    \"AWSInstanceType2NATArch\" : {\r\n      \"t1.micro\"    : { \"Arch\" : \"NATPV64\"   },\r\n      \"t2.nano\"     : { \"Arch\" : \"NATHVM64\"  },\r\n      \"t2.micro\"    : { \"Arch\" : \"NATHVM64\"  },\r\n      \"t2.small\"    : { \"Arch\" : \"NATHVM64\"  },\r\n      \"t2.medium\"   : { \"Arch\" : \"NATHVM64\"  },\r\n      \"t2.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n      \"m1.small\"    : { \"Arch\" : \"NATPV64\"   },\r\n      \"m1.medium\"   : { \"Arch\" : \"NATPV64\"   },\r\n      \"m1.large\"    : { \"Arch\" : \"NATPV64\"   },\r\n      \"m1.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n      \"m2.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n      \"m2.2xlarge\"  : { \"Arch\" : \"NATPV64\"   },\r\n      \"m2.4xlarge\"  : { \"Arch\" : \"NATPV64\"   },\r\n      \"m3.medium\"   : { \"Arch\" : \"NATHVM64\"  },\r\n      \"m3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n      \"m3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n      \"m3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"m4.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n      \"m4.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n      \"m4.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"m4.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"m4.10xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n      \"c1.medium\"   : { \"Arch\" : \"NATPV64\"   },\r\n      \"c1.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n      \"c3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n      \"c3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n      \"c3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"c3.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"c3.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"c4.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n      \"c4.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n      \"c4.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"c4.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"c4.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"g2.2xlarge\"  : { \"Arch\" : \"NATHVMG2\"  },\r\n      \"g2.8xlarge\"  : { \"Arch\" : \"NATHVMG2\"  },\r\n      \"r3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n      \"r3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n      \"r3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"r3.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"r3.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"i2.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n      \"i2.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"i2.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"i2.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"d2.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n      \"d2.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"d2.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"d2.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n      \"hi1.4xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n      \"hs1.8xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n      \"cr1.8xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n      \"cc2.8xlarge\" : { \"Arch\" : \"NATHVM64\"  }\r\n    }\r\n,\r\n    \"AWSRegionArch2AMI\" : {\r\n      \"us-east-1\"        : {\"PV64\" : \"ami-2a69aa47\", \"HVM64\" : \"ami-00068cd7555f543d5\", \"HVMG2\" : \"ami-035240afa793cddbb\"},\r\n      \"us-west-2\"        : {\"PV64\" : \"ami-7f77b31f\", \"HVM64\" : \"ami-7172b611\", \"HVMG2\" : \"ami-60aa3700\"},\r\n      \"us-west-1\"        : {\"PV64\" : \"ami-a2490dc2\", \"HVM64\" : \"ami-31490d51\", \"HVMG2\" : \"ami-4b694d2b\"},\r\n      \"eu-west-1\"        : {\"PV64\" : \"ami-4cdd453f\", \"HVM64\" : \"ami-f9dd458a\", \"HVMG2\" : \"ami-2955524f\"},\r\n      \"eu-west-2\"        : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-886369ec\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n      \"eu-central-1\"     : {\"PV64\" : \"ami-6527cf0a\", \"HVM64\" : \"ami-ea26ce85\", \"HVMG2\" : \"ami-81ac71ee\"},\r\n      \"ap-northeast-1\"   : {\"PV64\" : \"ami-3e42b65f\", \"HVM64\" : \"ami-374db956\", \"HVMG2\" : \"ami-46220c21\"},\r\n      \"ap-northeast-2\"   : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-2b408b45\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n      \"ap-southeast-1\"   : {\"PV64\" : \"ami-df9e4cbc\", \"HVM64\" : \"ami-a59b49c6\", \"HVMG2\" : \"ami-c212aba1\"},\r\n      \"ap-southeast-2\"   : {\"PV64\" : \"ami-63351d00\", \"HVM64\" : \"ami-dc361ebf\", \"HVMG2\" : \"ami-0ad2db69\"},\r\n      \"ap-south-1\"       : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-ffbdd790\", \"HVMG2\" : \"ami-ca3042a5\"},\r\n      \"us-east-2\"        : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-f6035893\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n      \"ca-central-1\"     : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-730ebd17\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n      \"sa-east-1\"        : {\"PV64\" : \"ami-1ad34676\", \"HVM64\" : \"ami-6dd04501\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n      \"cn-north-1\"       : {\"PV64\" : \"ami-77559f1a\", \"HVM64\" : \"ami-8e6aa0e3\", \"HVMG2\" : \"NOT_SUPPORTED\"}\r\n    }\r\n\r\n  },\r\n\r\n  \"Resources\": {\r\n    \"WebServerGroup\": {\r\n      \"Type\": \"AWS::AutoScaling::AutoScalingGroup\",\r\n      \"CreationPolicy\" : {\r\n        \"ResourceSignal\" : {\r\n          \"Timeout\" : \"PT5M\",\r\n          \"Count\"   : \"1\"\r\n        }\r\n      },\r\n      \"UpdatePolicy\" : {\r\n        \"AutoScalingRollingUpdate\" : {\r\n          \"MaxBatchSize\" : \"1\",\r\n          \"MinInstancesInService\" : \"1\",\r\n          \"PauseTime\" : \"PT15M\",\r\n          \"WaitOnResourceSignals\": \"true\"\r\n        }\r\n      },\r\n      \"Properties\": {\r\n        \"VPCZoneIdentifier\" : { \"Ref\" : \"Subnets\" },\r\n        \"LaunchConfigurationName\": { \"Ref\": \"LaunchConfig\" },\r\n        \"MinSize\": \"1\",\r\n        \"MaxSize\": \"1\"        \r\n      }\r\n    },\r\n\r\n    \"LaunchConfig\": {\r\n      \"Type\": \"AWS::AutoScaling::LaunchConfiguration\",\r\n      \"Metadata\" : {\r\n        \"Comment\" : \"Install a simple application\",\r\n        \"AWS::CloudFormation::Init\" : {\r\n          \"config\" : {\r\n            \"packages\" : {\r\n              \"yum\" : {\r\n                \"httpd\" : []\r\n              }\r\n            },\r\n\r\n            \"files\" : {\r\n              \"/var/www/html/index.html\" : {\r\n                \"content\" : { \"Fn::Join\" : [\"\\n\", [\r\n                  \"&lt;img src=\\\"\", {\"Fn::FindInMap\" : [\"Region2Examples\", {\"Ref\" : \"AWS::Region\"}, \"Examples\"]}, \"/cloudformation_graphic.png\\\" alt=\\\"AWS CloudFormation Logo\\\"/&gt;\",\r\n                  \"&lt;h1&gt;Congratulations, you have successfully launched the AWS CloudFormation sample.&lt;/h1&gt;\"\r\n                ]]},\r\n                \"mode\"    : \"000644\",\r\n                \"owner\"   : \"root\",\r\n                \"group\"   : \"root\"\r\n              },\r\n\r\n              \"/etc/cfn/cfn-hup.conf\" : {\r\n                \"content\" : { \"Fn::Join\" : [\"\", [\r\n                  \"[main]\\n\",\r\n                  \"stack=\", { \"Ref\" : \"AWS::StackId\" }, \"\\n\",\r\n                  \"region=\", { \"Ref\" : \"AWS::Region\" }, \"\\n\"\r\n                ]]},\r\n                \"mode\"    : \"000400\",\r\n                \"owner\"   : \"root\",\r\n                \"group\"   : \"root\"\r\n              },\r\n\r\n              \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\" : {\r\n                \"content\": { \"Fn::Join\" : [\"\", [\r\n                  \"[cfn-auto-reloader-hook]\\n\",\r\n                  \"triggers=post.update\\n\",\r\n                  \"path=Resources.LaunchConfig.Metadata.AWS::CloudFormation::Init\\n\",\r\n                  \"action=/opt/aws/bin/cfn-init -v \",\r\n                  \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n                  \"         --resource LaunchConfig \",\r\n                  \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\",\r\n                  \"runas=root\\n\"\r\n                ]]}\r\n              }\r\n            },\r\n\r\n            \"services\" : {\r\n              \"sysvinit\" : {\r\n                \"httpd\"    : { \"enabled\" : \"true\", \"ensureRunning\" : \"true\" },\r\n                \"cfn-hup\" : { \"enabled\" : \"true\", \"ensureRunning\" : \"true\",\r\n                              \"files\" : [\"/etc/cfn/cfn-hup.conf\", \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\"]}\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      \"Properties\": {\r\n        \"KeyName\": { \"Ref\": \"KeyName\" },\r\n        \"ImageId\": {\r\n          \"Fn::FindInMap\": [ \"AWSRegionArch2AMI\", { \"Ref\": \"AWS::Region\" },\r\n            { \"Fn::FindInMap\": [ \"AWSInstanceType2Arch\", { \"Ref\": \"InstanceType\" }, \"Arch\" ] } ]\r\n        },\r\n        \"SecurityGroups\": [ { \"Ref\": \"InstanceSecurityGroup\" } ],\r\n        \"InstanceType\": { \"Ref\": \"InstanceType\" },\r\n        \"UserData\"       : { \"Fn::Base64\" : { \"Fn::Join\" : [\"\", [\r\n             \"#!/bin/bash -xe\\n\",\r\n             \"yum update -y aws-cfn-bootstrap\\n\",\r\n\r\n             \"/opt/aws/bin/cfn-init -v \",\r\n             \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n             \"         --resource LaunchConfig \",\r\n             \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\",\r\n\r\n             \"/opt/aws/bin/cfn-signal -e $? \",\r\n             \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n             \"         --resource WebServerGroup \",\r\n             \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\"\r\n        ]]}}\r\n      }\r\n    },\r\n    \r\n    \"InstanceSecurityGroup\": {\r\n      \"Type\": \"AWS::EC2::SecurityGroup\",\r\n      \"Properties\": {\r\n        \"GroupDescription\": \"Enable SSH access and HTTP access on the configured port\",\r\n        \"SecurityGroupIngress\": [ \r\n          { \"IpProtocol\": \"tcp\", \"FromPort\": \"22\", \"ToPort\": \"22\", \"CidrIp\": { \"Ref\" : \"SSHLocation\" } },\r\n          { \"IpProtocol\": \"tcp\", \"FromPort\": \"80\", \"ToPort\": \"80\", \"CidrIp\": \"0.0.0.0/0\" }\r\n        ],\r\n        \"VpcId\" : { \"Ref\" : \"VpcId\" }\r\n      }\r\n    }\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>error screenshot</p>\n\n<p><a href=\"https://i.stack.imgur.com/ndaXm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ndaXm.png\" alt=\"enter image description here\"></a></p>\n", "OwnerUserId": "12599017", "LastEditorUserId": "4420967", "LastEditDate": "2020-01-06T12:30:03.970", "LastActivityDate": "2020-01-11T04:47:42.687", "Title": "AWS Autoscaled EC2 instance failing to launch with cloudformation", "Tags": "|amazon-web-services|amazon-ec2|aws-cloudformation|autoscaling|", "AnswerCount": "2", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "212391455", "PostHistoryTypeId": "2", "PostId": "59608211", "RevisionGUID": "30c5d082-a763-4045-8faf-d21272aa4aff", "CreationDate": "2020-01-06T07:29:19.980", "UserId": "12599017", "Text": "I am trying to launch Autoscaling EC2 instance from cloudformation and below is my cloudformation. i am getting error as Received 0 SUCCESS signal(s) out of 1. Unable to satisfy 100% MinSuccessfulInstancesPercent requirement.and after i get this error stack is rolling back and deleting all the resources.Please suggest asap\r\n\r\n<!-- begin snippet: js hide: false console: true babel: false -->\r\n\r\n<!-- language: lang-html -->\r\n\r\n    {\r\n      \"AWSTemplateFormatVersion\": \"2010-09-09\",\r\n\r\n      \"Description\": \"AWS CloudFormation Sample Template AutoScalingRollingUpdates: Create a load balanced, Auto Scaled sample website. This example creates an Auto Scaling group behind a load balancer with a simple health check. The AutoScaling launch configuration includes an update policy that will keep 2 instances running while doing an autoscaling rolling upgrade. **WARNING** This template creates one or more Amazon EC2  instances and an Application Load Balancer. You will be billed for the AWS resources used if you create a stack from this template.\",\r\n\r\n      \"Parameters\": {\r\n        \"VpcId\" : {\r\n          \"Type\" : \"AWS::EC2::VPC::Id\",\r\n          \"Description\" : \"VpcId of your existing Virtual Private Cloud (VPC)\",\r\n          \"ConstraintDescription\" : \"must be the VPC Id of an existing Virtual Private Cloud.\"\r\n        },\r\n      \r\n        \"Subnets\" : {\r\n          \"Type\" : \"List<AWS::EC2::Subnet::Id>\",\r\n          \"Description\" : \"The list of SubnetIds in your Virtual Private Cloud (VPC)\",\r\n          \"ConstraintDescription\" : \"must be a list of at least two existing subnets associated with at least two different availability zones. They should be residing in the selected Virtual Private Cloud.\"\r\n        },\r\n\r\n        \"InstanceType\": {\r\n          \"Description\": \"WebServer EC2 instance type\",\r\n          \"Type\": \"String\",\r\n          \"Default\": \"t2.nano\",\r\n          \"AllowedValues\": [ \"t1.micro\", \"t2.nano\", \"t2.micro\", \"t2.small\", \"t2.medium\", \"t2.large\", \"m1.small\", \"m1.medium\", \"m1.large\", \"m1.xlarge\", \"m2.xlarge\", \"m2.2xlarge\", \"m2.4xlarge\", \"m3.medium\", \"m3.large\", \"m3.xlarge\", \"m3.2xlarge\", \"m4.large\", \"m4.xlarge\", \"m4.2xlarge\", \"m4.4xlarge\", \"m4.10xlarge\", \"c1.medium\", \"c1.xlarge\", \"c3.large\", \"c3.xlarge\", \"c3.2xlarge\", \"c3.4xlarge\", \"c3.8xlarge\", \"c4.large\", \"c4.xlarge\", \"c4.2xlarge\", \"c4.4xlarge\", \"c4.8xlarge\", \"g2.2xlarge\", \"g2.8xlarge\", \"r3.large\", \"r3.xlarge\", \"r3.2xlarge\", \"r3.4xlarge\", \"r3.8xlarge\", \"i2.xlarge\", \"i2.2xlarge\", \"i2.4xlarge\", \"i2.8xlarge\", \"d2.xlarge\", \"d2.2xlarge\", \"d2.4xlarge\", \"d2.8xlarge\", \"hi1.4xlarge\", \"hs1.8xlarge\", \"cr1.8xlarge\", \"cc2.8xlarge\", \"cg1.4xlarge\"]\r\n    ,\r\n          \"ConstraintDescription\": \"must be a valid EC2 instance type.\"\r\n        },\r\n\r\n        \"KeyName\": {\r\n          \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instances\",\r\n          \"Type\": \"AWS::EC2::KeyPair::KeyName\",\r\n          \"ConstraintDescription\" : \"must be the name of an existing EC2 KeyPair.\"\r\n        },\r\n\r\n        \"SSHLocation\" : {\r\n          \"Description\" : \"The IP address range that can be used to SSH to the EC2 instances\",\r\n          \"Type\": \"String\",\r\n          \"MinLength\": \"9\",\r\n          \"MaxLength\": \"18\",\r\n          \"Default\": \"0.0.0.0/0\",\r\n          \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\",\r\n          \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\"\r\n        }\r\n      },\r\n\r\n      \"Mappings\": {\r\n        \"Region2Examples\" : {\r\n          \"us-east-1\"      : { \"Examples\" : \"https://s3.amazonaws.com/cloudformation-examples-us-east-1\" },\r\n          \"us-west-2\"      : { \"Examples\" : \"https://s3-us-west-2.amazonaws.com/cloudformation-examples-us-west-2\" },\r\n          \"us-west-1\"      : { \"Examples\" : \"https://s3-us-west-1.amazonaws.com/cloudformation-examples-us-west-1\" },\r\n          \"eu-west-1\"      : { \"Examples\" : \"https://s3-eu-west-1.amazonaws.com/cloudformation-examples-eu-west-1\" },\r\n          \"eu-west-2\"      : { \"Examples\" : \"https://s3-eu-west-2.amazonaws.com/cloudformation-examples-eu-west-2\" },\r\n          \"eu-central-1\"   : { \"Examples\" : \"https://s3-eu-central-1.amazonaws.com/cloudformation-examples-eu-central-1\" },\r\n          \"ap-southeast-1\" : { \"Examples\" : \"https://s3-ap-southeast-1.amazonaws.com/cloudformation-examples-ap-southeast-1\" },\r\n          \"ap-northeast-1\" : { \"Examples\" : \"https://s3-ap-northeast-1.amazonaws.com/cloudformation-examples-ap-northeast-1\" },\r\n          \"ap-northeast-2\" : { \"Examples\" : \"https://s3-ap-northeast-2.amazonaws.com/cloudformation-examples-ap-northeast-2\" },\r\n          \"ap-southeast-2\" : { \"Examples\" : \"https://s3-ap-southeast-2.amazonaws.com/cloudformation-examples-ap-southeast-2\" },\r\n          \"ap-south-1\"     : { \"Examples\" : \"https://s3-ap-south-1.amazonaws.com/cloudformation-examples-ap-south-1\" },\r\n          \"us-east-2\"      : { \"Examples\" : \"https://s3-us-east-2.amazonaws.com/cloudformation-examples-us-east-2\" },\r\n          \"ca-central-1\"   : { \"Examples\" : \"https://s3-ca-central-1.amazonaws.com/cloudformation-examples-ca-central-1\" },\r\n          \"sa-east-1\"      : { \"Examples\" : \"https://s3-sa-east-1.amazonaws.com/cloudformation-examples-sa-east-1\" },\r\n          \"cn-north-1\"     : { \"Examples\" : \"https://s3.cn-north-1.amazonaws.com.cn/cloudformation-examples-cn-north-1\" }\r\n        }\r\n    ,\r\n        \"AWSInstanceType2Arch\" : {\r\n          \"t1.micro\"    : { \"Arch\" : \"PV64\"   },\r\n          \"t2.nano\"     : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.micro\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.small\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.medium\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"m1.small\"    : { \"Arch\" : \"PV64\"   },\r\n          \"m1.medium\"   : { \"Arch\" : \"PV64\"   },\r\n          \"m1.large\"    : { \"Arch\" : \"PV64\"   },\r\n          \"m1.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n          \"m2.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n          \"m2.2xlarge\"  : { \"Arch\" : \"PV64\"   },\r\n          \"m2.4xlarge\"  : { \"Arch\" : \"PV64\"   },\r\n          \"m3.medium\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"m3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"m3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"m3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.10xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"c1.medium\"   : { \"Arch\" : \"PV64\"   },\r\n          \"c1.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n          \"c3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"g2.2xlarge\"  : { \"Arch\" : \"HVMG2\"  },\r\n          \"g2.8xlarge\"  : { \"Arch\" : \"HVMG2\"  },\r\n          \"r3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"hi1.4xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"hs1.8xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"cr1.8xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"cc2.8xlarge\" : { \"Arch\" : \"HVM64\"  }\r\n        },\r\n\r\n        \"AWSInstanceType2NATArch\" : {\r\n          \"t1.micro\"    : { \"Arch\" : \"NATPV64\"   },\r\n          \"t2.nano\"     : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.micro\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.small\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.medium\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m1.small\"    : { \"Arch\" : \"NATPV64\"   },\r\n          \"m1.medium\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"m1.large\"    : { \"Arch\" : \"NATPV64\"   },\r\n          \"m1.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"m2.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"m2.2xlarge\"  : { \"Arch\" : \"NATPV64\"   },\r\n          \"m2.4xlarge\"  : { \"Arch\" : \"NATPV64\"   },\r\n          \"m3.medium\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.10xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c1.medium\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"c1.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"c3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"g2.2xlarge\"  : { \"Arch\" : \"NATHVMG2\"  },\r\n          \"g2.8xlarge\"  : { \"Arch\" : \"NATHVMG2\"  },\r\n          \"r3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"hi1.4xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"hs1.8xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"cr1.8xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"cc2.8xlarge\" : { \"Arch\" : \"NATHVM64\"  }\r\n        }\r\n    ,\r\n        \"AWSRegionArch2AMI\" : {\r\n          \"us-east-1\"        : {\"PV64\" : \"ami-2a69aa47\", \"HVM64\" : \"ami-00068cd7555f543d5\", \"HVMG2\" : \"ami-035240afa793cddbb\"},\r\n          \"us-west-2\"        : {\"PV64\" : \"ami-7f77b31f\", \"HVM64\" : \"ami-7172b611\", \"HVMG2\" : \"ami-60aa3700\"},\r\n          \"us-west-1\"        : {\"PV64\" : \"ami-a2490dc2\", \"HVM64\" : \"ami-31490d51\", \"HVMG2\" : \"ami-4b694d2b\"},\r\n          \"eu-west-1\"        : {\"PV64\" : \"ami-4cdd453f\", \"HVM64\" : \"ami-f9dd458a\", \"HVMG2\" : \"ami-2955524f\"},\r\n          \"eu-west-2\"        : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-886369ec\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"eu-central-1\"     : {\"PV64\" : \"ami-6527cf0a\", \"HVM64\" : \"ami-ea26ce85\", \"HVMG2\" : \"ami-81ac71ee\"},\r\n          \"ap-northeast-1\"   : {\"PV64\" : \"ami-3e42b65f\", \"HVM64\" : \"ami-374db956\", \"HVMG2\" : \"ami-46220c21\"},\r\n          \"ap-northeast-2\"   : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-2b408b45\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"ap-southeast-1\"   : {\"PV64\" : \"ami-df9e4cbc\", \"HVM64\" : \"ami-a59b49c6\", \"HVMG2\" : \"ami-c212aba1\"},\r\n          \"ap-southeast-2\"   : {\"PV64\" : \"ami-63351d00\", \"HVM64\" : \"ami-dc361ebf\", \"HVMG2\" : \"ami-0ad2db69\"},\r\n          \"ap-south-1\"       : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-ffbdd790\", \"HVMG2\" : \"ami-ca3042a5\"},\r\n          \"us-east-2\"        : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-f6035893\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"ca-central-1\"     : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-730ebd17\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"sa-east-1\"        : {\"PV64\" : \"ami-1ad34676\", \"HVM64\" : \"ami-6dd04501\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"cn-north-1\"       : {\"PV64\" : \"ami-77559f1a\", \"HVM64\" : \"ami-8e6aa0e3\", \"HVMG2\" : \"NOT_SUPPORTED\"}\r\n        }\r\n\r\n      },\r\n\r\n      \"Resources\": {\r\n        \"WebServerGroup\": {\r\n          \"Type\": \"AWS::AutoScaling::AutoScalingGroup\",\r\n          \"CreationPolicy\" : {\r\n            \"ResourceSignal\" : {\r\n              \"Timeout\" : \"PT5M\",\r\n              \"Count\"   : \"1\"\r\n            }\r\n          },\r\n          \"UpdatePolicy\" : {\r\n            \"AutoScalingRollingUpdate\" : {\r\n              \"MaxBatchSize\" : \"1\",\r\n              \"MinInstancesInService\" : \"1\",\r\n              \"PauseTime\" : \"PT15M\",\r\n              \"WaitOnResourceSignals\": \"true\"\r\n            }\r\n          },\r\n          \"Properties\": {\r\n            \"VPCZoneIdentifier\" : { \"Ref\" : \"Subnets\" },\r\n            \"LaunchConfigurationName\": { \"Ref\": \"LaunchConfig\" },\r\n            \"MinSize\": \"1\",\r\n            \"MaxSize\": \"1\"        \r\n          }\r\n        },\r\n\r\n        \"LaunchConfig\": {\r\n          \"Type\": \"AWS::AutoScaling::LaunchConfiguration\",\r\n          \"Metadata\" : {\r\n            \"Comment\" : \"Install a simple application\",\r\n            \"AWS::CloudFormation::Init\" : {\r\n              \"config\" : {\r\n                \"packages\" : {\r\n                  \"yum\" : {\r\n                    \"httpd\" : []\r\n                  }\r\n                },\r\n\r\n                \"files\" : {\r\n                  \"/var/www/html/index.html\" : {\r\n                    \"content\" : { \"Fn::Join\" : [\"\\n\", [\r\n                      \"<img src=\\\"\", {\"Fn::FindInMap\" : [\"Region2Examples\", {\"Ref\" : \"AWS::Region\"}, \"Examples\"]}, \"/cloudformation_graphic.png\\\" alt=\\\"AWS CloudFormation Logo\\\"/>\",\r\n                      \"<h1>Congratulations, you have successfully launched the AWS CloudFormation sample.</h1>\"\r\n                    ]]},\r\n                    \"mode\"    : \"000644\",\r\n                    \"owner\"   : \"root\",\r\n                    \"group\"   : \"root\"\r\n                  },\r\n\r\n                  \"/etc/cfn/cfn-hup.conf\" : {\r\n                    \"content\" : { \"Fn::Join\" : [\"\", [\r\n                      \"[main]\\n\",\r\n                      \"stack=\", { \"Ref\" : \"AWS::StackId\" }, \"\\n\",\r\n                      \"region=\", { \"Ref\" : \"AWS::Region\" }, \"\\n\"\r\n                    ]]},\r\n                    \"mode\"    : \"000400\",\r\n                    \"owner\"   : \"root\",\r\n                    \"group\"   : \"root\"\r\n                  },\r\n\r\n                  \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\" : {\r\n                    \"content\": { \"Fn::Join\" : [\"\", [\r\n                      \"[cfn-auto-reloader-hook]\\n\",\r\n                      \"triggers=post.update\\n\",\r\n                      \"path=Resources.LaunchConfig.Metadata.AWS::CloudFormation::Init\\n\",\r\n                      \"action=/opt/aws/bin/cfn-init -v \",\r\n                      \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n                      \"         --resource LaunchConfig \",\r\n                      \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\",\r\n                      \"runas=root\\n\"\r\n                    ]]}\r\n                  }\r\n                },\r\n\r\n                \"services\" : {\r\n                  \"sysvinit\" : {\r\n                    \"httpd\"    : { \"enabled\" : \"true\", \"ensureRunning\" : \"true\" },\r\n                    \"cfn-hup\" : { \"enabled\" : \"true\", \"ensureRunning\" : \"true\",\r\n                                  \"files\" : [\"/etc/cfn/cfn-hup.conf\", \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\"]}\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"Properties\": {\r\n            \"KeyName\": { \"Ref\": \"KeyName\" },\r\n            \"ImageId\": {\r\n              \"Fn::FindInMap\": [ \"AWSRegionArch2AMI\", { \"Ref\": \"AWS::Region\" },\r\n                { \"Fn::FindInMap\": [ \"AWSInstanceType2Arch\", { \"Ref\": \"InstanceType\" }, \"Arch\" ] } ]\r\n            },\r\n            \"SecurityGroups\": [ { \"Ref\": \"InstanceSecurityGroup\" } ],\r\n            \"InstanceType\": { \"Ref\": \"InstanceType\" },\r\n            \"UserData\"       : { \"Fn::Base64\" : { \"Fn::Join\" : [\"\", [\r\n                 \"#!/bin/bash -xe\\n\",\r\n                 \"yum update -y aws-cfn-bootstrap\\n\",\r\n\r\n                 \"/opt/aws/bin/cfn-init -v \",\r\n                 \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n                 \"         --resource LaunchConfig \",\r\n                 \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\",\r\n\r\n                 \"/opt/aws/bin/cfn-signal -e $? \",\r\n                 \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n                 \"         --resource WebServerGroup \",\r\n                 \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\"\r\n            ]]}}\r\n          }\r\n        },\r\n        \r\n        \"InstanceSecurityGroup\": {\r\n          \"Type\": \"AWS::EC2::SecurityGroup\",\r\n          \"Properties\": {\r\n            \"GroupDescription\": \"Enable SSH access and HTTP access on the configured port\",\r\n            \"SecurityGroupIngress\": [ \r\n              { \"IpProtocol\": \"tcp\", \"FromPort\": \"22\", \"ToPort\": \"22\", \"CidrIp\": { \"Ref\" : \"SSHLocation\" } },\r\n              { \"IpProtocol\": \"tcp\", \"FromPort\": \"80\", \"ToPort\": \"80\", \"CidrIp\": \"0.0.0.0/0\" }\r\n            ],\r\n            \"VpcId\" : { \"Ref\" : \"VpcId\" }\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n\r\n<!-- end snippet -->\r\n\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I am trying to launch Autoscaling EC2 instance from cloudformation and below is my cloudformation. ", "keywords": ["instance"]}, {"source": "Text", "text": "The AutoScaling launch configuration includes an update policy that will keep 2 instances running while doing an autoscaling rolling upgrade. ", "keywords": ["policy"]}, {"source": "Text", "text": "You will be billed for the AWS resources used if you create a stack from this template.\", \"Parameters\": { \"VpcId\" : { \"Type\" : \"AWS::EC2::VPC::Id\", \"Description\" : \"VpcId of your existing Virtual Private Cloud (VPC)\", \"ConstraintDescription\" : \"must be the VPC Id of an existing Virtual Private Cloud.\" }, \"Subnets\" : { \"Type\" : \"List\", \"Description\" : \"The list of SubnetIds in your Virtual Private Cloud (VPC)\", \"ConstraintDescription\" : \"must be a list of at least two existing subnets associated with at least two different availability zones. ", "keywords": ["bill"]}, {"source": "Text", "text": "They should be residing in the selected Virtual Private Cloud.\" }, \"InstanceType\": { \"Description\": \"WebServer EC2 instance type\", \"Type\": \"String\", \"Default\": \"t2.nano\", \"AllowedValues\": [ \"t1.micro\", \"t2.nano\", \"t2.micro\", \"t2.small\", \"t2.medium\", \"t2.large\", \"m1.small\", \"m1.medium\", \"m1.large\", \"m1.xlarge\", \"m2.xlarge\", \"m2.2xlarge\", \"m2.4xlarge\", \"m3.medium\", \"m3.large\", \"m3.xlarge\", \"m3.2xlarge\", \"m4.large\", \"m4.xlarge\", \"m4.2xlarge\", \"m4.4xlarge\", \"m4.10xlarge\", \"c1.medium\", \"c1.xlarge\", \"c3.large\", \"c3.xlarge\", \"c3.2xlarge\", \"c3.4xlarge\", \"c3.8xlarge\", \"c4.large\", \"c4.xlarge\", \"c4.2xlarge\", \"c4.4xlarge\", \"c4.8xlarge\", \"g2.2xlarge\", \"g2.8xlarge\", \"r3.large\", \"r3.xlarge\", \"r3.2xlarge\", \"r3.4xlarge\", \"r3.8xlarge\", \"i2.xlarge\", \"i2.2xlarge\", \"i2.4xlarge\", \"i2.8xlarge\", \"d2.xlarge\", \"d2.2xlarge\", \"d2.4xlarge\", \"d2.8xlarge\", \"hi1.4xlarge\", \"hs1.8xlarge\", \"cr1.8xlarge\", \"cc2.8xlarge\", \"cg1.4xlarge\"] , \"ConstraintDescription\": \"must be a valid EC2 instance type.\" }, \"KeyName\": { \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instances\", \"Type\": \"AWS::EC2::KeyPair::KeyName\", \"ConstraintDescription\" : \"must be the name of an existing EC2 KeyPair.\" }, \"SSHLocation\" : { \"Description\" : \"The IP address range that can be used to SSH to the EC2 instances\", \"Type\": \"String\", \"MinLength\": \"9\", \"MaxLength\": \"18\", \"Default\": \"0.0.0.0/0\", \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\", \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\" } }, \"Mappings\": { \"Region2Examples\" : { \"us-east-1\" : { \"Examples\" : \"https://s3.amazonaws.com/cloudformation-examples-us-east-1\" ", "keywords": ["instance"]}, {"source": "Text", "text": "} } , \"AWSRegionArch2AMI\" : { \"us-east-1\" : {\"PV64\" : \"ami-2a69aa47\", \"HVM64\" : \"ami-00068cd7555f543d5\", \"HVMG2\" : \"ami-035240afa793cddbb\"}, \"us-west-2\" : {\"PV64\" : \"ami-7f77b31f\", \"HVM64\" : \"ami-7172b611\", \"HVMG2\" : \"ami-60aa3700\"}, \"us-west-1\" : {\"PV64\" : \"ami-a2490dc2\", \"HVM64\" : \"ami-31490d51\", \"HVMG2\" : \"ami-4b694d2b\"}, \"eu-west-1\" : {\"PV64\" : \"ami-4cdd453f\", \"HVM64\" : \"ami-f9dd458a\", \"HVMG2\" : \"ami-2955524f\"}, \"eu-west-2\" : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-886369ec\", \"HVMG2\" : \"NOT_SUPPORTED\"}, \"eu-central-1\" : {\"PV64\" : \"ami-6527cf0a\", \"HVM64\" : \"ami-ea26ce85\", \"HVMG2\" : \"ami-81ac71ee\"}, \"ap-northeast-1\" : {\"PV64\" : \"ami-3e42b65f\", \"HVM64\" : \"ami-374db956\", \"HVMG2\" : \"ami-46220c21\"}, \"ap-northeast-2\" : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-2b408b45\", \"HVMG2\" : \"NOT_SUPPORTED\"}, \"ap-southeast-1\" : {\"PV64\" : \"ami-df9e4cbc\", \"HVM64\" : \"ami-a59b49c6\", \"HVMG2\" : \"ami-c212aba1\"}, \"ap-southeast-2\" : {\"PV64\" : \"ami-63351d00\", \"HVM64\" : \"ami-dc361ebf\", \"HVMG2\" : \"ami-0ad2db69\"}, \"ap-south-1\" : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-ffbdd790\", \"HVMG2\" : \"ami-ca3042a5\"}, \"us-east-2\" : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-f6035893\", \"HVMG2\" : \"NOT_SUPPORTED\"}, \"ca-central-1\" : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-730ebd17\", \"HVMG2\" : \"NOT_SUPPORTED\"}, \"sa-east-1\" : {\"PV64\" : \"ami-1ad34676\", \"HVM64\" : \"ami-6dd04501\", \"HVMG2\" : \"NOT_SUPPORTED\"}, \"cn-north-1\" : {\"PV64\" : \"ami-77559f1a\", \"HVM64\" : \"ami-8e6aa0e3\", \"HVMG2\" : \"NOT_SUPPORTED\"} } }, \"Resources\": { \"WebServerGroup\": { \"Type\": \"AWS::AutoScaling::AutoScalingGroup\", \"CreationPolicy\" : { \"ResourceSignal\" : { \"Timeout\" : \"PT5M\", \"Count\" : \"1\" } }, \"UpdatePolicy\" : { \"AutoScalingRollingUpdate\" : { \"MaxBatchSize\" : \"1\", \"MinInstancesInService\" : \"1\", \"PauseTime\" : \"PT15M\", \"WaitOnResourceSignals\": \"true\" } }, \"Properties\": { \"VPCZoneIdentifier\" : { \"Ref\" : \"Subnets\" }, \"LaunchConfigurationName\": { \"Ref\": \"LaunchConfig\" }, \"MinSize\": \"1\", \"MaxSize\": \"1\" } }, \"LaunchConfig\": { \"Type\": \"AWS::AutoScaling::LaunchConfiguration\", \"Metadata\" : { \"Comment\" : \"Install a simple application\", \"AWS::CloudFormation::Init\" : { \"config\" : { \"packages\" : { \"yum\" : { \"httpd\" : [] } }, \"files\" : { \"/var/www/html/index.html\" : { \"content\" : { \"Fn::Join\" : [\"\\n\", [ \"\", \"Congratulations, you have successfully launched the AWS CloudFormation sample.\" ]]}, \"mode\" : \"000644\", \"owner\" : \"root\", \"group\" : \"root\" }, \"/etc/cfn/cfn-hup.conf\" : { \"content\" : { \"Fn::Join\" : [\"\", [ \"[main]\\n\", \"stack=\", { \"Ref\" : \"AWS::StackId\" }, \"\\n\", \"region=\", { \"Ref\" : \"AWS::Region\" ", "keywords": ["billing mode"]}, {"source": "Text", "text": "}, \"\\n\" ]]}, \"mode\" : \"000400\", \"owner\" : \"root\", \"group\" : \"root\" }, \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\" : { \"content\": { \"Fn::Join\" : [\"\", [ \"[cfn-auto-reloader-hook]\\n\", \"triggers=post.update\\n\", \"path=Resources.LaunchConfig.Metadata.AWS::CloudFormation::Init\\n\", \"action=/opt/aws/bin/cfn-init -v \", \" --stack \", { \"Ref\" : \"AWS::StackName\" ", "keywords": ["billing mode"]}]}, {"Id": "212391456", "PostHistoryTypeId": "1", "PostId": "59608211", "RevisionGUID": "30c5d082-a763-4045-8faf-d21272aa4aff", "CreationDate": "2020-01-06T07:29:19.980", "UserId": "12599017", "Text": "AWS Autoscaled EC2 instance failing to launch with cloudformation", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "AWS Autoscaled EC2 instance failing to launch with cloudformation", "keywords": ["instance"]}]}, {"Id": "212391457", "PostHistoryTypeId": "3", "PostId": "59608211", "RevisionGUID": "30c5d082-a763-4045-8faf-d21272aa4aff", "CreationDate": "2020-01-06T07:29:19.980", "UserId": "12599017", "Text": "|amazon-web-services|amazon-ec2|aws-cloudformation|autoscaling|", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "212394601", "PostHistoryTypeId": "5", "PostId": "59608211", "RevisionGUID": "09bd1e3c-2007-42c9-a56c-d7f034d8da7f", "CreationDate": "2020-01-06T08:44:19.943", "UserId": "12599017", "Comment": "added 86 characters in body", "Text": "I am trying to launch Autoscaling EC2 instance from cloudformation and below is my cloudformation. i am getting error as Received 0 SUCCESS signal(s) out of 1. Unable to satisfy 100% MinSuccessfulInstancesPercent requirement.and after i get this error stack is rolling back and deleting all the resources.Please suggest asap\r\n\r\n<!-- begin snippet: js hide: false console: true babel: false -->\r\n\r\n<!-- language: lang-html -->\r\n\r\n    {\r\n      \"AWSTemplateFormatVersion\": \"2010-09-09\",\r\n\r\n      \"Description\": \"AWS CloudFormation Sample Template AutoScalingRollingUpdates: Create a load balanced, Auto Scaled sample website. This example creates an Auto Scaling group behind a load balancer with a simple health check. The AutoScaling launch configuration includes an update policy that will keep 2 instances running while doing an autoscaling rolling upgrade. **WARNING** This template creates one or more Amazon EC2  instances and an Application Load Balancer. You will be billed for the AWS resources used if you create a stack from this template.\",\r\n\r\n      \"Parameters\": {\r\n        \"VpcId\" : {\r\n          \"Type\" : \"AWS::EC2::VPC::Id\",\r\n          \"Description\" : \"VpcId of your existing Virtual Private Cloud (VPC)\",\r\n          \"ConstraintDescription\" : \"must be the VPC Id of an existing Virtual Private Cloud.\"\r\n        },\r\n      \r\n        \"Subnets\" : {\r\n          \"Type\" : \"List<AWS::EC2::Subnet::Id>\",\r\n          \"Description\" : \"The list of SubnetIds in your Virtual Private Cloud (VPC)\",\r\n          \"ConstraintDescription\" : \"must be a list of at least two existing subnets associated with at least two different availability zones. They should be residing in the selected Virtual Private Cloud.\"\r\n        },\r\n\r\n        \"InstanceType\": {\r\n          \"Description\": \"WebServer EC2 instance type\",\r\n          \"Type\": \"String\",\r\n          \"Default\": \"t2.nano\",\r\n          \"AllowedValues\": [ \"t1.micro\", \"t2.nano\", \"t2.micro\", \"t2.small\", \"t2.medium\", \"t2.large\", \"m1.small\", \"m1.medium\", \"m1.large\", \"m1.xlarge\", \"m2.xlarge\", \"m2.2xlarge\", \"m2.4xlarge\", \"m3.medium\", \"m3.large\", \"m3.xlarge\", \"m3.2xlarge\", \"m4.large\", \"m4.xlarge\", \"m4.2xlarge\", \"m4.4xlarge\", \"m4.10xlarge\", \"c1.medium\", \"c1.xlarge\", \"c3.large\", \"c3.xlarge\", \"c3.2xlarge\", \"c3.4xlarge\", \"c3.8xlarge\", \"c4.large\", \"c4.xlarge\", \"c4.2xlarge\", \"c4.4xlarge\", \"c4.8xlarge\", \"g2.2xlarge\", \"g2.8xlarge\", \"r3.large\", \"r3.xlarge\", \"r3.2xlarge\", \"r3.4xlarge\", \"r3.8xlarge\", \"i2.xlarge\", \"i2.2xlarge\", \"i2.4xlarge\", \"i2.8xlarge\", \"d2.xlarge\", \"d2.2xlarge\", \"d2.4xlarge\", \"d2.8xlarge\", \"hi1.4xlarge\", \"hs1.8xlarge\", \"cr1.8xlarge\", \"cc2.8xlarge\", \"cg1.4xlarge\"]\r\n    ,\r\n          \"ConstraintDescription\": \"must be a valid EC2 instance type.\"\r\n        },\r\n\r\n        \"KeyName\": {\r\n          \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instances\",\r\n          \"Type\": \"AWS::EC2::KeyPair::KeyName\",\r\n          \"ConstraintDescription\" : \"must be the name of an existing EC2 KeyPair.\"\r\n        },\r\n\r\n        \"SSHLocation\" : {\r\n          \"Description\" : \"The IP address range that can be used to SSH to the EC2 instances\",\r\n          \"Type\": \"String\",\r\n          \"MinLength\": \"9\",\r\n          \"MaxLength\": \"18\",\r\n          \"Default\": \"0.0.0.0/0\",\r\n          \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\",\r\n          \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\"\r\n        }\r\n      },\r\n\r\n      \"Mappings\": {\r\n        \"Region2Examples\" : {\r\n          \"us-east-1\"      : { \"Examples\" : \"https://s3.amazonaws.com/cloudformation-examples-us-east-1\" },\r\n          \"us-west-2\"      : { \"Examples\" : \"https://s3-us-west-2.amazonaws.com/cloudformation-examples-us-west-2\" },\r\n          \"us-west-1\"      : { \"Examples\" : \"https://s3-us-west-1.amazonaws.com/cloudformation-examples-us-west-1\" },\r\n          \"eu-west-1\"      : { \"Examples\" : \"https://s3-eu-west-1.amazonaws.com/cloudformation-examples-eu-west-1\" },\r\n          \"eu-west-2\"      : { \"Examples\" : \"https://s3-eu-west-2.amazonaws.com/cloudformation-examples-eu-west-2\" },\r\n          \"eu-central-1\"   : { \"Examples\" : \"https://s3-eu-central-1.amazonaws.com/cloudformation-examples-eu-central-1\" },\r\n          \"ap-southeast-1\" : { \"Examples\" : \"https://s3-ap-southeast-1.amazonaws.com/cloudformation-examples-ap-southeast-1\" },\r\n          \"ap-northeast-1\" : { \"Examples\" : \"https://s3-ap-northeast-1.amazonaws.com/cloudformation-examples-ap-northeast-1\" },\r\n          \"ap-northeast-2\" : { \"Examples\" : \"https://s3-ap-northeast-2.amazonaws.com/cloudformation-examples-ap-northeast-2\" },\r\n          \"ap-southeast-2\" : { \"Examples\" : \"https://s3-ap-southeast-2.amazonaws.com/cloudformation-examples-ap-southeast-2\" },\r\n          \"ap-south-1\"     : { \"Examples\" : \"https://s3-ap-south-1.amazonaws.com/cloudformation-examples-ap-south-1\" },\r\n          \"us-east-2\"      : { \"Examples\" : \"https://s3-us-east-2.amazonaws.com/cloudformation-examples-us-east-2\" },\r\n          \"ca-central-1\"   : { \"Examples\" : \"https://s3-ca-central-1.amazonaws.com/cloudformation-examples-ca-central-1\" },\r\n          \"sa-east-1\"      : { \"Examples\" : \"https://s3-sa-east-1.amazonaws.com/cloudformation-examples-sa-east-1\" },\r\n          \"cn-north-1\"     : { \"Examples\" : \"https://s3.cn-north-1.amazonaws.com.cn/cloudformation-examples-cn-north-1\" }\r\n        }\r\n    ,\r\n        \"AWSInstanceType2Arch\" : {\r\n          \"t1.micro\"    : { \"Arch\" : \"PV64\"   },\r\n          \"t2.nano\"     : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.micro\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.small\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.medium\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"m1.small\"    : { \"Arch\" : \"PV64\"   },\r\n          \"m1.medium\"   : { \"Arch\" : \"PV64\"   },\r\n          \"m1.large\"    : { \"Arch\" : \"PV64\"   },\r\n          \"m1.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n          \"m2.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n          \"m2.2xlarge\"  : { \"Arch\" : \"PV64\"   },\r\n          \"m2.4xlarge\"  : { \"Arch\" : \"PV64\"   },\r\n          \"m3.medium\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"m3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"m3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"m3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.10xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"c1.medium\"   : { \"Arch\" : \"PV64\"   },\r\n          \"c1.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n          \"c3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"g2.2xlarge\"  : { \"Arch\" : \"HVMG2\"  },\r\n          \"g2.8xlarge\"  : { \"Arch\" : \"HVMG2\"  },\r\n          \"r3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"hi1.4xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"hs1.8xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"cr1.8xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"cc2.8xlarge\" : { \"Arch\" : \"HVM64\"  }\r\n        },\r\n\r\n        \"AWSInstanceType2NATArch\" : {\r\n          \"t1.micro\"    : { \"Arch\" : \"NATPV64\"   },\r\n          \"t2.nano\"     : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.micro\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.small\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.medium\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m1.small\"    : { \"Arch\" : \"NATPV64\"   },\r\n          \"m1.medium\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"m1.large\"    : { \"Arch\" : \"NATPV64\"   },\r\n          \"m1.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"m2.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"m2.2xlarge\"  : { \"Arch\" : \"NATPV64\"   },\r\n          \"m2.4xlarge\"  : { \"Arch\" : \"NATPV64\"   },\r\n          \"m3.medium\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.10xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c1.medium\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"c1.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"c3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"g2.2xlarge\"  : { \"Arch\" : \"NATHVMG2\"  },\r\n          \"g2.8xlarge\"  : { \"Arch\" : \"NATHVMG2\"  },\r\n          \"r3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"hi1.4xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"hs1.8xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"cr1.8xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"cc2.8xlarge\" : { \"Arch\" : \"NATHVM64\"  }\r\n        }\r\n    ,\r\n        \"AWSRegionArch2AMI\" : {\r\n          \"us-east-1\"        : {\"PV64\" : \"ami-2a69aa47\", \"HVM64\" : \"ami-00068cd7555f543d5\", \"HVMG2\" : \"ami-035240afa793cddbb\"},\r\n          \"us-west-2\"        : {\"PV64\" : \"ami-7f77b31f\", \"HVM64\" : \"ami-7172b611\", \"HVMG2\" : \"ami-60aa3700\"},\r\n          \"us-west-1\"        : {\"PV64\" : \"ami-a2490dc2\", \"HVM64\" : \"ami-31490d51\", \"HVMG2\" : \"ami-4b694d2b\"},\r\n          \"eu-west-1\"        : {\"PV64\" : \"ami-4cdd453f\", \"HVM64\" : \"ami-f9dd458a\", \"HVMG2\" : \"ami-2955524f\"},\r\n          \"eu-west-2\"        : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-886369ec\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"eu-central-1\"     : {\"PV64\" : \"ami-6527cf0a\", \"HVM64\" : \"ami-ea26ce85\", \"HVMG2\" : \"ami-81ac71ee\"},\r\n          \"ap-northeast-1\"   : {\"PV64\" : \"ami-3e42b65f\", \"HVM64\" : \"ami-374db956\", \"HVMG2\" : \"ami-46220c21\"},\r\n          \"ap-northeast-2\"   : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-2b408b45\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"ap-southeast-1\"   : {\"PV64\" : \"ami-df9e4cbc\", \"HVM64\" : \"ami-a59b49c6\", \"HVMG2\" : \"ami-c212aba1\"},\r\n          \"ap-southeast-2\"   : {\"PV64\" : \"ami-63351d00\", \"HVM64\" : \"ami-dc361ebf\", \"HVMG2\" : \"ami-0ad2db69\"},\r\n          \"ap-south-1\"       : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-ffbdd790\", \"HVMG2\" : \"ami-ca3042a5\"},\r\n          \"us-east-2\"        : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-f6035893\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"ca-central-1\"     : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-730ebd17\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"sa-east-1\"        : {\"PV64\" : \"ami-1ad34676\", \"HVM64\" : \"ami-6dd04501\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"cn-north-1\"       : {\"PV64\" : \"ami-77559f1a\", \"HVM64\" : \"ami-8e6aa0e3\", \"HVMG2\" : \"NOT_SUPPORTED\"}\r\n        }\r\n\r\n      },\r\n\r\n      \"Resources\": {\r\n        \"WebServerGroup\": {\r\n          \"Type\": \"AWS::AutoScaling::AutoScalingGroup\",\r\n          \"CreationPolicy\" : {\r\n            \"ResourceSignal\" : {\r\n              \"Timeout\" : \"PT5M\",\r\n              \"Count\"   : \"1\"\r\n            }\r\n          },\r\n          \"UpdatePolicy\" : {\r\n            \"AutoScalingRollingUpdate\" : {\r\n              \"MaxBatchSize\" : \"1\",\r\n              \"MinInstancesInService\" : \"1\",\r\n              \"PauseTime\" : \"PT15M\",\r\n              \"WaitOnResourceSignals\": \"true\"\r\n            }\r\n          },\r\n          \"Properties\": {\r\n            \"VPCZoneIdentifier\" : { \"Ref\" : \"Subnets\" },\r\n            \"LaunchConfigurationName\": { \"Ref\": \"LaunchConfig\" },\r\n            \"MinSize\": \"1\",\r\n            \"MaxSize\": \"1\"        \r\n          }\r\n        },\r\n\r\n        \"LaunchConfig\": {\r\n          \"Type\": \"AWS::AutoScaling::LaunchConfiguration\",\r\n          \"Metadata\" : {\r\n            \"Comment\" : \"Install a simple application\",\r\n            \"AWS::CloudFormation::Init\" : {\r\n              \"config\" : {\r\n                \"packages\" : {\r\n                  \"yum\" : {\r\n                    \"httpd\" : []\r\n                  }\r\n                },\r\n\r\n                \"files\" : {\r\n                  \"/var/www/html/index.html\" : {\r\n                    \"content\" : { \"Fn::Join\" : [\"\\n\", [\r\n                      \"<img src=\\\"\", {\"Fn::FindInMap\" : [\"Region2Examples\", {\"Ref\" : \"AWS::Region\"}, \"Examples\"]}, \"/cloudformation_graphic.png\\\" alt=\\\"AWS CloudFormation Logo\\\"/>\",\r\n                      \"<h1>Congratulations, you have successfully launched the AWS CloudFormation sample.</h1>\"\r\n                    ]]},\r\n                    \"mode\"    : \"000644\",\r\n                    \"owner\"   : \"root\",\r\n                    \"group\"   : \"root\"\r\n                  },\r\n\r\n                  \"/etc/cfn/cfn-hup.conf\" : {\r\n                    \"content\" : { \"Fn::Join\" : [\"\", [\r\n                      \"[main]\\n\",\r\n                      \"stack=\", { \"Ref\" : \"AWS::StackId\" }, \"\\n\",\r\n                      \"region=\", { \"Ref\" : \"AWS::Region\" }, \"\\n\"\r\n                    ]]},\r\n                    \"mode\"    : \"000400\",\r\n                    \"owner\"   : \"root\",\r\n                    \"group\"   : \"root\"\r\n                  },\r\n\r\n                  \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\" : {\r\n                    \"content\": { \"Fn::Join\" : [\"\", [\r\n                      \"[cfn-auto-reloader-hook]\\n\",\r\n                      \"triggers=post.update\\n\",\r\n                      \"path=Resources.LaunchConfig.Metadata.AWS::CloudFormation::Init\\n\",\r\n                      \"action=/opt/aws/bin/cfn-init -v \",\r\n                      \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n                      \"         --resource LaunchConfig \",\r\n                      \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\",\r\n                      \"runas=root\\n\"\r\n                    ]]}\r\n                  }\r\n                },\r\n\r\n                \"services\" : {\r\n                  \"sysvinit\" : {\r\n                    \"httpd\"    : { \"enabled\" : \"true\", \"ensureRunning\" : \"true\" },\r\n                    \"cfn-hup\" : { \"enabled\" : \"true\", \"ensureRunning\" : \"true\",\r\n                                  \"files\" : [\"/etc/cfn/cfn-hup.conf\", \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\"]}\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"Properties\": {\r\n            \"KeyName\": { \"Ref\": \"KeyName\" },\r\n            \"ImageId\": {\r\n              \"Fn::FindInMap\": [ \"AWSRegionArch2AMI\", { \"Ref\": \"AWS::Region\" },\r\n                { \"Fn::FindInMap\": [ \"AWSInstanceType2Arch\", { \"Ref\": \"InstanceType\" }, \"Arch\" ] } ]\r\n            },\r\n            \"SecurityGroups\": [ { \"Ref\": \"InstanceSecurityGroup\" } ],\r\n            \"InstanceType\": { \"Ref\": \"InstanceType\" },\r\n            \"UserData\"       : { \"Fn::Base64\" : { \"Fn::Join\" : [\"\", [\r\n                 \"#!/bin/bash -xe\\n\",\r\n                 \"yum update -y aws-cfn-bootstrap\\n\",\r\n\r\n                 \"/opt/aws/bin/cfn-init -v \",\r\n                 \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n                 \"         --resource LaunchConfig \",\r\n                 \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\",\r\n\r\n                 \"/opt/aws/bin/cfn-signal -e $? \",\r\n                 \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n                 \"         --resource WebServerGroup \",\r\n                 \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\"\r\n            ]]}}\r\n          }\r\n        },\r\n        \r\n        \"InstanceSecurityGroup\": {\r\n          \"Type\": \"AWS::EC2::SecurityGroup\",\r\n          \"Properties\": {\r\n            \"GroupDescription\": \"Enable SSH access and HTTP access on the configured port\",\r\n            \"SecurityGroupIngress\": [ \r\n              { \"IpProtocol\": \"tcp\", \"FromPort\": \"22\", \"ToPort\": \"22\", \"CidrIp\": { \"Ref\" : \"SSHLocation\" } },\r\n              { \"IpProtocol\": \"tcp\", \"FromPort\": \"80\", \"ToPort\": \"80\", \"CidrIp\": \"0.0.0.0/0\" }\r\n            ],\r\n            \"VpcId\" : { \"Ref\" : \"VpcId\" }\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n\r\n<!-- end snippet -->\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ndaXm.png\r\n[![PF the error screenshot below][1]][1]", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I am trying to launch Autoscaling EC2 instance from cloudformation and below is my cloudformation. ", "keywords": ["instance"]}, {"source": "Text", "text": "The AutoScaling launch configuration includes an update policy that will keep 2 instances running while doing an autoscaling rolling upgrade. ", "keywords": ["policy"]}, {"source": "Text", "text": "You will be billed for the AWS resources used if you create a stack from this template.\", \"Parameters\": { \"VpcId\" : { \"Type\" : \"AWS::EC2::VPC::Id\", \"Description\" : \"VpcId of your existing Virtual Private Cloud (VPC)\", \"ConstraintDescription\" : \"must be the VPC Id of an existing Virtual Private Cloud.\" }, \"Subnets\" : { \"Type\" : \"List\", \"Description\" : \"The list of SubnetIds in your Virtual Private Cloud (VPC)\", \"ConstraintDescription\" : \"must be a list of at least two existing subnets associated with at least two different availability zones. ", "keywords": ["bill"]}, {"source": "Text", "text": "They should be residing in the selected Virtual Private Cloud.\" }, \"InstanceType\": { \"Description\": \"WebServer EC2 instance type\", \"Type\": \"String\", \"Default\": \"t2.nano\", \"AllowedValues\": [ \"t1.micro\", \"t2.nano\", \"t2.micro\", \"t2.small\", \"t2.medium\", \"t2.large\", \"m1.small\", \"m1.medium\", \"m1.large\", \"m1.xlarge\", \"m2.xlarge\", \"m2.2xlarge\", \"m2.4xlarge\", \"m3.medium\", \"m3.large\", \"m3.xlarge\", \"m3.2xlarge\", \"m4.large\", \"m4.xlarge\", \"m4.2xlarge\", \"m4.4xlarge\", \"m4.10xlarge\", \"c1.medium\", \"c1.xlarge\", \"c3.large\", \"c3.xlarge\", \"c3.2xlarge\", \"c3.4xlarge\", \"c3.8xlarge\", \"c4.large\", \"c4.xlarge\", \"c4.2xlarge\", \"c4.4xlarge\", \"c4.8xlarge\", \"g2.2xlarge\", \"g2.8xlarge\", \"r3.large\", \"r3.xlarge\", \"r3.2xlarge\", \"r3.4xlarge\", \"r3.8xlarge\", \"i2.xlarge\", \"i2.2xlarge\", \"i2.4xlarge\", \"i2.8xlarge\", \"d2.xlarge\", \"d2.2xlarge\", \"d2.4xlarge\", \"d2.8xlarge\", \"hi1.4xlarge\", \"hs1.8xlarge\", \"cr1.8xlarge\", \"cc2.8xlarge\", \"cg1.4xlarge\"] , \"ConstraintDescription\": \"must be a valid EC2 instance type.\" }, \"KeyName\": { \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instances\", \"Type\": \"AWS::EC2::KeyPair::KeyName\", \"ConstraintDescription\" : \"must be the name of an existing EC2 KeyPair.\" }, \"SSHLocation\" : { \"Description\" : \"The IP address range that can be used to SSH to the EC2 instances\", \"Type\": \"String\", \"MinLength\": \"9\", \"MaxLength\": \"18\", \"Default\": \"0.0.0.0/0\", \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\", \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\" } }, \"Mappings\": { \"Region2Examples\" : { \"us-east-1\" : { \"Examples\" : \"https://s3.amazonaws.com/cloudformation-examples-us-east-1\" ", "keywords": ["instance"]}, {"source": "Text", "text": "} } , \"AWSRegionArch2AMI\" : { \"us-east-1\" : {\"PV64\" : \"ami-2a69aa47\", \"HVM64\" : \"ami-00068cd7555f543d5\", \"HVMG2\" : \"ami-035240afa793cddbb\"}, \"us-west-2\" : {\"PV64\" : \"ami-7f77b31f\", \"HVM64\" : \"ami-7172b611\", \"HVMG2\" : \"ami-60aa3700\"}, \"us-west-1\" : {\"PV64\" : \"ami-a2490dc2\", \"HVM64\" : \"ami-31490d51\", \"HVMG2\" : \"ami-4b694d2b\"}, \"eu-west-1\" : {\"PV64\" : \"ami-4cdd453f\", \"HVM64\" : \"ami-f9dd458a\", \"HVMG2\" : \"ami-2955524f\"}, \"eu-west-2\" : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-886369ec\", \"HVMG2\" : \"NOT_SUPPORTED\"}, \"eu-central-1\" : {\"PV64\" : \"ami-6527cf0a\", \"HVM64\" : \"ami-ea26ce85\", \"HVMG2\" : \"ami-81ac71ee\"}, \"ap-northeast-1\" : {\"PV64\" : \"ami-3e42b65f\", \"HVM64\" : \"ami-374db956\", \"HVMG2\" : \"ami-46220c21\"}, \"ap-northeast-2\" : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-2b408b45\", \"HVMG2\" : \"NOT_SUPPORTED\"}, \"ap-southeast-1\" : {\"PV64\" : \"ami-df9e4cbc\", \"HVM64\" : \"ami-a59b49c6\", \"HVMG2\" : \"ami-c212aba1\"}, \"ap-southeast-2\" : {\"PV64\" : \"ami-63351d00\", \"HVM64\" : \"ami-dc361ebf\", \"HVMG2\" : \"ami-0ad2db69\"}, \"ap-south-1\" : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-ffbdd790\", \"HVMG2\" : \"ami-ca3042a5\"}, \"us-east-2\" : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-f6035893\", \"HVMG2\" : \"NOT_SUPPORTED\"}, \"ca-central-1\" : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-730ebd17\", \"HVMG2\" : \"NOT_SUPPORTED\"}, \"sa-east-1\" : {\"PV64\" : \"ami-1ad34676\", \"HVM64\" : \"ami-6dd04501\", \"HVMG2\" : \"NOT_SUPPORTED\"}, \"cn-north-1\" : {\"PV64\" : \"ami-77559f1a\", \"HVM64\" : \"ami-8e6aa0e3\", \"HVMG2\" : \"NOT_SUPPORTED\"} } }, \"Resources\": { \"WebServerGroup\": { \"Type\": \"AWS::AutoScaling::AutoScalingGroup\", \"CreationPolicy\" : { \"ResourceSignal\" : { \"Timeout\" : \"PT5M\", \"Count\" : \"1\" } }, \"UpdatePolicy\" : { \"AutoScalingRollingUpdate\" : { \"MaxBatchSize\" : \"1\", \"MinInstancesInService\" : \"1\", \"PauseTime\" : \"PT15M\", \"WaitOnResourceSignals\": \"true\" } }, \"Properties\": { \"VPCZoneIdentifier\" : { \"Ref\" : \"Subnets\" }, \"LaunchConfigurationName\": { \"Ref\": \"LaunchConfig\" }, \"MinSize\": \"1\", \"MaxSize\": \"1\" } }, \"LaunchConfig\": { \"Type\": \"AWS::AutoScaling::LaunchConfiguration\", \"Metadata\" : { \"Comment\" : \"Install a simple application\", \"AWS::CloudFormation::Init\" : { \"config\" : { \"packages\" : { \"yum\" : { \"httpd\" : [] } }, \"files\" : { \"/var/www/html/index.html\" : { \"content\" : { \"Fn::Join\" : [\"\\n\", [ \"\", \"Congratulations, you have successfully launched the AWS CloudFormation sample.\" ]]}, \"mode\" : \"000644\", \"owner\" : \"root\", \"group\" : \"root\" }, \"/etc/cfn/cfn-hup.conf\" : { \"content\" : { \"Fn::Join\" : [\"\", [ \"[main]\\n\", \"stack=\", { \"Ref\" : \"AWS::StackId\" }, \"\\n\", \"region=\", { \"Ref\" : \"AWS::Region\" ", "keywords": ["billing mode"]}, {"source": "Text", "text": "}, \"\\n\" ]]}, \"mode\" : \"000400\", \"owner\" : \"root\", \"group\" : \"root\" }, \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\" : { \"content\": { \"Fn::Join\" : [\"\", [ \"[cfn-auto-reloader-hook]\\n\", \"triggers=post.update\\n\", \"path=Resources.LaunchConfig.Metadata.AWS::CloudFormation::Init\\n\", \"action=/opt/aws/bin/cfn-init -v \", \" --stack \", { \"Ref\" : \"AWS::StackName\" ", "keywords": ["billing mode"]}]}, {"Id": "212407512", "PostHistoryTypeId": "5", "PostId": "59608211", "RevisionGUID": "642f026f-af44-4d9f-ae68-f89a74041403", "CreationDate": "2020-01-06T12:30:03.970", "UserId": "4420967", "Comment": "added 13 characters in body", "Text": "I am trying to launch Autoscaling EC2 instance from cloudformation and below is my cloudformation. i am getting error as\r\n\r\n> Received 0 SUCCESS signal(s) out of 1. Unable to satisfy 100% MinSuccessfulInstancesPercent requirement.\r\n\r\nand after i get this error stack is rolling back and deleting all the resources.\r\n\r\n<!-- begin snippet: js hide: false console: true babel: false -->\r\n\r\n<!-- language: lang-html -->\r\n\r\n    {\r\n      \"AWSTemplateFormatVersion\": \"2010-09-09\",\r\n\r\n      \"Description\": \"AWS CloudFormation Sample Template AutoScalingRollingUpdates: Create a load balanced, Auto Scaled sample website. This example creates an Auto Scaling group behind a load balancer with a simple health check. The AutoScaling launch configuration includes an update policy that will keep 2 instances running while doing an autoscaling rolling upgrade. **WARNING** This template creates one or more Amazon EC2  instances and an Application Load Balancer. You will be billed for the AWS resources used if you create a stack from this template.\",\r\n\r\n      \"Parameters\": {\r\n        \"VpcId\" : {\r\n          \"Type\" : \"AWS::EC2::VPC::Id\",\r\n          \"Description\" : \"VpcId of your existing Virtual Private Cloud (VPC)\",\r\n          \"ConstraintDescription\" : \"must be the VPC Id of an existing Virtual Private Cloud.\"\r\n        },\r\n      \r\n        \"Subnets\" : {\r\n          \"Type\" : \"List<AWS::EC2::Subnet::Id>\",\r\n          \"Description\" : \"The list of SubnetIds in your Virtual Private Cloud (VPC)\",\r\n          \"ConstraintDescription\" : \"must be a list of at least two existing subnets associated with at least two different availability zones. They should be residing in the selected Virtual Private Cloud.\"\r\n        },\r\n\r\n        \"InstanceType\": {\r\n          \"Description\": \"WebServer EC2 instance type\",\r\n          \"Type\": \"String\",\r\n          \"Default\": \"t2.nano\",\r\n          \"AllowedValues\": [ \"t1.micro\", \"t2.nano\", \"t2.micro\", \"t2.small\", \"t2.medium\", \"t2.large\", \"m1.small\", \"m1.medium\", \"m1.large\", \"m1.xlarge\", \"m2.xlarge\", \"m2.2xlarge\", \"m2.4xlarge\", \"m3.medium\", \"m3.large\", \"m3.xlarge\", \"m3.2xlarge\", \"m4.large\", \"m4.xlarge\", \"m4.2xlarge\", \"m4.4xlarge\", \"m4.10xlarge\", \"c1.medium\", \"c1.xlarge\", \"c3.large\", \"c3.xlarge\", \"c3.2xlarge\", \"c3.4xlarge\", \"c3.8xlarge\", \"c4.large\", \"c4.xlarge\", \"c4.2xlarge\", \"c4.4xlarge\", \"c4.8xlarge\", \"g2.2xlarge\", \"g2.8xlarge\", \"r3.large\", \"r3.xlarge\", \"r3.2xlarge\", \"r3.4xlarge\", \"r3.8xlarge\", \"i2.xlarge\", \"i2.2xlarge\", \"i2.4xlarge\", \"i2.8xlarge\", \"d2.xlarge\", \"d2.2xlarge\", \"d2.4xlarge\", \"d2.8xlarge\", \"hi1.4xlarge\", \"hs1.8xlarge\", \"cr1.8xlarge\", \"cc2.8xlarge\", \"cg1.4xlarge\"]\r\n    ,\r\n          \"ConstraintDescription\": \"must be a valid EC2 instance type.\"\r\n        },\r\n\r\n        \"KeyName\": {\r\n          \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instances\",\r\n          \"Type\": \"AWS::EC2::KeyPair::KeyName\",\r\n          \"ConstraintDescription\" : \"must be the name of an existing EC2 KeyPair.\"\r\n        },\r\n\r\n        \"SSHLocation\" : {\r\n          \"Description\" : \"The IP address range that can be used to SSH to the EC2 instances\",\r\n          \"Type\": \"String\",\r\n          \"MinLength\": \"9\",\r\n          \"MaxLength\": \"18\",\r\n          \"Default\": \"0.0.0.0/0\",\r\n          \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\",\r\n          \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\"\r\n        }\r\n      },\r\n\r\n      \"Mappings\": {\r\n        \"Region2Examples\" : {\r\n          \"us-east-1\"      : { \"Examples\" : \"https://s3.amazonaws.com/cloudformation-examples-us-east-1\" },\r\n          \"us-west-2\"      : { \"Examples\" : \"https://s3-us-west-2.amazonaws.com/cloudformation-examples-us-west-2\" },\r\n          \"us-west-1\"      : { \"Examples\" : \"https://s3-us-west-1.amazonaws.com/cloudformation-examples-us-west-1\" },\r\n          \"eu-west-1\"      : { \"Examples\" : \"https://s3-eu-west-1.amazonaws.com/cloudformation-examples-eu-west-1\" },\r\n          \"eu-west-2\"      : { \"Examples\" : \"https://s3-eu-west-2.amazonaws.com/cloudformation-examples-eu-west-2\" },\r\n          \"eu-central-1\"   : { \"Examples\" : \"https://s3-eu-central-1.amazonaws.com/cloudformation-examples-eu-central-1\" },\r\n          \"ap-southeast-1\" : { \"Examples\" : \"https://s3-ap-southeast-1.amazonaws.com/cloudformation-examples-ap-southeast-1\" },\r\n          \"ap-northeast-1\" : { \"Examples\" : \"https://s3-ap-northeast-1.amazonaws.com/cloudformation-examples-ap-northeast-1\" },\r\n          \"ap-northeast-2\" : { \"Examples\" : \"https://s3-ap-northeast-2.amazonaws.com/cloudformation-examples-ap-northeast-2\" },\r\n          \"ap-southeast-2\" : { \"Examples\" : \"https://s3-ap-southeast-2.amazonaws.com/cloudformation-examples-ap-southeast-2\" },\r\n          \"ap-south-1\"     : { \"Examples\" : \"https://s3-ap-south-1.amazonaws.com/cloudformation-examples-ap-south-1\" },\r\n          \"us-east-2\"      : { \"Examples\" : \"https://s3-us-east-2.amazonaws.com/cloudformation-examples-us-east-2\" },\r\n          \"ca-central-1\"   : { \"Examples\" : \"https://s3-ca-central-1.amazonaws.com/cloudformation-examples-ca-central-1\" },\r\n          \"sa-east-1\"      : { \"Examples\" : \"https://s3-sa-east-1.amazonaws.com/cloudformation-examples-sa-east-1\" },\r\n          \"cn-north-1\"     : { \"Examples\" : \"https://s3.cn-north-1.amazonaws.com.cn/cloudformation-examples-cn-north-1\" }\r\n        }\r\n    ,\r\n        \"AWSInstanceType2Arch\" : {\r\n          \"t1.micro\"    : { \"Arch\" : \"PV64\"   },\r\n          \"t2.nano\"     : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.micro\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.small\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.medium\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"t2.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"m1.small\"    : { \"Arch\" : \"PV64\"   },\r\n          \"m1.medium\"   : { \"Arch\" : \"PV64\"   },\r\n          \"m1.large\"    : { \"Arch\" : \"PV64\"   },\r\n          \"m1.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n          \"m2.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n          \"m2.2xlarge\"  : { \"Arch\" : \"PV64\"   },\r\n          \"m2.4xlarge\"  : { \"Arch\" : \"PV64\"   },\r\n          \"m3.medium\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"m3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"m3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"m3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"m4.10xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"c1.medium\"   : { \"Arch\" : \"PV64\"   },\r\n          \"c1.xlarge\"   : { \"Arch\" : \"PV64\"   },\r\n          \"c3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c3.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"c4.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"g2.2xlarge\"  : { \"Arch\" : \"HVMG2\"  },\r\n          \"g2.8xlarge\"  : { \"Arch\" : \"HVMG2\"  },\r\n          \"r3.large\"    : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"r3.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"i2.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.xlarge\"   : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.2xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.4xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"d2.8xlarge\"  : { \"Arch\" : \"HVM64\"  },\r\n          \"hi1.4xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"hs1.8xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"cr1.8xlarge\" : { \"Arch\" : \"HVM64\"  },\r\n          \"cc2.8xlarge\" : { \"Arch\" : \"HVM64\"  }\r\n        },\r\n\r\n        \"AWSInstanceType2NATArch\" : {\r\n          \"t1.micro\"    : { \"Arch\" : \"NATPV64\"   },\r\n          \"t2.nano\"     : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.micro\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.small\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.medium\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"t2.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m1.small\"    : { \"Arch\" : \"NATPV64\"   },\r\n          \"m1.medium\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"m1.large\"    : { \"Arch\" : \"NATPV64\"   },\r\n          \"m1.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"m2.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"m2.2xlarge\"  : { \"Arch\" : \"NATPV64\"   },\r\n          \"m2.4xlarge\"  : { \"Arch\" : \"NATPV64\"   },\r\n          \"m3.medium\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"m4.10xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c1.medium\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"c1.xlarge\"   : { \"Arch\" : \"NATPV64\"   },\r\n          \"c3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c3.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"c4.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"g2.2xlarge\"  : { \"Arch\" : \"NATHVMG2\"  },\r\n          \"g2.8xlarge\"  : { \"Arch\" : \"NATHVMG2\"  },\r\n          \"r3.large\"    : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"r3.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"i2.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.xlarge\"   : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.2xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.4xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"d2.8xlarge\"  : { \"Arch\" : \"NATHVM64\"  },\r\n          \"hi1.4xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"hs1.8xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"cr1.8xlarge\" : { \"Arch\" : \"NATHVM64\"  },\r\n          \"cc2.8xlarge\" : { \"Arch\" : \"NATHVM64\"  }\r\n        }\r\n    ,\r\n        \"AWSRegionArch2AMI\" : {\r\n          \"us-east-1\"        : {\"PV64\" : \"ami-2a69aa47\", \"HVM64\" : \"ami-00068cd7555f543d5\", \"HVMG2\" : \"ami-035240afa793cddbb\"},\r\n          \"us-west-2\"        : {\"PV64\" : \"ami-7f77b31f\", \"HVM64\" : \"ami-7172b611\", \"HVMG2\" : \"ami-60aa3700\"},\r\n          \"us-west-1\"        : {\"PV64\" : \"ami-a2490dc2\", \"HVM64\" : \"ami-31490d51\", \"HVMG2\" : \"ami-4b694d2b\"},\r\n          \"eu-west-1\"        : {\"PV64\" : \"ami-4cdd453f\", \"HVM64\" : \"ami-f9dd458a\", \"HVMG2\" : \"ami-2955524f\"},\r\n          \"eu-west-2\"        : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-886369ec\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"eu-central-1\"     : {\"PV64\" : \"ami-6527cf0a\", \"HVM64\" : \"ami-ea26ce85\", \"HVMG2\" : \"ami-81ac71ee\"},\r\n          \"ap-northeast-1\"   : {\"PV64\" : \"ami-3e42b65f\", \"HVM64\" : \"ami-374db956\", \"HVMG2\" : \"ami-46220c21\"},\r\n          \"ap-northeast-2\"   : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-2b408b45\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"ap-southeast-1\"   : {\"PV64\" : \"ami-df9e4cbc\", \"HVM64\" : \"ami-a59b49c6\", \"HVMG2\" : \"ami-c212aba1\"},\r\n          \"ap-southeast-2\"   : {\"PV64\" : \"ami-63351d00\", \"HVM64\" : \"ami-dc361ebf\", \"HVMG2\" : \"ami-0ad2db69\"},\r\n          \"ap-south-1\"       : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-ffbdd790\", \"HVMG2\" : \"ami-ca3042a5\"},\r\n          \"us-east-2\"        : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-f6035893\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"ca-central-1\"     : {\"PV64\" : \"NOT_SUPPORTED\", \"HVM64\" : \"ami-730ebd17\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"sa-east-1\"        : {\"PV64\" : \"ami-1ad34676\", \"HVM64\" : \"ami-6dd04501\", \"HVMG2\" : \"NOT_SUPPORTED\"},\r\n          \"cn-north-1\"       : {\"PV64\" : \"ami-77559f1a\", \"HVM64\" : \"ami-8e6aa0e3\", \"HVMG2\" : \"NOT_SUPPORTED\"}\r\n        }\r\n\r\n      },\r\n\r\n      \"Resources\": {\r\n        \"WebServerGroup\": {\r\n          \"Type\": \"AWS::AutoScaling::AutoScalingGroup\",\r\n          \"CreationPolicy\" : {\r\n            \"ResourceSignal\" : {\r\n              \"Timeout\" : \"PT5M\",\r\n              \"Count\"   : \"1\"\r\n            }\r\n          },\r\n          \"UpdatePolicy\" : {\r\n            \"AutoScalingRollingUpdate\" : {\r\n              \"MaxBatchSize\" : \"1\",\r\n              \"MinInstancesInService\" : \"1\",\r\n              \"PauseTime\" : \"PT15M\",\r\n              \"WaitOnResourceSignals\": \"true\"\r\n            }\r\n          },\r\n          \"Properties\": {\r\n            \"VPCZoneIdentifier\" : { \"Ref\" : \"Subnets\" },\r\n            \"LaunchConfigurationName\": { \"Ref\": \"LaunchConfig\" },\r\n            \"MinSize\": \"1\",\r\n            \"MaxSize\": \"1\"        \r\n          }\r\n        },\r\n\r\n        \"LaunchConfig\": {\r\n          \"Type\": \"AWS::AutoScaling::LaunchConfiguration\",\r\n          \"Metadata\" : {\r\n            \"Comment\" : \"Install a simple application\",\r\n            \"AWS::CloudFormation::Init\" : {\r\n              \"config\" : {\r\n                \"packages\" : {\r\n                  \"yum\" : {\r\n                    \"httpd\" : []\r\n                  }\r\n                },\r\n\r\n                \"files\" : {\r\n                  \"/var/www/html/index.html\" : {\r\n                    \"content\" : { \"Fn::Join\" : [\"\\n\", [\r\n                      \"<img src=\\\"\", {\"Fn::FindInMap\" : [\"Region2Examples\", {\"Ref\" : \"AWS::Region\"}, \"Examples\"]}, \"/cloudformation_graphic.png\\\" alt=\\\"AWS CloudFormation Logo\\\"/>\",\r\n                      \"<h1>Congratulations, you have successfully launched the AWS CloudFormation sample.</h1>\"\r\n                    ]]},\r\n                    \"mode\"    : \"000644\",\r\n                    \"owner\"   : \"root\",\r\n                    \"group\"   : \"root\"\r\n                  },\r\n\r\n                  \"/etc/cfn/cfn-hup.conf\" : {\r\n                    \"content\" : { \"Fn::Join\" : [\"\", [\r\n                      \"[main]\\n\",\r\n                      \"stack=\", { \"Ref\" : \"AWS::StackId\" }, \"\\n\",\r\n                      \"region=\", { \"Ref\" : \"AWS::Region\" }, \"\\n\"\r\n                    ]]},\r\n                    \"mode\"    : \"000400\",\r\n                    \"owner\"   : \"root\",\r\n                    \"group\"   : \"root\"\r\n                  },\r\n\r\n                  \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\" : {\r\n                    \"content\": { \"Fn::Join\" : [\"\", [\r\n                      \"[cfn-auto-reloader-hook]\\n\",\r\n                      \"triggers=post.update\\n\",\r\n                      \"path=Resources.LaunchConfig.Metadata.AWS::CloudFormation::Init\\n\",\r\n                      \"action=/opt/aws/bin/cfn-init -v \",\r\n                      \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n                      \"         --resource LaunchConfig \",\r\n                      \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\",\r\n                      \"runas=root\\n\"\r\n                    ]]}\r\n                  }\r\n                },\r\n\r\n                \"services\" : {\r\n                  \"sysvinit\" : {\r\n                    \"httpd\"    : { \"enabled\" : \"true\", \"ensureRunning\" : \"true\" },\r\n                    \"cfn-hup\" : { \"enabled\" : \"true\", \"ensureRunning\" : \"true\",\r\n                                  \"files\" : [\"/etc/cfn/cfn-hup.conf\", \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\"]}\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"Properties\": {\r\n            \"KeyName\": { \"Ref\": \"KeyName\" },\r\n            \"ImageId\": {\r\n              \"Fn::FindInMap\": [ \"AWSRegionArch2AMI\", { \"Ref\": \"AWS::Region\" },\r\n                { \"Fn::FindInMap\": [ \"AWSInstanceType2Arch\", { \"Ref\": \"InstanceType\" }, \"Arch\" ] } ]\r\n            },\r\n            \"SecurityGroups\": [ { \"Ref\": \"InstanceSecurityGroup\" } ],\r\n            \"InstanceType\": { \"Ref\": \"InstanceType\" },\r\n            \"UserData\"       : { \"Fn::Base64\" : { \"Fn::Join\" : [\"\", [\r\n                 \"#!/bin/bash -xe\\n\",\r\n                 \"yum update -y aws-cfn-bootstrap\\n\",\r\n\r\n                 \"/opt/aws/bin/cfn-init -v \",\r\n                 \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n                 \"         --resource LaunchConfig \",\r\n                 \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\",\r\n\r\n                 \"/opt/aws/bin/cfn-signal -e $? \",\r\n                 \"         --stack \", { \"Ref\" : \"AWS::StackName\" },\r\n                 \"         --resource WebServerGroup \",\r\n                 \"         --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\"\r\n            ]]}}\r\n          }\r\n        },\r\n        \r\n        \"InstanceSecurityGroup\": {\r\n          \"Type\": \"AWS::EC2::SecurityGroup\",\r\n          \"Properties\": {\r\n            \"GroupDescription\": \"Enable SSH access and HTTP access on the configured port\",\r\n            \"SecurityGroupIngress\": [ \r\n              { \"IpProtocol\": \"tcp\", \"FromPort\": \"22\", \"ToPort\": \"22\", \"CidrIp\": { \"Ref\" : \"SSHLocation\" } },\r\n              { \"IpProtocol\": \"tcp\", \"FromPort\": \"80\", \"ToPort\": \"80\", \"CidrIp\": \"0.0.0.0/0\" }\r\n            ],\r\n            \"VpcId\" : { \"Ref\" : \"VpcId\" }\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n\r\n<!-- end snippet -->\r\n\r\n\r\nerror screenshot\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ndaXm.png", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I am trying to launch Autoscaling EC2 instance from cloudformation and below is my cloudformation. ", "keywords": ["instance"]}, {"source": "Text", "text": "The AutoScaling launch configuration includes an update policy that will keep 2 instances running while doing an autoscaling rolling upgrade. ", "keywords": ["policy"]}, {"source": "Text", "text": "You will be billed for the AWS resources used if you create a stack from this template.\", \"Parameters\": { \"VpcId\" : { \"Type\" : \"AWS::EC2::VPC::Id\", \"Description\" : \"VpcId of your existing Virtual Private Cloud (VPC)\", \"ConstraintDescription\" : \"must be the VPC Id of an existing Virtual Private Cloud.\" }, \"Subnets\" : { \"Type\" : \"List\", \"Description\" : \"The list of SubnetIds in your Virtual Private Cloud (VPC)\", \"ConstraintDescription\" : \"must be a list of at least two existing subnets associated with at least two different availability zones. ", "keywords": ["bill"]}, {"source": "Text", "text": "They should be residing in the selected Virtual Private Cloud.\" }, \"InstanceType\": { \"Description\": \"WebServer EC2 instance type\", \"Type\": \"String\", \"Default\": \"t2.nano\", \"AllowedValues\": [ \"t1.micro\", \"t2.nano\", \"t2.micro\", \"t2.small\", \"t2.medium\", \"t2.large\", \"m1.small\", \"m1.medium\", \"m1.large\", \"m1.xlarge\", \"m2.xlarge\", \"m2.2xlarge\", \"m2.4xlarge\", \"m3.medium\", \"m3.large\", \"m3.xlarge\", \"m3.2xlarge\", \"m4.large\", \"m4.xlarge\", \"m4.2xlarge\", \"m4.4xlarge\", \"m4.10xlarge\", \"c1.medium\", \"c1.xlarge\", \"c3.large\", \"c3.xlarge\", \"c3.2xlarge\", \"c3.4xlarge\", \"c3.8xlarge\", \"c4.large\", \"c4.xlarge\", \"c4.2xlarge\", \"c4.4xlarge\", \"c4.8xlarge\", \"g2.2xlarge\", \"g2.8xlarge\", \"r3.large\", \"r3.xlarge\", \"r3.2xlarge\", \"r3.4xlarge\", \"r3.8xlarge\", \"i2.xlarge\", \"i2.2xlarge\", \"i2.4xlarge\", \"i2.8xlarge\", \"d2.xlarge\", \"d2.2xlarge\", \"d2.4xlarge\", \"d2.8xlarge\", \"hi1.4xlarge\", \"hs1.8xlarge\", \"cr1.8xlarge\", \"cc2.8xlarge\", \"cg1.4xlarge\"] , \"ConstraintDescription\": \"must be a valid EC2 instance type.\" }, \"KeyName\": { \"Description\": \"Name of an existing EC2 KeyPair to enable SSH access to the instances\", \"Type\": \"AWS::EC2::KeyPair::KeyName\", \"ConstraintDescription\" : \"must be the name of an existing EC2 KeyPair.\" }, \"SSHLocation\" : { \"Description\" : \"The IP address range that can be used to SSH to the EC2 instances\", \"Type\": \"String\", \"MinLength\": \"9\", \"MaxLength\": \"18\", \"Default\": \"0.0.0.0/0\", \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\", \"ConstraintDescription\": \"must be a valid IP CIDR range of the form x.x.x.x/x.\" } }, \"Mappings\": { \"Region2Examples\" : { \"us-east-1\" : { \"Examples\" : \"https://s3.amazonaws.com/cloudformation-examples-us-east-1\" }, \"us-west-2\" : { \"Examples\" : \"https://s3-us-west-2.amazonaws.com/cloudformation-examples-us-west-2\" }, \"us-west-1\" : { \"Examples\" : \"https://s3-us-west-1.amazonaws.com/cloudformation-examples-us-west-1\" ", "keywords": ["instance"]}, {"source": "Text", "text": "}, \"LaunchConfigurationName\": { \"Ref\": \"LaunchConfig\" }, \"MinSize\": \"1\", \"MaxSize\": \"1\" } }, \"LaunchConfig\": { \"Type\": \"AWS::AutoScaling::LaunchConfiguration\", \"Metadata\" : { \"Comment\" : \"Install a simple application\", \"AWS::CloudFormation::Init\" : { \"config\" : { \"packages\" : { \"yum\" : { \"httpd\" : [] } }, \"files\" : { \"/var/www/html/index.html\" : { \"content\" : { \"Fn::Join\" : [\"\\n\", [ \"\", \"Congratulations, you have successfully launched the AWS CloudFormation sample.\" ]]}, \"mode\" : \"000644\", \"owner\" : \"root\", \"group\" : \"root\" }, \"/etc/cfn/cfn-hup.conf\" : { \"content\" : { \"Fn::Join\" : [\"\", [ \"[main]\\n\", \"stack=\", { \"Ref\" : \"AWS::StackId\" ", "keywords": ["billing mode"]}, {"source": "Text", "text": "}, \"\\n\" ]]}, \"mode\" : \"000400\", \"owner\" : \"root\", \"group\" : \"root\" }, \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\" : { \"content\": { \"Fn::Join\" : [\"\", [ \"[cfn-auto-reloader-hook]\\n\", \"triggers=post.update\\n\", \"path=Resources.LaunchConfig.Metadata.AWS::CloudFormation::Init\\n\", \"action=/opt/aws/bin/cfn-init -v \", \" --stack \", { \"Ref\" : \"AWS::StackName\" }, \" --resource LaunchConfig \", \" --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\", \"runas=root\\n\" ]]} } }, \"services\" : { \"sysvinit\" : { \"httpd\" : { \"enabled\" : \"true\", \"ensureRunning\" : \"true\" }, \"cfn-hup\" : { \"enabled\" : \"true\", \"ensureRunning\" : \"true\", \"files\" : [\"/etc/cfn/cfn-hup.conf\", \"/etc/cfn/hooks.d/cfn-auto-reloader.conf\"]} } } } } }, \"Properties\": { \"KeyName\": { \"Ref\": \"KeyName\" ", "keywords": ["billing mode"]}]}], "answers": [{"Id": "59691725", "PostTypeId": "2", "ParentId": "59608211", "CreationDate": "2020-01-11T04:47:42.687", "Score": "0", "Body": "<p>The ASG is configured to require success signals.  This error means that the instances the ASG launched didn't send those messages back to CFN before the timeout (5 minutes since this was the initial stack creation)</p>\n\n<p>Try increasing the timeout.  Also make sure the instances have internet access to be able to send the signal out</p>\n", "OwnerUserId": "7097192", "LastActivityDate": "2020-01-11T04:47:42.687", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "212742108", "PostHistoryTypeId": "2", "PostId": "59691725", "RevisionGUID": "3c5f9725-5041-4afb-8d9c-71942920bc88", "CreationDate": "2020-01-11T04:47:42.687", "UserId": "7097192", "Text": "The ASG is configured to require success signals.  This error means that the instances the ASG launched didn't send those messages back to CFN before the timeout (5 minutes since this was the initial stack creation)\r\n\r\nTry increasing the timeout.  Also make sure the instances have internet access to be able to send the signal out", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}, {"Id": "59608377", "PostTypeId": "2", "ParentId": "59608211", "CreationDate": "2020-01-06T07:44:50.060", "Score": "1", "Body": "<p>Please attach the error what instance states in the autoscaling group.\nDid you referred this <a href=\"https://stackoverflow.com/questions/42604753/aws-cloudformation-stack-fails-with-error-received-0-success-signals-out-of-1\">link</a></p>\n", "OwnerUserId": "11786415", "LastActivityDate": "2020-01-06T07:44:50.060", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "212392065", "PostHistoryTypeId": "2", "PostId": "59608377", "RevisionGUID": "0053a29d-56db-495d-9446-17c1f6d8db21", "CreationDate": "2020-01-06T07:44:50.060", "UserId": "11786415", "Text": "Please attach the error what instance states in the autoscaling group.\r\nDid you referred this [link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42604753/aws-cloudformation-stack-fails-with-error-received-0-success-signals-out-of-1", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Please attach the error what instance states in the autoscaling group. ", "keywords": ["instance"]}]}], "filtered-sentences": [{"source": "Body", "text": "Please attach the error what instance states in the autoscaling group. ", "keywords": ["instance"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Title", "text": "AWS Autoscaled EC2 instance failing to launch with cloudformation", "keywords": ["instance"]}, {"source": "Body", "text": "I am trying to launch Autoscaling EC2 instance from cloudformation and below is my cloudformation. ", "keywords": ["instance"]}]}