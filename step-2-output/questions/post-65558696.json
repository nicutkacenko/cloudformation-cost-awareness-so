{"Id": "65558696", "PostTypeId": "1", "CreationDate": "2021-01-04T06:50:48.600", "Score": "2", "ViewCount": "1270", "Body": "<pre><code>MainGlueJob:\n    Type: AWS::Glue::Job\n    Properties:\n      Name: !Ref GlueJobName\n      Role: !Ref GlueResourcesServiceRoleName\n      Description: Job created with CloudFormation.\n      GlueVersion: 2.0\n      Command:\n        Name: glueetl\n        PythonVersion: 3\n        ScriptLocation: !Ref JobScriptLocation\n      AllocatedCapacity: 3\n      ExecutionProperty:\n        MaxConcurrentRuns: 1\n      DefaultArguments:\n        --job-bookmark-option: job-bookmark-enable\n        --enable-continuous-cloudwatch-log: true\n        --enable-metrics: true\n        --enable-s3-parquet-optimized-committer: true\n        --TempDir: 's3://aws-glue-temporary-123-ap-south-1/dir'\n      Tags: {\n        &quot;tag:Key1&quot;: &quot;Value1&quot;,\n        &quot;tag:Key2&quot;: &quot;Value2&quot;\n      }\n\n  MainCrawler:\n    Type: AWS::Glue::Crawler\n    Properties:\n      Name: Main\n      Role: !Ref GlueResourcesServiceRoleName\n      Description: AWS Glue crawler\n      DatabaseName: !Ref DatabaseName\n      Targets:\n        S3Targets:\n          - Path: !Ref S3Path\n      SchemaChangePolicy:\n        UpdateBehavior: &quot;UPDATE_IN_DATABASE&quot;\n        DeleteBehavior: &quot;LOG&quot;\n      Configuration: '{&quot;Version&quot;:1.0,&quot;CrawlerOutput&quot;:{&quot;Partitions&quot;:{&quot;AddOrUpdateBehavior&quot;:&quot;InheritFromTable&quot;},&quot;Tables&quot;:{&quot;AddOrUpdateBehavior&quot;:&quot;MergeNewColumns&quot;}}}'\n      Tags: {\n        &quot;tag:Key1&quot;: &quot;Value1&quot;,\n        &quot;tag:Key2&quot;: &quot;Value2&quot;\n      }\n</code></pre>\n<p>Trying to define tags in SAM Template for glue jobs but not getting updated in glue job or crawler</p>\n<pre><code>Tags: {\n    &quot;tagKeyName1&quot;: &quot;tagValue1&quot;,\n    &quot;tagKeyName2&quot;: &quot;tagValue2&quot;,\n    &quot;tagKeyName3&quot;: &quot;tagValue3&quot;\n  }\n</code></pre>\n<p>I can only update glue resources with tags as the glue jobs are already in use.\nDeletion and recreation of stack will cost us a lot as Glue job bookmarks can't be controlled by user.</p>\n<p>I'm using SAM Template and trying to add tags to Glue Job and Crawler.</p>\n<p>Anyway to update the resources with tags ?</p>\n<p>What is the correct format for declaring tags in SAM Template for Glue resources ?</p>\n<p>Anyone wants to help ?</p>\n", "OwnerUserId": "9955004", "LastEditorUserId": "9955004", "LastEditDate": "2021-01-15T14:11:56.063", "LastActivityDate": "2021-10-21T21:48:29.437", "Title": "Tags not getting added/updated after adding in AWS Glue Job and Crawler in SAM Template", "Tags": "|amazon-web-services|aws-cloudformation|aws-glue|infrastructure-as-code|aws-billing|", "AnswerCount": "1", "CommentCount": "1", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "116975044", "PostId": "65558696", "Score": "0", "Text": "I think it needs to be a string similar to your Configuration property, but I can't get them to work that way either.", "CreationDate": "2021-02-11T22:47:12.960", "UserId": "7082841", "filtered-sentences": []}], "history": [{"Id": "238055972", "PostHistoryTypeId": "2", "PostId": "65558696", "RevisionGUID": "c14e70d5-0332-4685-949e-0e7b7e4dfe4d", "CreationDate": "2021-01-04T06:50:48.600", "UserId": "9955004", "Text": "```\r\nMainGlueJob:\r\n    Type: AWS::Glue::Job\r\n    Properties:\r\n      Name: !Ref GlueJobName\r\n      Role: !Ref GlueResourcesServiceRoleName\r\n      Description: Job created with CloudFormation.\r\n      GlueVersion: 2.0\r\n      Command:\r\n        Name: glueetl\r\n        PythonVersion: 3\r\n        ScriptLocation: !Ref JobScriptLocation\r\n      AllocatedCapacity: 3\r\n      ExecutionProperty:\r\n        MaxConcurrentRuns: 1\r\n      DefaultArguments:\r\n        --job-bookmark-option: job-bookmark-enable\r\n        --enable-continuous-cloudwatch-log: true\r\n        --enable-metrics: true\r\n        --enable-s3-parquet-optimized-committer: true\r\n        --TempDir: 's3://aws-glue-temporary-123-ap-south-1/dir'\r\n      Tags: {\r\n        \"tag:Key1\": \"Value1\",\r\n        \"tag:Key2\": \"Value2\"\r\n      }\r\n\r\n  MainCrawler:\r\n    Type: AWS::Glue::Crawler\r\n    Properties:\r\n      Name: Main\r\n      Role: !Ref GlueResourcesServiceRoleName\r\n      Description: AWS Glue crawler\r\n      DatabaseName: !Ref DatabaseName\r\n      Targets:\r\n        S3Targets:\r\n          - Path: !Ref S3Path\r\n      SchemaChangePolicy:\r\n        UpdateBehavior: \"UPDATE_IN_DATABASE\"\r\n        DeleteBehavior: \"LOG\"\r\n      Configuration: '{\"Version\":1.0,\"CrawlerOutput\":{\"Partitions\":{\"AddOrUpdateBehavior\":\"InheritFromTable\"},\"Tables\":{\"AddOrUpdateBehavior\":\"MergeNewColumns\"}}}'\r\n      Tags: {\r\n        \"tag:Key1\": \"Value1\",\r\n        \"tag:Key2\": \"Value2\"\r\n      }\r\n```\r\n\r\nTrying to define tags in SAM Template for glue jobs\r\n```\r\nTags: {\r\n    \"tagKeyName1\": \"tagValue1\",\r\n    \"tagKeyName2\": \"tagValue2\",\r\n    \"tagKeyName3\": \"tagValue3\"\r\n  }\r\n```\r\n\r\nI can only update glue resources with tags as the glue jobs are already in use. \r\nDeletion and recreation of stack will cost us a lot as Glue job bookmarks can't be controlled by user.\r\n\r\nI'm using SAM Template and trying to add tags to Glue Job and Crawler.\r\n\r\nAnyway to update the resources with tags ? \r\n\r\nWhat is the correct format for declaring tags in SAM Template for Glue resources ?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Deletion and recreation of stack will cost us a lot as Glue job bookmarks can't be controlled by user. ", "keywords": ["cost"]}]}, {"Id": "238055973", "PostHistoryTypeId": "1", "PostId": "65558696", "RevisionGUID": "c14e70d5-0332-4685-949e-0e7b7e4dfe4d", "CreationDate": "2021-01-04T06:50:48.600", "UserId": "9955004", "Text": "Defining Tags for AWS Glue Job and Crawler in SAM Template", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "238055974", "PostHistoryTypeId": "3", "PostId": "65558696", "RevisionGUID": "c14e70d5-0332-4685-949e-0e7b7e4dfe4d", "CreationDate": "2021-01-04T06:50:48.600", "UserId": "9955004", "Text": "|amazon-web-services|aws-cloudformation|aws-glue|infrastructure-as-code|aws-billing|", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "|amazon-web-services|aws-cloudformation|aws-glue|infrastructure-as-code|aws-billing|", "keywords": ["bill"]}]}, {"Id": "238057011", "PostHistoryTypeId": "5", "PostId": "65558696", "RevisionGUID": "a48361e3-ec0d-40c2-ad94-f44fb76e95a1", "CreationDate": "2021-01-04T07:14:47.733", "UserId": "9955004", "Comment": "added 47 characters in body; edited title", "Text": "```\r\nMainGlueJob:\r\n    Type: AWS::Glue::Job\r\n    Properties:\r\n      Name: !Ref GlueJobName\r\n      Role: !Ref GlueResourcesServiceRoleName\r\n      Description: Job created with CloudFormation.\r\n      GlueVersion: 2.0\r\n      Command:\r\n        Name: glueetl\r\n        PythonVersion: 3\r\n        ScriptLocation: !Ref JobScriptLocation\r\n      AllocatedCapacity: 3\r\n      ExecutionProperty:\r\n        MaxConcurrentRuns: 1\r\n      DefaultArguments:\r\n        --job-bookmark-option: job-bookmark-enable\r\n        --enable-continuous-cloudwatch-log: true\r\n        --enable-metrics: true\r\n        --enable-s3-parquet-optimized-committer: true\r\n        --TempDir: 's3://aws-glue-temporary-123-ap-south-1/dir'\r\n      Tags: {\r\n        \"tag:Key1\": \"Value1\",\r\n        \"tag:Key2\": \"Value2\"\r\n      }\r\n\r\n  MainCrawler:\r\n    Type: AWS::Glue::Crawler\r\n    Properties:\r\n      Name: Main\r\n      Role: !Ref GlueResourcesServiceRoleName\r\n      Description: AWS Glue crawler\r\n      DatabaseName: !Ref DatabaseName\r\n      Targets:\r\n        S3Targets:\r\n          - Path: !Ref S3Path\r\n      SchemaChangePolicy:\r\n        UpdateBehavior: \"UPDATE_IN_DATABASE\"\r\n        DeleteBehavior: \"LOG\"\r\n      Configuration: '{\"Version\":1.0,\"CrawlerOutput\":{\"Partitions\":{\"AddOrUpdateBehavior\":\"InheritFromTable\"},\"Tables\":{\"AddOrUpdateBehavior\":\"MergeNewColumns\"}}}'\r\n      Tags: {\r\n        \"tag:Key1\": \"Value1\",\r\n        \"tag:Key2\": \"Value2\"\r\n      }\r\n```\r\n\r\nTrying to define tags in SAM Template for glue jobs but not getting updated in glue job or crawler\r\n```\r\nTags: {\r\n    \"tagKeyName1\": \"tagValue1\",\r\n    \"tagKeyName2\": \"tagValue2\",\r\n    \"tagKeyName3\": \"tagValue3\"\r\n  }\r\n```\r\n\r\nI can only update glue resources with tags as the glue jobs are already in use. \r\nDeletion and recreation of stack will cost us a lot as Glue job bookmarks can't be controlled by user.\r\n\r\nI'm using SAM Template and trying to add tags to Glue Job and Crawler.\r\n\r\nAnyway to update the resources with tags ? \r\n\r\nWhat is the correct format for declaring tags in SAM Template for Glue resources ?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Deletion and recreation of stack will cost us a lot as Glue job bookmarks can't be controlled by user. ", "keywords": ["cost"]}]}, {"Id": "238057012", "PostHistoryTypeId": "4", "PostId": "65558696", "RevisionGUID": "a48361e3-ec0d-40c2-ad94-f44fb76e95a1", "CreationDate": "2021-01-04T07:14:47.733", "UserId": "9955004", "Comment": "added 47 characters in body; edited title", "Text": "Tags not getting added/updated after adding in AWS Glue Job and Crawler in SAM Template", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "238814619", "PostHistoryTypeId": "5", "PostId": "65558696", "RevisionGUID": "4fa6a05e-f864-458b-a2c1-d3817d774d28", "CreationDate": "2021-01-15T14:11:56.063", "UserId": "9955004", "Comment": "added 34 characters in body", "Text": "```\r\nMainGlueJob:\r\n    Type: AWS::Glue::Job\r\n    Properties:\r\n      Name: !Ref GlueJobName\r\n      Role: !Ref GlueResourcesServiceRoleName\r\n      Description: Job created with CloudFormation.\r\n      GlueVersion: 2.0\r\n      Command:\r\n        Name: glueetl\r\n        PythonVersion: 3\r\n        ScriptLocation: !Ref JobScriptLocation\r\n      AllocatedCapacity: 3\r\n      ExecutionProperty:\r\n        MaxConcurrentRuns: 1\r\n      DefaultArguments:\r\n        --job-bookmark-option: job-bookmark-enable\r\n        --enable-continuous-cloudwatch-log: true\r\n        --enable-metrics: true\r\n        --enable-s3-parquet-optimized-committer: true\r\n        --TempDir: 's3://aws-glue-temporary-123-ap-south-1/dir'\r\n      Tags: {\r\n        \"tag:Key1\": \"Value1\",\r\n        \"tag:Key2\": \"Value2\"\r\n      }\r\n\r\n  MainCrawler:\r\n    Type: AWS::Glue::Crawler\r\n    Properties:\r\n      Name: Main\r\n      Role: !Ref GlueResourcesServiceRoleName\r\n      Description: AWS Glue crawler\r\n      DatabaseName: !Ref DatabaseName\r\n      Targets:\r\n        S3Targets:\r\n          - Path: !Ref S3Path\r\n      SchemaChangePolicy:\r\n        UpdateBehavior: \"UPDATE_IN_DATABASE\"\r\n        DeleteBehavior: \"LOG\"\r\n      Configuration: '{\"Version\":1.0,\"CrawlerOutput\":{\"Partitions\":{\"AddOrUpdateBehavior\":\"InheritFromTable\"},\"Tables\":{\"AddOrUpdateBehavior\":\"MergeNewColumns\"}}}'\r\n      Tags: {\r\n        \"tag:Key1\": \"Value1\",\r\n        \"tag:Key2\": \"Value2\"\r\n      }\r\n```\r\n\r\nTrying to define tags in SAM Template for glue jobs but not getting updated in glue job or crawler\r\n```\r\nTags: {\r\n    \"tagKeyName1\": \"tagValue1\",\r\n    \"tagKeyName2\": \"tagValue2\",\r\n    \"tagKeyName3\": \"tagValue3\"\r\n  }\r\n```\r\n\r\nI can only update glue resources with tags as the glue jobs are already in use. \r\nDeletion and recreation of stack will cost us a lot as Glue job bookmarks can't be controlled by user.\r\n\r\nI'm using SAM Template and trying to add tags to Glue Job and Crawler.\r\n\r\nAnyway to update the resources with tags ? \r\n\r\nWhat is the correct format for declaring tags in SAM Template for Glue resources ?\r\n\r\n\r\n\r\n\r\n\r\nAnyone wants to help ?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Deletion and recreation of stack will cost us a lot as Glue job bookmarks can't be controlled by user. ", "keywords": ["cost"]}]}], "answers": [{"Id": "69668535", "PostTypeId": "2", "ParentId": "65558696", "CreationDate": "2021-10-21T20:41:53.347", "Score": "0", "Body": "<p>You can try:</p>\n<pre><code>Tags: {\n    tagKeyName1: !Ref tagValue1\n    tagKeyName2: !Ref tagValue2\n    tagKeyName3: !Ref tagValue3\n  }\n</code></pre>\n<p>This must be in JSON format: do not use quotation marks or braces.</p>\n", "OwnerUserId": "4564885", "LastEditorUserId": "10871073", "LastEditDate": "2021-10-21T21:48:29.437", "LastActivityDate": "2021-10-21T21:48:29.437", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "256347689", "PostHistoryTypeId": "2", "PostId": "69668535", "RevisionGUID": "842fe0f5-c335-4669-aa8c-9185cc24ccf4", "CreationDate": "2021-10-21T20:41:53.347", "UserId": "4564885", "Text": "You can try:\r\n\r\nTags: {\r\n    tagKeyName1: !Ref tagValue1\r\n    tagKeyName2: !Ref tagValue2\r\n    tagKeyName3: !Ref tagValue3\r\n  }\r\n\r\nThis must be in Json format, do not use quotation marks or braces. ", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "256350850", "PostHistoryTypeId": "5", "PostId": "69668535", "RevisionGUID": "cc315eb0-d204-4552-8f86-d0489f7db9f1", "CreationDate": "2021-10-21T21:48:29.437", "UserId": "10871073", "Comment": "added 6 characters in body", "Text": "You can try:\r\n```\r\nTags: {\r\n    tagKeyName1: !Ref tagValue1\r\n    tagKeyName2: !Ref tagValue2\r\n    tagKeyName3: !Ref tagValue3\r\n  }\r\n```\r\nThis must be in JSON format: do not use quotation marks or braces. ", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}], "contains-topic": false, "filtered-sentences": [{"source": "Body", "text": "Deletion and recreation of stack will cost us a lot as Glue job bookmarks can't be controlled by user. ", "keywords": ["cost"]}]}