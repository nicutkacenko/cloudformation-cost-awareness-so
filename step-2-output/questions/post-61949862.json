{"Id": "61949862", "PostTypeId": "1", "CreationDate": "2020-05-22T07:29:23.330", "Score": "1", "ViewCount": "258", "Body": "<pre><code>{\n    \"AWSTemplateFormatVersion\": \"2010-09-09\",\n    \"Metadata\": {\n        \"AWS::CloudFormation::Designer\": {\n            \"0146279a-ddf6-40fa-bf45-612cebe20c3f\": {\n                \"size\": {\n                    \"width\": 60,\n                    \"height\": 60\n                },\n                \"position\": {\n                    \"x\": 290,\n                    \"y\": 80\n                },\n                \"z\": 0,\n                \"embeds\": []\n            },\n            \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\": {\n                \"size\": {\n                    \"width\": 60,\n                    \"height\": 60\n                },\n                \"position\": {\n                    \"x\": 430,\n                    \"y\": 80\n                },\n                \"z\": 0\n            }\n        }\n    },\n    \"Resources\": {\n        \"EMRC1YFGX\": {\n            \"Type\": \"AWS::EMR::Cluster\",\n            \"Properties\": {\n                \"ReleaseLabel\": \"emr-5.30.0\",\n                \"Instances\": {\n                    \"MasterInstanceGroup\": {\n                        \"InstanceCount\": 1,\n                        \"InstanceType\": \"m5.xlarge\"\n                    },\n                    \"CoreInstanceGroup\": {\n                        \"InstanceCount\": 1,\n                        \"InstanceType\": \"m5.xlarge\"\n                    }\n                },\n                \"Name\": \"Tupac\",\n                \"JobFlowRole\": \"arn:aws:iam::261537044157:instance-profile/EMR_EC2_DefaultRole\",\n                \"ServiceRole\": \"arn:aws:iam::261537044157:role/shubhamam\"\n            },\n            \"Metadata\": {\n                \"AWS::CloudFormation::Designer\": {\n                    \"id\": \"0146279a-ddf6-40fa-bf45-612cebe20c3f\"\n                }\n            }\n        },\n        \"CWA2VB7L\": {\n            \"Type\": \"AWS::CloudWatch::Alarm\",\n            \"Properties\": {\n                \"AlarmName\": \"alarm101\",\n                \"AlarmActions\": [\"arn:aws:sns:us-east-1:2615370449570:emr_idle_notification\"],\n                \"ComparisonOperator\": \"GreaterThanOrEqualToThreshold\",\n                \"Dimensions\": [\n                    {\n                        \"Name\": \"JobflowId\",\n                        \"Value\": {\"Ref\": \"EMRC1YFGX\"}\n                    }\n                ],\n                \"EvaluationPeriods\": 1,\n                \"MetricName\": \"IsIdle\",\n                \"Namespace\": \"AWS/ElasticMapReduce\",\n                \"Period\": 300,\n                \"Statistic\": \"Minimum\",\n                \"Threshold\": 1,\n            },\n            \"Metadata\": {\n                \"AWS::CloudFormation::Designer\": {\n                    \"id\": \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\"\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I am using the above cloudformation template for creating my EMR cluster and for Cloudwatch alarm. if i create a normal alarm from console than it works correctly but while creating while cloudformation it don't works.\nThe alarm is created but it can't get any of the data from EMR metrices. It says no data and it remains in Insufficient data state.</p>\n", "OwnerUserId": "13594786", "LastEditorUserId": "13594786", "LastEditDate": "2020-05-22T07:41:46.603", "LastActivityDate": "2020-05-22T08:48:54.413", "Title": "AWS cloudwatch alarm can't access data from EMR cluster metrices when formed by cloudformation template", "Tags": "|amazon-web-services|aws-cloudformation|amazon-emr|amazon-cloudwatch|", "AnswerCount": "1", "CommentCount": "13", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "109569410", "PostId": "61949862", "Score": "0", "Text": "What is `shubhamam` role?", "CreationDate": "2020-05-22T07:33:06.593", "UserId": "248823", "filtered-sentences": []}, {"Id": "109569449", "PostId": "61949862", "Score": "0", "Text": "thats a role which i have created for EMR role it's same as EMR_default role", "CreationDate": "2020-05-22T07:34:23.183", "UserId": "13594786", "filtered-sentences": []}, {"Id": "109569500", "PostId": "61949862", "Score": "0", "Text": "Any error messages?", "CreationDate": "2020-05-22T07:36:03.873", "UserId": "248823", "filtered-sentences": []}, {"Id": "109569552", "PostId": "61949862", "Score": "0", "Text": "Please define what you mean by \"it don't works\". What happens? Please edit your question to provide more details.", "CreationDate": "2020-05-22T07:37:46.757", "UserId": "174777", "filtered-sentences": []}, {"Id": "109569692", "PostId": "61949862", "Score": "0", "Text": "There is no error message alarm is created fine.But it says no data and remains in insufficient data state.", "CreationDate": "2020-05-22T07:43:24.973", "UserId": "13594786", "filtered-sentences": []}, {"Id": "109570125", "PostId": "61949862", "Score": "0", "Text": "If you can create working alarm in console, compare it with CFN one. Sometimes a use of wrong units, wrong dimensions, or evaluation periods can  lead to such issues.", "CreationDate": "2020-05-22T07:59:34.600", "UserId": "248823", "filtered-sentences": []}, {"Id": "109570128", "PostId": "61949862", "Score": "0", "Text": "EMR IsIdle\nJobflowId: j-3I7L93A53ZYR9\nRegion: us-east-1\nThreshold: IsIdle >= 1 for 1 datapoints within 5 minutes\nPeriod: 5 Minutes\nStatistic: Minimum\nUnit: None\nNo data", "CreationDate": "2020-05-22T07:59:37.020", "UserId": "13594786", "filtered-sentences": []}, {"Id": "109570150", "PostId": "61949862", "Score": "0", "Text": "Ya i have checked it all the properties are same.", "CreationDate": "2020-05-22T08:00:25.210", "UserId": "13594786", "filtered-sentences": []}, {"Id": "109570194", "PostId": "61949862", "Score": "0", "Text": "And when you go to CW Metrics, for the custer created, you can find all data points in `IsIdle` metric? maybe there is simply no data yet.", "CreationDate": "2020-05-22T08:01:51.753", "UserId": "248823", "filtered-sentences": []}, {"Id": "109570293", "PostId": "61949862", "Score": "0", "Text": "I created two alarm on the same metric of same cluster. One from cloudformation template and other one from cloudwatch console. The second one works fine has data but the first one shows no data.", "CreationDate": "2020-05-22T08:05:13.613", "UserId": "13594786", "filtered-sentences": [{"source": "Text", "text": "I created two alarm on the same metric of same cluster. ", "keywords": ["cluster"]}]}, {"Id": "109570471", "PostId": "61949862", "Score": "0", "Text": "Just to be pedantic, can you change `JobflowId` to `JobFlowId` and check. Don't remember if names in CW are case sensitive or not.", "CreationDate": "2020-05-22T08:10:52.457", "UserId": "248823", "filtered-sentences": [{"source": "Text", "text": "Just to be pedantic, can you change `JobflowId` to `JobFlowId` and check. ", "keywords": ["change"]}]}, {"Id": "109571250", "PostId": "61949862", "Score": "1", "Text": "after changing JobflowId to JobFlowId the alarm worked fine.", "CreationDate": "2020-05-22T08:37:42.423", "UserId": "13594786", "filtered-sentences": [{"source": "Text", "text": "after changing JobflowId to JobFlowId the alarm worked fine.", "keywords": ["change"]}]}, {"Id": "109571309", "PostId": "61949862", "Score": "0", "Text": "Good to hear. I provided an answer for future reference based on my comments.", "CreationDate": "2020-05-22T08:40:03.947", "UserId": "248823", "filtered-sentences": []}], "history": [{"Id": "222267916", "PostHistoryTypeId": "5", "PostId": "61949862", "RevisionGUID": "08632962-b5f0-4cf1-b114-671598336bce", "CreationDate": "2020-05-22T07:41:46.603", "UserId": "13594786", "Comment": "added 133 characters in body", "Text": "    {\r\n        \"AWSTemplateFormatVersion\": \"2010-09-09\",\r\n        \"Metadata\": {\r\n            \"AWS::CloudFormation::Designer\": {\r\n                \"0146279a-ddf6-40fa-bf45-612cebe20c3f\": {\r\n                    \"size\": {\r\n                        \"width\": 60,\r\n                        \"height\": 60\r\n                    },\r\n                    \"position\": {\r\n                        \"x\": 290,\r\n                        \"y\": 80\r\n                    },\r\n                    \"z\": 0,\r\n                    \"embeds\": []\r\n                },\r\n                \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\": {\r\n                    \"size\": {\r\n                        \"width\": 60,\r\n                        \"height\": 60\r\n                    },\r\n                    \"position\": {\r\n                        \"x\": 430,\r\n                        \"y\": 80\r\n                    },\r\n                    \"z\": 0\r\n                }\r\n            }\r\n        },\r\n        \"Resources\": {\r\n            \"EMRC1YFGX\": {\r\n                \"Type\": \"AWS::EMR::Cluster\",\r\n                \"Properties\": {\r\n                    \"ReleaseLabel\": \"emr-5.30.0\",\r\n                    \"Instances\": {\r\n                        \"MasterInstanceGroup\": {\r\n                            \"InstanceCount\": 1,\r\n                            \"InstanceType\": \"m5.xlarge\"\r\n                        },\r\n                        \"CoreInstanceGroup\": {\r\n                            \"InstanceCount\": 1,\r\n                            \"InstanceType\": \"m5.xlarge\"\r\n                        }\r\n                    },\r\n                    \"Name\": \"Tupac\",\r\n                    \"JobFlowRole\": \"arn:aws:iam::261537044157:instance-profile/EMR_EC2_DefaultRole\",\r\n                    \"ServiceRole\": \"arn:aws:iam::261537044157:role/shubhamam\"\r\n                },\r\n                \"Metadata\": {\r\n                    \"AWS::CloudFormation::Designer\": {\r\n                        \"id\": \"0146279a-ddf6-40fa-bf45-612cebe20c3f\"\r\n                    }\r\n                }\r\n            },\r\n            \"CWA2VB7L\": {\r\n                \"Type\": \"AWS::CloudWatch::Alarm\",\r\n                \"Properties\": {\r\n                    \"AlarmName\": \"alarm101\",\r\n                    \"AlarmActions\": [\"arn:aws:sns:us-east-1:2615370449570:emr_idle_notification\"],\r\n                    \"ComparisonOperator\": \"GreaterThanOrEqualToThreshold\",\r\n                    \"Dimensions\": [\r\n                        {\r\n                            \"Name\": \"JobflowId\",\r\n                            \"Value\": {\"Ref\": \"EMRC1YFGX\"}\r\n                        }\r\n                    ],\r\n                    \"EvaluationPeriods\": 1,\r\n                    \"MetricName\": \"IsIdle\",\r\n                    \"Namespace\": \"AWS/ElasticMapReduce\",\r\n                    \"Period\": 300,\r\n                    \"Statistic\": \"Minimum\",\r\n                    \"Threshold\": 1,\r\n                },\r\n                \"Metadata\": {\r\n                    \"AWS::CloudFormation::Designer\": {\r\n                        \"id\": \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\"\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI am using the above cloudformation template for creating my EMR cluster and for Cloudwatch alarm. if i create a normal alarm from console than it works correctly but while creating while cloudformation it don't works.\r\nThe alarm is created but it can't get any of the data from EMR metrices. It says no data and it remains in Insufficient data state.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "{ \"AWSTemplateFormatVersion\": \"2010-09-09\", \"Metadata\": { \"AWS::CloudFormation::Designer\": { \"0146279a-ddf6-40fa-bf45-612cebe20c3f\": { \"size\": { \"width\": 60, \"height\": 60 }, \"position\": { \"x\": 290, \"y\": 80 }, \"z\": 0, \"embeds\": [] }, \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\": { \"size\": { \"width\": 60, \"height\": 60 }, \"position\": { \"x\": 430, \"y\": 80 }, \"z\": 0 } } }, \"Resources\": { \"EMRC1YFGX\": { \"Type\": \"AWS::EMR::Cluster\", \"Properties\": { \"ReleaseLabel\": \"emr-5.30.0\", \"Instances\": { \"MasterInstanceGroup\": { \"InstanceCount\": 1, \"InstanceType\": \"m5.xlarge\" }, \"CoreInstanceGroup\": { \"InstanceCount\": 1, \"InstanceType\": \"m5.xlarge\" } }, \"Name\": \"Tupac\", \"JobFlowRole\": \"arn:aws:iam::261537044157:instance-profile/EMR_EC2_DefaultRole\", \"ServiceRole\": \"arn:aws:iam::261537044157:role/shubhamam\" }, \"Metadata\": { \"AWS::CloudFormation::Designer\": { \"id\": \"0146279a-ddf6-40fa-bf45-612cebe20c3f\" } } }, \"CWA2VB7L\": { \"Type\": \"AWS::CloudWatch::Alarm\", \"Properties\": { \"AlarmName\": \"alarm101\", \"AlarmActions\": [\"arn:aws:sns:us-east-1:2615370449570:emr_idle_notification\"], \"ComparisonOperator\": \"GreaterThanOrEqualToThreshold\", \"Dimensions\": [ { \"Name\": \"JobflowId\", \"Value\": {\"Ref\": \"EMRC1YFGX\"} } ], \"EvaluationPeriods\": 1, \"MetricName\": \"IsIdle\", \"Namespace\": \"AWS/ElasticMapReduce\", \"Period\": 300, \"Statistic\": \"Minimum\", \"Threshold\": 1, }, \"Metadata\": { \"AWS::CloudFormation::Designer\": { \"id\": \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\" } } } } } ", "keywords": ["instance", "cluster"]}, {"source": "Text", "text": "I am using the above cloudformation template for creating my EMR cluster and for Cloudwatch alarm. ", "keywords": ["cluster"]}]}, {"Id": "222267192", "PostHistoryTypeId": "2", "PostId": "61949862", "RevisionGUID": "810718ce-4585-4de2-b281-4c176403daa3", "CreationDate": "2020-05-22T07:29:23.330", "UserId": "13594786", "Text": "{\r\n    \"AWSTemplateFormatVersion\": \"2010-09-09\",\r\n    \"Metadata\": {\r\n        \"AWS::CloudFormation::Designer\": {\r\n            \"0146279a-ddf6-40fa-bf45-612cebe20c3f\": {\r\n                \"size\": {\r\n                    \"width\": 60,\r\n                    \"height\": 60\r\n                },\r\n                \"position\": {\r\n                    \"x\": 290,\r\n                    \"y\": 80\r\n                },\r\n                \"z\": 0,\r\n                \"embeds\": []\r\n            },\r\n            \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\": {\r\n                \"size\": {\r\n                    \"width\": 60,\r\n                    \"height\": 60\r\n                },\r\n                \"position\": {\r\n                    \"x\": 430,\r\n                    \"y\": 80\r\n                },\r\n                \"z\": 0\r\n            }\r\n        }\r\n    },\r\n    \"Resources\": {\r\n        \"EMRC1YFGX\": {\r\n            \"Type\": \"AWS::EMR::Cluster\",\r\n            \"Properties\": {\r\n                \"ReleaseLabel\": \"emr-5.30.0\",\r\n                \"Instances\": {\r\n                    \"MasterInstanceGroup\": {\r\n                        \"InstanceCount\": 1,\r\n                        \"InstanceType\": \"m5.xlarge\"\r\n                    },\r\n                    \"CoreInstanceGroup\": {\r\n                        \"InstanceCount\": 1,\r\n                        \"InstanceType\": \"m5.xlarge\"\r\n                    }\r\n                },\r\n                \"Name\": \"Tupac\",\r\n                \"JobFlowRole\": \"arn:aws:iam::261537044157:instance-profile/EMR_EC2_DefaultRole\",\r\n                \"ServiceRole\": \"arn:aws:iam::261537044157:role/shubhamam\"\r\n            },\r\n            \"Metadata\": {\r\n                \"AWS::CloudFormation::Designer\": {\r\n                    \"id\": \"0146279a-ddf6-40fa-bf45-612cebe20c3f\"\r\n                }\r\n            }\r\n        },\r\n        \"CWA2VB7L\": {\r\n            \"Type\": \"AWS::CloudWatch::Alarm\",\r\n            \"Properties\": {\r\n                \"AlarmName\": \"alarm101\",\r\n                \"AlarmActions\": [\"arn:aws:sns:us-east-1:2615370449570:emr_idle_notification\"],\r\n                \"ComparisonOperator\": \"GreaterThanOrEqualToThreshold\",\r\n                \"Dimensions\": [\r\n                    {\r\n                        \"Name\": \"JobflowId\",\r\n                        \"Value\": {\"Ref\": \"EMRC1YFGX\"}\r\n                    }\r\n                ],\r\n                \"EvaluationPeriods\": 1,\r\n                \"MetricName\": \"IsIdle\",\r\n                \"Namespace\": \"AWS/ElasticMapReduce\",\r\n                \"Period\": 300,\r\n                \"Statistic\": \"Minimum\",\r\n                \"Threshold\": 1,\r\n            },\r\n            \"Metadata\": {\r\n                \"AWS::CloudFormation::Designer\": {\r\n                    \"id\": \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nI am using the above cloudformation template for creating my EMR cluster and for Cloudwatch alarm. if i create a normal alarm from console than it works correctly but while creating while cloudformation it don't works.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "{ \"AWSTemplateFormatVersion\": \"2010-09-09\", \"Metadata\": { \"AWS::CloudFormation::Designer\": { \"0146279a-ddf6-40fa-bf45-612cebe20c3f\": { \"size\": { \"width\": 60, \"height\": 60 }, \"position\": { \"x\": 290, \"y\": 80 }, \"z\": 0, \"embeds\": [] }, \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\": { \"size\": { \"width\": 60, \"height\": 60 }, \"position\": { \"x\": 430, \"y\": 80 }, \"z\": 0 } } }, \"Resources\": { \"EMRC1YFGX\": { \"Type\": \"AWS::EMR::Cluster\", \"Properties\": { \"ReleaseLabel\": \"emr-5.30.0\", \"Instances\": { \"MasterInstanceGroup\": { \"InstanceCount\": 1, \"InstanceType\": \"m5.xlarge\" }, \"CoreInstanceGroup\": { \"InstanceCount\": 1, \"InstanceType\": \"m5.xlarge\" } }, \"Name\": \"Tupac\", \"JobFlowRole\": \"arn:aws:iam::261537044157:instance-profile/EMR_EC2_DefaultRole\", \"ServiceRole\": \"arn:aws:iam::261537044157:role/shubhamam\" }, \"Metadata\": { \"AWS::CloudFormation::Designer\": { \"id\": \"0146279a-ddf6-40fa-bf45-612cebe20c3f\" } } }, \"CWA2VB7L\": { \"Type\": \"AWS::CloudWatch::Alarm\", \"Properties\": { \"AlarmName\": \"alarm101\", \"AlarmActions\": [\"arn:aws:sns:us-east-1:2615370449570:emr_idle_notification\"], \"ComparisonOperator\": \"GreaterThanOrEqualToThreshold\", \"Dimensions\": [ { \"Name\": \"JobflowId\", \"Value\": {\"Ref\": \"EMRC1YFGX\"} } ], \"EvaluationPeriods\": 1, \"MetricName\": \"IsIdle\", \"Namespace\": \"AWS/ElasticMapReduce\", \"Period\": 300, \"Statistic\": \"Minimum\", \"Threshold\": 1, }, \"Metadata\": { \"AWS::CloudFormation::Designer\": { \"id\": \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\" ", "keywords": ["instance", "cluster"]}, {"source": "Text", "text": "} } } } } I am using the above cloudformation template for creating my EMR cluster and for Cloudwatch alarm", "keywords": ["cluster"]}]}, {"Id": "222267193", "PostHistoryTypeId": "1", "PostId": "61949862", "RevisionGUID": "810718ce-4585-4de2-b281-4c176403daa3", "CreationDate": "2020-05-22T07:29:23.330", "UserId": "13594786", "Text": "AWS cloudwatch alarm can't access data from EMR cluster metrices when formed by cloudformation template", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "AWS cloudwatch alarm can't access data from EMR cluster metrices when formed by cloudformation template", "keywords": ["cluster"]}]}, {"Id": "222267194", "PostHistoryTypeId": "3", "PostId": "61949862", "RevisionGUID": "810718ce-4585-4de2-b281-4c176403daa3", "CreationDate": "2020-05-22T07:29:23.330", "UserId": "13594786", "Text": "|amazon-web-services|aws-cloudformation|amazon-emr|amazon-cloudwatch|", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "222267386", "PostHistoryTypeId": "5", "PostId": "61949862", "RevisionGUID": "6cc00a06-fb40-4e54-aa3f-a13a33634994", "CreationDate": "2020-05-22T07:32:08.630", "UserId": "248823", "Comment": "added 324 characters in body", "Text": "    {\r\n        \"AWSTemplateFormatVersion\": \"2010-09-09\",\r\n        \"Metadata\": {\r\n            \"AWS::CloudFormation::Designer\": {\r\n                \"0146279a-ddf6-40fa-bf45-612cebe20c3f\": {\r\n                    \"size\": {\r\n                        \"width\": 60,\r\n                        \"height\": 60\r\n                    },\r\n                    \"position\": {\r\n                        \"x\": 290,\r\n                        \"y\": 80\r\n                    },\r\n                    \"z\": 0,\r\n                    \"embeds\": []\r\n                },\r\n                \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\": {\r\n                    \"size\": {\r\n                        \"width\": 60,\r\n                        \"height\": 60\r\n                    },\r\n                    \"position\": {\r\n                        \"x\": 430,\r\n                        \"y\": 80\r\n                    },\r\n                    \"z\": 0\r\n                }\r\n            }\r\n        },\r\n        \"Resources\": {\r\n            \"EMRC1YFGX\": {\r\n                \"Type\": \"AWS::EMR::Cluster\",\r\n                \"Properties\": {\r\n                    \"ReleaseLabel\": \"emr-5.30.0\",\r\n                    \"Instances\": {\r\n                        \"MasterInstanceGroup\": {\r\n                            \"InstanceCount\": 1,\r\n                            \"InstanceType\": \"m5.xlarge\"\r\n                        },\r\n                        \"CoreInstanceGroup\": {\r\n                            \"InstanceCount\": 1,\r\n                            \"InstanceType\": \"m5.xlarge\"\r\n                        }\r\n                    },\r\n                    \"Name\": \"Tupac\",\r\n                    \"JobFlowRole\": \"arn:aws:iam::261537044157:instance-profile/EMR_EC2_DefaultRole\",\r\n                    \"ServiceRole\": \"arn:aws:iam::261537044157:role/shubhamam\"\r\n                },\r\n                \"Metadata\": {\r\n                    \"AWS::CloudFormation::Designer\": {\r\n                        \"id\": \"0146279a-ddf6-40fa-bf45-612cebe20c3f\"\r\n                    }\r\n                }\r\n            },\r\n            \"CWA2VB7L\": {\r\n                \"Type\": \"AWS::CloudWatch::Alarm\",\r\n                \"Properties\": {\r\n                    \"AlarmName\": \"alarm101\",\r\n                    \"AlarmActions\": [\"arn:aws:sns:us-east-1:2615370449570:emr_idle_notification\"],\r\n                    \"ComparisonOperator\": \"GreaterThanOrEqualToThreshold\",\r\n                    \"Dimensions\": [\r\n                        {\r\n                            \"Name\": \"JobflowId\",\r\n                            \"Value\": {\"Ref\": \"EMRC1YFGX\"}\r\n                        }\r\n                    ],\r\n                    \"EvaluationPeriods\": 1,\r\n                    \"MetricName\": \"IsIdle\",\r\n                    \"Namespace\": \"AWS/ElasticMapReduce\",\r\n                    \"Period\": 300,\r\n                    \"Statistic\": \"Minimum\",\r\n                    \"Threshold\": 1,\r\n                },\r\n                \"Metadata\": {\r\n                    \"AWS::CloudFormation::Designer\": {\r\n                        \"id\": \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\"\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI am using the above cloudformation template for creating my EMR cluster and for Cloudwatch alarm. if i create a normal alarm from console than it works correctly but while creating while cloudformation it don't works.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "{ \"AWSTemplateFormatVersion\": \"2010-09-09\", \"Metadata\": { \"AWS::CloudFormation::Designer\": { \"0146279a-ddf6-40fa-bf45-612cebe20c3f\": { \"size\": { \"width\": 60, \"height\": 60 }, \"position\": { \"x\": 290, \"y\": 80 }, \"z\": 0, \"embeds\": [] }, \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\": { \"size\": { \"width\": 60, \"height\": 60 }, \"position\": { \"x\": 430, \"y\": 80 }, \"z\": 0 } } }, \"Resources\": { \"EMRC1YFGX\": { \"Type\": \"AWS::EMR::Cluster\", \"Properties\": { \"ReleaseLabel\": \"emr-5.30.0\", \"Instances\": { \"MasterInstanceGroup\": { \"InstanceCount\": 1, \"InstanceType\": \"m5.xlarge\" }, \"CoreInstanceGroup\": { \"InstanceCount\": 1, \"InstanceType\": \"m5.xlarge\" } }, \"Name\": \"Tupac\", \"JobFlowRole\": \"arn:aws:iam::261537044157:instance-profile/EMR_EC2_DefaultRole\", \"ServiceRole\": \"arn:aws:iam::261537044157:role/shubhamam\" }, \"Metadata\": { \"AWS::CloudFormation::Designer\": { \"id\": \"0146279a-ddf6-40fa-bf45-612cebe20c3f\" } } }, \"CWA2VB7L\": { \"Type\": \"AWS::CloudWatch::Alarm\", \"Properties\": { \"AlarmName\": \"alarm101\", \"AlarmActions\": [\"arn:aws:sns:us-east-1:2615370449570:emr_idle_notification\"], \"ComparisonOperator\": \"GreaterThanOrEqualToThreshold\", \"Dimensions\": [ { \"Name\": \"JobflowId\", \"Value\": {\"Ref\": \"EMRC1YFGX\"} } ], \"EvaluationPeriods\": 1, \"MetricName\": \"IsIdle\", \"Namespace\": \"AWS/ElasticMapReduce\", \"Period\": 300, \"Statistic\": \"Minimum\", \"Threshold\": 1, }, \"Metadata\": { \"AWS::CloudFormation::Designer\": { \"id\": \"f53318cc-f7a9-4e0b-9d22-7de325b7409d\" ", "keywords": ["instance", "cluster"]}, {"source": "Text", "text": "} } } } } I am using the above cloudformation template for creating my EMR cluster and for Cloudwatch alarm", "keywords": ["cluster"]}]}], "answers": [{"Id": "61950861", "PostTypeId": "2", "ParentId": "61949862", "CreationDate": "2020-05-22T08:31:42.670", "Score": "0", "Body": "<p>The apparent issue is the use of <code>JobflowId</code> instead of <code>JobFlowId</code>. </p>\n\n<p>This is because dimension names are <strong>case-sensitive</strong>.</p>\n\n<p>I could not find documentation about case-sensitivity of dimension names in CloudWatch, thus I <strong>tested this</strong> myself by creating two alarms. </p>\n\n<p>One alarm was based on correctly spelled dimension name <code>AmazonEC2</code> (Billing metric). Second alarm was based on in-correctly spelled spelled name: <code>AmazonEc2</code>. Everything else was same between the two alarms. </p>\n\n<p>I found that the alarm with the incorrect name got stack in <strong>INSUFFICIENT</strong> sate . This is the same state which OP reports. </p>\n\n<p>A screenshot of the alarms (cost blacked out):</p>\n\n<p><a href=\"https://i.stack.imgur.com/kVEKh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kVEKh.png\" alt=\"enter image description here\"></a></p>\n", "OwnerUserId": "248823", "LastEditorUserId": "248823", "LastEditDate": "2020-05-22T08:48:54.413", "LastActivityDate": "2020-05-22T08:48:54.413", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "222272258", "PostHistoryTypeId": "5", "PostId": "61950861", "RevisionGUID": "8b20eb68-61d9-4636-bcee-cf535a3a82a4", "CreationDate": "2020-05-22T08:48:54.413", "UserId": "248823", "Comment": "added 55 characters in body", "Text": "The apparent issue is the use of `JobflowId` instead of `JobFlowId`. \r\n\r\nThis is because dimension names are **case-sensitive**.\r\n\r\nI could not find documentation about case-sensitivity of dimension names in CloudWatch, thus I **tested this** myself by creating two alarms. \r\n\r\nOne alarm was based on correctly spelled dimension name `AmazonEC2` (Billing metric). Second alarm was based on in-correctly spelled spelled name: `AmazonEc2`. Everything else was same between the two alarms. \r\n\r\nI found that the alarm with the incorrect name got stack in **INSUFFICIENT** sate . This is the same state which OP reports. \r\n\r\n\r\nA screenshot of the alarms (cost blacked out):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kVEKh.png", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I could not find documentation about case-sensitivity of dimension names in CloudWatch, thus I **tested this** myself by creating two alarms. ", "keywords": ["test"]}, {"source": "Text", "text": "A screenshot of the alarms (cost blacked out): [![enter image description here][1]][1] [1]: https://i.stack.imgur.com/kVEKh.png", "keywords": ["cost"]}]}, {"Id": "222271083", "PostHistoryTypeId": "2", "PostId": "61950861", "RevisionGUID": "ad677f96-a186-44bc-b841-a462e295c359", "CreationDate": "2020-05-22T08:31:42.670", "UserId": "248823", "Text": "The apparent issue is the use of `JobflowId` instead of `JobFlowId`. \r\n\r\nI could not find documentation about case-sensitivity of dimension names in CloudWatch, thus I **tested this** myself by creating two alarms. \r\n\r\nOne alarm was based on **correctly spelled** dimension name `AmazonEC2` (Billing metric). Second alarm was based on **in-correctly spelled** spelled name: `AmazonEc2`. Everything else was same between the two alarms. \r\n\r\nI found that the alarm with the incorrect name got stack in **INSUFFICIENT** sate . This is the same state which OP reports. \r\n\r\n\r\nA screenshot of the alarms (cost blacked out):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kVEKh.png", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I could not find documentation about case-sensitivity of dimension names in CloudWatch, thus I **tested this** myself by creating two alarms. ", "keywords": ["test"]}, {"source": "Text", "text": "A screenshot of the alarms (cost blacked out): [![enter image description here][1]][1] [1]: https://i.stack.imgur.com/kVEKh.png", "keywords": ["cost"]}]}], "filtered-sentences": [{"source": "Body", "text": "I could not find documentation about case-sensitivity of dimension names in CloudWatch, thus I tested this myself by creating two alarms. ", "keywords": ["test"]}, {"source": "Body", "text": "A screenshot of the alarms (cost blacked out):", "keywords": ["cost"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Title", "text": "AWS cloudwatch alarm can't access data from EMR cluster metrices when formed by cloudformation template", "keywords": ["cluster"]}, {"source": "Body", "text": "I am using the above cloudformation template for creating my EMR cluster and for Cloudwatch alarm. ", "keywords": ["cluster"]}]}