{"Id": "55260477", "PostTypeId": "1", "CreationDate": "2019-03-20T12:11:13.257", "Score": "0", "ViewCount": "144", "Body": "<p>I have the below script in simpleCFN.template.</p>\n\n<pre><code> {\n  \"AWSTemplateFormatVersion\" : \"2010-09-09\",\n\n  \"Description\" : \"AWS CloudFormation Sample Template  You will be billed for the AWS resources used if you create a stack from this template.\",\n\n\n  \"Resources\" : {\n    \"EC2Instance\" : {\n      \"Type\" : \"AWS::EC2::Instance\",\n      \"Properties\" : {\n        \"InstanceType\" : \"t2.medium\",\n        \"ImageId\" : \"ami-0d5299b1c6112c3c7\"\n      }\n    },\n\n\n    \"AnotherEC2Instance\" : {\n      \"Type\" : \"AWS::EC2::Instance\",\n      \"Properties\" : {\n        \"InstanceType\" : \"t2.medium\" ,\n        \"ImageId\" : \"ami-0d5299b1c6112c3c7\"\n      }\n    },\n\n    \"ThirdEC2Instance\" : {\n      \"Type\" : \"AWS::EC2::Instance\",\n      \"Properties\" : {\n        \"InstanceType\" : \"t2.medium\" ,\n        \"ImageId\" : \"ami-0d5299b1c6112c3c7\"\n      }\n    },\n\n    \"Prodcamksaimb02050731627ecshpcom\" : {\n        \"Type\" : \"AWS::EC2::Instance\",\n        \"Properties\" : {\n            \"InstanceType\" : \"c5.18xlarge\" ,\n            \"ImageId\" : \"ami-0d5299b1c6112c3c7\"\n        }\n    },\n\n  },\n\n}\n</code></pre>\n\n<p>I executed the command on AWS CLI</p>\n\n<p><code>aws cloudformation estimate-template-cost --template-body file://simpleCFN.template --region us-west-2</code></p>\n\n<p>I got the error</p>\n\n<p><code>An error occurred (ValidationError) when calling the EstimateTemplateCost operation: c5.18xlarge is an invalid InstanceType value</code></p>\n\n<p>But when selecting the same instancetype (c5.18xlarge) on simple monthly calculator, I am able to add that type in site.</p>\n\n<p>Why is the error appearing?</p>\n", "OwnerUserId": "11230358", "LastActivityDate": "2019-03-20T16:01:27.950", "Title": "Why does configuring an instance in AWS cloudformation template throw an error while it is accepted in Simple Monthly calculator", "Tags": "|amazon-web-services|aws-cloudformation|", "AnswerCount": "1", "CommentCount": "1", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "97253285", "PostId": "55260477", "Score": "1", "Text": "Not all instance types are available under all images. For example, the m1.large type is available in US-EAST under the SUSE Linux Enterprise Server 11 image, however it is not available under the Cluster Compute Amazon Linux AMI 2012.09.1 image. Depending on the image that your using, you may need to choose a different type that matches the parameter that most closely meet your needs.", "CreationDate": "2019-03-20T12:39:27.683", "UserId": "3055269", "filtered-sentences": [{"source": "Text", "text": "Not all instance types are available under all images. ", "keywords": ["instance"]}, {"source": "Text", "text": "For example, the m1.large type is available in US-EAST under the SUSE Linux Enterprise Server 11 image, however it is not available under the Cluster Compute Amazon Linux AMI 2012.09.1 image. ", "keywords": ["cluster"]}]}], "history": [{"Id": "194028456", "PostHistoryTypeId": "2", "PostId": "55260477", "RevisionGUID": "4cbe3afa-5171-43a1-a6ba-92d96052ab29", "CreationDate": "2019-03-20T12:11:13.257", "UserId": "11230358", "Text": "I have the below script in simpleCFN.template.\r\n\r\n     {\r\n      \"AWSTemplateFormatVersion\" : \"2010-09-09\",\r\n    \r\n      \"Description\" : \"AWS CloudFormation Sample Template  You will be billed for the AWS resources used if you create a stack from this template.\",\r\n    \r\n    \r\n      \"Resources\" : {\r\n        \"EC2Instance\" : {\r\n          \"Type\" : \"AWS::EC2::Instance\",\r\n          \"Properties\" : {\r\n            \"InstanceType\" : \"t2.medium\",\r\n            \"ImageId\" : \"ami-0d5299b1c6112c3c7\"\r\n          }\r\n        },\r\n    \r\n    \r\n        \"AnotherEC2Instance\" : {\r\n          \"Type\" : \"AWS::EC2::Instance\",\r\n          \"Properties\" : {\r\n            \"InstanceType\" : \"t2.medium\" ,\r\n            \"ImageId\" : \"ami-0d5299b1c6112c3c7\"\r\n          }\r\n        },\r\n        \r\n        \"ThirdEC2Instance\" : {\r\n          \"Type\" : \"AWS::EC2::Instance\",\r\n          \"Properties\" : {\r\n            \"InstanceType\" : \"t2.medium\" ,\r\n            \"ImageId\" : \"ami-0d5299b1c6112c3c7\"\r\n          }\r\n        },\r\n    \r\n        \"Prodcamksaimb02050731627ecshpcom\" : {\r\n            \"Type\" : \"AWS::EC2::Instance\",\r\n            \"Properties\" : {\r\n                \"InstanceType\" : \"c5.18xlarge\" ,\r\n                \"ImageId\" : \"ami-0d5299b1c6112c3c7\"\r\n            }\r\n        },\r\n       \r\n      },\r\n    \r\n    }\r\n\r\nI executed the command on AWS CLI\r\n\r\n`aws cloudformation estimate-template-cost --template-body file://simpleCFN.template --region us-west-2`\r\n\r\nI got the error\r\n\r\n `An error occurred (ValidationError) when calling the EstimateTemplateCost operation: c5.18xlarge is an invalid InstanceType value`\r\n\r\nBut when selecting the same instancetype (c5.18xlarge) on simple monthly calculator, I am able to add that type in site.\r\n\r\nWhy is the error appearing?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "You will be billed for the AWS resources used if you create a stack from this template.\", \"Resources\" : { \"EC2Instance\" : { \"Type\" : \"AWS::EC2::Instance\", \"Properties\" : { \"InstanceType\" : \"t2.medium\", \"ImageId\" : \"ami-0d5299b1c6112c3c7\" } }, \"AnotherEC2Instance\" : { \"Type\" : \"AWS::EC2::Instance\", \"Properties\" : { \"InstanceType\" : \"t2.medium\" , \"ImageId\" : \"ami-0d5299b1c6112c3c7\" } }, \"ThirdEC2Instance\" : { \"Type\" : \"AWS::EC2::Instance\", \"Properties\" : { \"InstanceType\" : \"t2.medium\" , \"ImageId\" : \"ami-0d5299b1c6112c3c7\" } }, \"Prodcamksaimb02050731627ecshpcom\" : { \"Type\" : \"AWS::EC2::Instance\", \"Properties\" : { \"InstanceType\" : \"c5.18xlarge\" , \"ImageId\" : \"ami-0d5299b1c6112c3c7\" } }, }, } I executed the command on AWS CLI `aws cloudformation estimate-template-cost --template-body file://simpleCFN.template --region us-west-2` ", "keywords": ["bill", "cost", "instance"]}]}, {"Id": "194028457", "PostHistoryTypeId": "1", "PostId": "55260477", "RevisionGUID": "4cbe3afa-5171-43a1-a6ba-92d96052ab29", "CreationDate": "2019-03-20T12:11:13.257", "UserId": "11230358", "Text": "Why does configuring an instance in AWS cloudformation template throw an error while it is accepted in Simple Monthly calculator", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Why does configuring an instance in AWS cloudformation template throw an error while it is accepted in Simple Monthly calculator", "keywords": ["instance"]}]}, {"Id": "194028458", "PostHistoryTypeId": "3", "PostId": "55260477", "RevisionGUID": "4cbe3afa-5171-43a1-a6ba-92d96052ab29", "CreationDate": "2019-03-20T12:11:13.257", "UserId": "11230358", "Text": "|amazon-web-services|aws-cloudformation|", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "55261079", "PostTypeId": "2", "ParentId": "55260477", "CreationDate": "2019-03-20T12:44:07.857", "Score": "0", "Body": "<p>The first comment is valid.  However, I tried your template by just replacing the AMI ID to the Amazon Linux AMI ID for that region.  I also removed the extra coma at the end.  I can reproduce this in all regions I tried.  I don't think this related to the AMI ID.</p>\n\n<p>The exact error message is : </p>\n\n<pre><code>An error occurred (ValidationError) when calling the EstimateTemplateCost operation: c5.18xlarge is an invalid InstanceType value. Valid values are [c1.medium, c1.xlarge, c3.2xlarge, c3.4xlarge, c3.8xlarge, c3.large, c3.xlarge, c4.2xlarge, c4.4xlarge, c4.8xlarge, c4.large, c4.xlarge, cc1.4xlarge, cc2.8xlarge, cg1.4xlarge, cr1.8xlarge, d2.2xlarge, d2.4xlarge, d2.8xlarge, d2.xlarge, f1.16xlarge, f1.2xlarge, g2.2xlarge, g2.8xlarge, hi1.4xlarge, hs1.8xlarge, i2.2xlarge, i2.4xlarge, i2.8xlarge, i2.xlarge, i3.16xlarge, i3.2xlarge, i3.4xlarge, i3.8xlarge, i3.large, i3.xlarge, m1.large, m1.medium, m1.small, m1.xlarge, m2.2xlarge, m2.4xlarge, m2.xlarge, m3.2xlarge, m3.large, m3.medium, m3.xlarge, m4.10xlarge, m4.16xlarge, m4.2xlarge, m4.4xlarge, m4.large, m4.xlarge, p2.16xlarge, p2.8xlarge, p2.xlarge, r3.2xlarge, r3.4xlarge, r3.8xlarge, r3.large, r3.xlarge, r4.16xlarge, r4.2xlarge, r4.4xlarge, r4.8xlarge, r4.large, r4.xlarge, t1.micro, t2.2xlarge, t2.large, t2.medium, t2.micro, t2.nano, t2.small, t2.xlarge, x1.16xlarge, x1.32xlarge]\n</code></pre>\n\n<p>c5.xx are not accepted values yet. AWS team knows about this, there is no estimated completion date yet.</p>\n", "OwnerUserId": "663360", "LastEditorUserId": "663360", "LastEditDate": "2019-03-20T16:01:27.950", "LastActivityDate": "2019-03-20T16:01:27.950", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "194030842", "PostHistoryTypeId": "2", "PostId": "55261079", "RevisionGUID": "441bb6c5-baea-4620-b997-653a86a2f39a", "CreationDate": "2019-03-20T12:44:07.857", "UserId": "663360", "Text": "The first comment is valid.  However, I tried your template by just replacing the AMI ID to the Amazon Linux AMI ID for that region.  I also removed the extra coma at the end.  I can reproduce this in all regions I tried.  I don't think this related to the AMI ID.\r\n\r\nThe exact error message is : \r\n\r\n```\r\nAn error occurred (ValidationError) when calling the EstimateTemplateCost operation: c5.18xlarge is an invalid InstanceType value. Valid values are [c1.medium, c1.xlarge, c3.2xlarge, c3.4xlarge, c3.8xlarge, c3.large, c3.xlarge, c4.2xlarge, c4.4xlarge, c4.8xlarge, c4.large, c4.xlarge, cc1.4xlarge, cc2.8xlarge, cg1.4xlarge, cr1.8xlarge, d2.2xlarge, d2.4xlarge, d2.8xlarge, d2.xlarge, f1.16xlarge, f1.2xlarge, g2.2xlarge, g2.8xlarge, hi1.4xlarge, hs1.8xlarge, i2.2xlarge, i2.4xlarge, i2.8xlarge, i2.xlarge, i3.16xlarge, i3.2xlarge, i3.4xlarge, i3.8xlarge, i3.large, i3.xlarge, m1.large, m1.medium, m1.small, m1.xlarge, m2.2xlarge, m2.4xlarge, m2.xlarge, m3.2xlarge, m3.large, m3.medium, m3.xlarge, m4.10xlarge, m4.16xlarge, m4.2xlarge, m4.4xlarge, m4.large, m4.xlarge, p2.16xlarge, p2.8xlarge, p2.xlarge, r3.2xlarge, r3.4xlarge, r3.8xlarge, r3.large, r3.xlarge, r4.16xlarge, r4.2xlarge, r4.4xlarge, r4.8xlarge, r4.large, r4.xlarge, t1.micro, t2.2xlarge, t2.large, t2.medium, t2.micro, t2.nano, t2.small, t2.xlarge, x1.16xlarge, x1.32xlarge]\r\n```\r\n\r\nI think c5.xx are not accepted values yet.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "194047443", "PostHistoryTypeId": "5", "PostId": "55261079", "RevisionGUID": "c338c28c-5b4e-48fc-bdd7-fdc632e6872d", "CreationDate": "2019-03-20T16:01:27.950", "UserId": "663360", "Comment": "added 70 characters in body", "Text": "The first comment is valid.  However, I tried your template by just replacing the AMI ID to the Amazon Linux AMI ID for that region.  I also removed the extra coma at the end.  I can reproduce this in all regions I tried.  I don't think this related to the AMI ID.\r\n\r\nThe exact error message is : \r\n\r\n```\r\nAn error occurred (ValidationError) when calling the EstimateTemplateCost operation: c5.18xlarge is an invalid InstanceType value. Valid values are [c1.medium, c1.xlarge, c3.2xlarge, c3.4xlarge, c3.8xlarge, c3.large, c3.xlarge, c4.2xlarge, c4.4xlarge, c4.8xlarge, c4.large, c4.xlarge, cc1.4xlarge, cc2.8xlarge, cg1.4xlarge, cr1.8xlarge, d2.2xlarge, d2.4xlarge, d2.8xlarge, d2.xlarge, f1.16xlarge, f1.2xlarge, g2.2xlarge, g2.8xlarge, hi1.4xlarge, hs1.8xlarge, i2.2xlarge, i2.4xlarge, i2.8xlarge, i2.xlarge, i3.16xlarge, i3.2xlarge, i3.4xlarge, i3.8xlarge, i3.large, i3.xlarge, m1.large, m1.medium, m1.small, m1.xlarge, m2.2xlarge, m2.4xlarge, m2.xlarge, m3.2xlarge, m3.large, m3.medium, m3.xlarge, m4.10xlarge, m4.16xlarge, m4.2xlarge, m4.4xlarge, m4.large, m4.xlarge, p2.16xlarge, p2.8xlarge, p2.xlarge, r3.2xlarge, r3.4xlarge, r3.8xlarge, r3.large, r3.xlarge, r4.16xlarge, r4.2xlarge, r4.4xlarge, r4.8xlarge, r4.large, r4.xlarge, t1.micro, t2.2xlarge, t2.large, t2.medium, t2.micro, t2.nano, t2.small, t2.xlarge, x1.16xlarge, x1.32xlarge]\r\n```\r\n\r\nc5.xx are not accepted values yet. AWS team knows about this, there is no estimated completion date yet.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": [{"source": "Title", "text": "Why does configuring an instance in AWS cloudformation template throw an error while it is accepted in Simple Monthly calculator", "keywords": ["instance"]}, {"source": "Body", "text": "I executed the command on AWS CLI aws cloudformation estimate-template-cost --template-body file://simpleCFN.template --region us-west-2 I got the error An error occurred (ValidationError) when calling the EstimateTemplateCost operation: c5.18xlarge is an invalid InstanceType value ", "keywords": ["cost"]}]}